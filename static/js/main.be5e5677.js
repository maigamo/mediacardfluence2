(()=>{"use strict";var e,t,a,o,r,i={9276:(e,t,a)=>{var o=a(5043),r=a(4391),i=a(6240),n=a(344),l=a(8903),s=a(1e3),d=a(5376),c=a(2314),h=a(7224),u=a(5263),g=a(5865),x=a(7392),m=a(7739),p=a(295),f=a(5721),b=a(1322),w=a(9307),y=a(8094),v=a(6191),A=a(9611),j=a(4802),S=a(6472),C=a(7344),k=a(5490);const M={appTitle:"社交媒体名片生成器",toggleDarkMode:"切换到暗色模式",toggleLightMode:"切换到亮色模式",githubRepo:"GitHub 仓库",contactMe:"联系我",wechatContact:"微信联系",emailContact:"邮箱联系",socialMediaData:"社交媒体数据",totalFollowers:"总粉丝数",updatedAt:"更新于",resetData:"重置数据",adaptToScreen:"适应屏幕",exportCard:"导出图片",exportingCard:"导出中",contactWay:"联系方式",inputYourData:"输入您的社交媒体数据",contactInfoType:"联系方式类型",wechatId:"微信号",email:"邮箱",showMorePlatforms:"显示更多平台",resetAll:"重置所有数据",followers:"粉丝",fansPlaceholder:"您可以在此添加粉丝人数",wechatPlaceholder:"您可以在此添加联系微信，如mediacardfluence2888",emailPlaceholder:"您可以在此添加联系邮箱，如mediacardfluence2@example.com",cardSettings:"卡片设置",cardTitle:"我的自媒体",morePlatforms:"显示更多平台",remaining:"个",viewSourceCode:"查看源代码和项目详情",aspectRatio:"宽高比",custom:"自定义",cardSize:"卡片大小",width:"宽度",height:"高度",borderRadius:"边框圆角",iconSize:"图标大小",font:"字体",backgroundColor:"背景颜色",textColor:"文字颜色",watermarkSettings:"水印设置",showWatermark:"显示水印",watermarkText:"水印文字",watermarkPosition:"水印位置",opacity:"透明度",fontSize:"字体大小",watermarkColor:"水印颜色",exportSettings:"导出设置",exportFormat:"导出格式",pngFormat:"PNG (支持透明背景)",jpegFormat:"JPEG (小文件体积)",scale:"缩放比例",quality:"质量",low:"低",medium:"中",high:"高",bottomRight:"右下角",bottomLeft:"左下角",topRight:"右上角",topLeft:"左上角",center:"居中",totalFollowersText:"总粉丝",sizeOverrides:"尺寸调整"},I={appTitle:"Social Media Card Generator",toggleDarkMode:"Switch to Dark Mode",toggleLightMode:"Switch to Light Mode",githubRepo:"GitHub Repository",contactMe:"Contact me",wechatContact:"WeChat Contact",emailContact:"Email Contact",socialMediaData:"Social Media Data",totalFollowers:"Total Followers",updatedAt:"Updated at",resetData:"Reset Data",adaptToScreen:"Adapt to Screen",exportCard:"Export Image",exportingCard:"Exporting",contactWay:"Contact Method",inputYourData:"Enter Your Social Media Data",contactInfoType:"Contact Info Type",wechatId:"WeChat ID",email:"Email",showMorePlatforms:"Show More Platforms",resetAll:"Reset All Data",followers:"followers",fansPlaceholder:"Add your number of followers here",wechatPlaceholder:"Add your WeChat ID here, like mediacardfluence2888",emailPlaceholder:"Add your email here, like mediacardfluence2@example.com",cardSettings:"Card Settings",cardTitle:"My Social Media",morePlatforms:"Show More Platforms",remaining:"",viewSourceCode:"View source code and project details",aspectRatio:"Aspect Ratio",custom:"Custom",cardSize:"Card Size",width:"Width",height:"Height",borderRadius:"Border Radius",iconSize:"Icon Size",font:"Font",backgroundColor:"Background Color",textColor:"Text Color",watermarkSettings:"Watermark Settings",showWatermark:"Show Watermark",watermarkText:"Watermark Text",watermarkPosition:"Watermark Position",opacity:"Opacity",fontSize:"Font Size",watermarkColor:"Watermark Color",exportSettings:"Export Settings",exportFormat:"Export Format",pngFormat:"PNG (Transparent Background)",jpegFormat:"JPEG (Small File Size)",scale:"Scale",quality:"Quality",low:"Low",medium:"Medium",high:"High",bottomRight:"Bottom Right",bottomLeft:"Bottom Left",topRight:"Top Right",topLeft:"Top Left",center:"Center",totalFollowersText:"Total Followers",sizeOverrides:"Size Overrides"};var z=a(579);const R=(0,o.createContext)(void 0),P=()=>{const e=(0,o.useContext)(R);if(!e)throw new Error("useThemeContext must be used within a ThemeContextProvider");return e},F=e=>{let{children:t}=e;const[a,r]=(0,o.useState)("light"),[i,n]=(0,o.useState)("zh");(0,o.useEffect)((()=>{r((()=>{const e=localStorage.getItem("theme");return"light"===e||"dark"===e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"})()),n((()=>{const e=localStorage.getItem("language");return"zh"===e||"en"===e?e:navigator.language.toLowerCase().startsWith("zh")?"zh":"en"})())}),[]),(0,o.useEffect)((()=>{localStorage.setItem("theme",a),document.documentElement.setAttribute("data-theme",a)}),[a]),(0,o.useEffect)((()=>{localStorage.setItem("language",i),document.documentElement.setAttribute("lang",i)}),[i]);const l=(0,o.useMemo)((()=>(0,C.A)({palette:{mode:a,primary:{main:"#1976d2"},secondary:{main:"#9c27b0"},background:{default:"light"===a?"#f5f5f5":"#121212",paper:"light"===a?"#ffffff":"#1e1e1e"},text:{primary:"light"===a?"#212121":"#e0e0e0",secondary:"light"===a?"#757575":"#9e9e9e"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8,fontWeight:600}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"}}}}})),[a]),s={mode:a,toggleMode:()=>{r((e=>"light"===e?"dark":"light"))},language:i,toggleLanguage:()=>{n((e=>"zh"===e?"en":"zh"))},t:e=>("zh"===i?M:I)[e]||e};return(0,z.jsx)(R.Provider,{value:s,children:(0,z.jsx)(k.A,{theme:l,children:t})})},D=e=>{let{children:t}=e;const[a,r]=(0,o.useState)(!1),i=(0,n.A)("(max-width:600px)"),{mode:l,toggleMode:C,language:k,toggleLanguage:M,t:I}=P(),R="dark"===l;(0,o.useEffect)((()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=document.createElement("canvas");t.width=64,t.height=64;const a=t.getContext("2d");if(!a)return;const o=e?"#90caf9":"#1976D2",r=e?"#ce93d8":"#9c27b0",i=e?"rgba(144, 202, 249, 0.4)":"rgba(0, 0, 0, 0.3)",n=a.createLinearGradient(0,0,64,64);n.addColorStop(0,o),n.addColorStop(1,r),a.shadowColor=i,a.shadowBlur=6,a.shadowOffsetX=0,a.shadowOffsetY=3,a.fillStyle=n,a.beginPath(),a.roundRect(0,0,64,64,16),a.fill(),a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0,a.fillStyle=e?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 0.9)",a.beginPath(),a.roundRect(12,12,40,40,10),a.fill();const l=a.createLinearGradient(20,20,44,44);l.addColorStop(0,o),l.addColorStop(1,r),a.fillStyle=l,a.beginPath(),a.roundRect(20,20,24,24,6),a.fill(),a.fillStyle="rgba(255, 255, 255, 0.3)",a.beginPath(),a.roundRect(20,20,24,12,[6,6,0,0]),a.fill(),a.fillStyle="white",a.beginPath(),a.arc(32,32,5,0,2*Math.PI),a.fill(),a.fillStyle="rgba(255, 255, 255, 0.8)",a.beginPath(),a.arc(30,30,2,0,2*Math.PI),a.fill();const s=t.toDataURL("image/png");let d=document.querySelector("link[rel='icon']");d||(d=document.createElement("link"),d.rel="icon",document.head.appendChild(d)),d.href=s;let c=document.querySelector("link[rel='apple-touch-icon']");c||(c=document.createElement("link"),c.rel="apple-touch-icon",document.head.appendChild(c)),c.href=s}(R)}),[R]);const F=()=>{r(!a)};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.Ay,{}),(0,z.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,z.jsx)(c.A,{position:"static",color:"transparent",elevation:0,sx:{backgroundColor:R?"rgba(18, 18, 18, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid",borderColor:R?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},children:(0,z.jsx)(h.A,{maxWidth:"lg",sx:{px:{xs:1,sm:2,md:3}},children:(0,z.jsxs)(u.A,{disableGutters:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,z.jsx)(s.A,{sx:{display:"flex",alignItems:"center"},children:(0,z.jsx)(g.A,{variant:"h6",component:"div",sx:{fontWeight:700,backgroundImage:R?"linear-gradient(90deg, #90caf9, #ce93d8)":"linear-gradient(90deg, #1976d2, #9c27b0)",backgroundClip:"text",color:"transparent",WebkitBackgroundClip:"text",textShadow:R?"0 0 30px rgba(144, 202, 249, 0.3)":"0 0 30px rgba(25, 118, 210, 0.3)"},children:I("appTitle")})}),(0,z.jsx)(s.A,{sx:{display:"flex",alignItems:"center"},children:i?(0,z.jsx)(x.A,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:F,sx:{color:R?"#f5f5f5":"#555555"},children:(0,z.jsx)(A.A,{})}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(m.A,{title:"zh"===k?"Switch to English":"切换到中文",children:(0,z.jsx)(x.A,{onClick:M,sx:{color:R?"#f5f5f5":"#555555",transition:"transform 0.3s ease, color 0.3s ease","&:hover":{transform:"scale(1.1)",color:R?"#90caf9":"#1976d2"}},children:(0,z.jsx)(S.A,{})})}),(0,z.jsx)(m.A,{title:I(R?"toggleLightMode":"toggleDarkMode"),children:(0,z.jsx)(x.A,{onClick:C,sx:{color:R?"#f5f5f5":"#555555",transition:"transform 0.3s ease, color 0.3s ease",ml:1,"&:hover":{transform:"rotate(30deg)",color:R?"#90caf9":"#1976d2"}},children:R?(0,z.jsx)(y.A,{}):(0,z.jsx)(w.A,{})})}),(0,z.jsx)(m.A,{title:I("githubRepo"),children:(0,z.jsx)(x.A,{component:"a",href:"https://github.com/maigamo/mediaCardfluence2",target:"_blank",sx:{color:R?"#f5f5f5":"#555555",ml:1,transition:"transform 0.3s ease, color 0.3s ease","&:hover":{transform:"scale(1.1)",color:R?"#90caf9":"#1976d2"}},children:(0,z.jsx)(v.A,{})})})]})})]})})}),(0,z.jsxs)(p.Ay,{anchor:"right",open:a,onClose:F,sx:{"& .MuiDrawer-paper":{width:"100%",maxWidth:"300px",background:R?"rgba(18, 18, 18, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)",boxShadow:"0 0 25px rgba(0,0,0,0.3)",borderLeft:"1px solid",borderColor:R?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)"}},children:[(0,z.jsxs)(s.A,{sx:{p:2.5,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid",borderColor:R?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)"},children:[(0,z.jsx)(g.A,{variant:"h6",sx:{fontWeight:700,background:R?"linear-gradient(45deg, #90caf9, #64b5f6, #42a5f5)":"linear-gradient(45deg, #1976d2, #2196f3, #42a5f5)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textFillColor:"transparent",letterSpacing:"0.5px"},children:I("appTitle")}),(0,z.jsx)(x.A,{onClick:F,sx:{color:R?"#f5f5f5":"#555555","&:hover":{backgroundColor:R?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",transform:"rotate(90deg)",transition:"transform 0.3s ease"}},children:(0,z.jsx)(j.A,{})})]}),(0,z.jsxs)(f.A,{sx:{p:2.5},children:[(0,z.jsx)(b.Ay,{sx:{mb:2,p:0},children:(0,z.jsxs)(s.A,{onClick:M,sx:{display:"flex",alignItems:"center",width:"100%",py:1.8,px:2.5,borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",border:"1px solid",borderColor:R?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",bgcolor:R?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.8)",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0,0,0,0.08)","&:hover":{backgroundColor:R?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.03)",transform:"translateY(-3px)",boxShadow:"0 8px 16px rgba(0,0,0,0.12)",borderColor:R?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.12)"}},children:[(0,z.jsx)(s.A,{sx:{mr:2.5,display:"flex",alignItems:"center",justifyContent:"center",width:42,height:42,borderRadius:"12px",background:R?"linear-gradient(135deg, #2196f3, #21cbf3)":"linear-gradient(135deg, #1976d2, #42a5f5)",boxShadow:"0 4px 10px rgba(33, 150, 243, 0.3)"},children:(0,z.jsx)(S.A,{sx:{color:"#fff",fontSize:"1.4rem"}})}),(0,z.jsxs)(s.A,{children:[(0,z.jsx)(g.A,{sx:{fontWeight:600,fontSize:"1rem",mb:.3},children:"zh"===k?"Switch to English":"切换到中文"}),(0,z.jsx)(g.A,{variant:"body2",sx:{color:R?"rgba(255,255,255,0.6)":"rgba(0,0,0,0.6)",fontSize:"0.8rem"},children:"zh"===k?"Change language to English":"将语言切换为中文"})]})]})}),(0,z.jsx)(b.Ay,{sx:{mb:2,p:0},children:(0,z.jsxs)(s.A,{onClick:C,sx:{display:"flex",alignItems:"center",width:"100%",py:1.8,px:2.5,borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",border:"1px solid",borderColor:R?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",bgcolor:R?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.8)",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0,0,0,0.08)","&:hover":{backgroundColor:R?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.03)",transform:"translateY(-3px)",boxShadow:"0 8px 16px rgba(0,0,0,0.12)",borderColor:R?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.12)"}},children:[(0,z.jsx)(s.A,{sx:{mr:2.5,display:"flex",alignItems:"center",justifyContent:"center",width:42,height:42,borderRadius:"12px",background:R?"linear-gradient(135deg, #f9a825, #fdd835)":"linear-gradient(135deg, #546e7a, #78909c)",boxShadow:R?"0 4px 10px rgba(249, 168, 37, 0.3)":"0 4px 10px rgba(84, 110, 122, 0.3)"},children:R?(0,z.jsx)(y.A,{sx:{color:"#fff",fontSize:"1.4rem"}}):(0,z.jsx)(w.A,{sx:{color:"#fff",fontSize:"1.4rem"}})}),(0,z.jsxs)(s.A,{children:[(0,z.jsx)(g.A,{sx:{fontWeight:600,fontSize:"1rem",mb:.3},children:I(R?"toggleLightMode":"toggleDarkMode")}),(0,z.jsx)(g.A,{variant:"body2",sx:{color:R?"rgba(255,255,255,0.6)":"rgba(0,0,0,0.6)",fontSize:"0.8rem"},children:R?"切换到明亮视觉模式":"切换到黑暗视觉模式"})]})]})}),(0,z.jsx)(b.Ay,{sx:{p:0},children:(0,z.jsxs)(s.A,{component:"a",href:"https://github.com/maigamo/mediaCardfluence2",target:"_blank",sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"inherit",width:"100%",py:1.8,px:2.5,borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",border:"1px solid",borderColor:R?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",bgcolor:R?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.8)",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0,0,0,0.08)","&:hover":{backgroundColor:R?"rgba(255,255,255,0.08)":"rgba(0,0,0,0.03)",transform:"translateY(-3px)",boxShadow:"0 8px 16px rgba(0,0,0,0.12)",borderColor:R?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.12)"}},children:[(0,z.jsx)(s.A,{sx:{mr:2.5,display:"flex",alignItems:"center",justifyContent:"center",width:42,height:42,borderRadius:"12px",background:"linear-gradient(135deg, #333333, #555555)",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.25)"},children:(0,z.jsx)(v.A,{sx:{color:"#fff",fontSize:"1.4rem"}})}),(0,z.jsxs)(s.A,{children:[(0,z.jsx)(g.A,{sx:{fontWeight:600,fontSize:"1rem",mb:.3},children:I("githubRepo")}),(0,z.jsx)(g.A,{variant:"body2",sx:{color:R?"rgba(255,255,255,0.6)":"rgba(0,0,0,0.6)",fontSize:"0.8rem"},children:I("viewSourceCode")})]})]})})]}),(0,z.jsx)(s.A,{sx:{p:2.5,mt:"auto",borderTop:"1px solid",borderColor:R?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:(0,z.jsx)(g.A,{variant:"caption",sx:{color:R?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.5)",fontSize:"0.7rem",letterSpacing:"0.5px"},children:"© 2023 MediaCardFluence"})})]}),(0,z.jsx)(h.A,{maxWidth:"lg",sx:{flexGrow:1,py:4,px:{xs:2,sm:3,md:4},display:"flex",flexDirection:"column",transition:"background-color 0.5s ease"},children:(0,z.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%",maxWidth:"100%"},children:t})})]})]})};var E=a(1596),T=a(7784),L=a(1787),O=a(1906),W=a(3193),B=a(8356),$=a(4629),_=a(7970),Y=a(8625),N=a(7402);const H=[{id:"wechat",name:"微信公众号",color:"#07C160",iconPath:"/mediacardfluence2/icons/wechat.svg",pngPath:"/mediacardfluence2/icons/wechat.png"},{id:"xiaohongshu",name:"小红书",color:"#FE2C55",iconPath:"/mediacardfluence2/icons/xiaohongshu.svg",pngPath:"/mediacardfluence2/icons/xiaohongshu.png"},{id:"bilibili",name:"B站",color:"#00A1D6",iconPath:"/mediacardfluence2/icons/bilibili.svg",pngPath:"/mediacardfluence2/icons/bilibili.png"},{id:"douyin",name:"抖音",color:"#000000",iconPath:"/mediacardfluence2/icons/douyin.svg",pngPath:"/mediacardfluence2/icons/douyin.png"},{id:"videoAccount",name:"视频号",color:"#FA5151",iconPath:"/mediacardfluence2/icons/videoAccount.svg",pngPath:"/mediacardfluence2/icons/videoAccount.png"},{id:"zhihu",name:"知乎",color:"#0084FF",iconPath:"/mediacardfluence2/icons/zhihu.svg",pngPath:"/mediacardfluence2/icons/zhihu.png"},{id:"twitter",name:"X(Twitter)",color:"#000000",iconPath:"/mediacardfluence2/icons/twitter.svg",pngPath:"/mediacardfluence2/icons/twitter.png"},{id:"kuaishou",name:"快手",color:"#FF5E00",iconPath:"/mediacardfluence2/icons/kuaishou.svg",pngPath:"/mediacardfluence2/icons/kuaishou.png"},{id:"weibo",name:"微博",color:"#E6162D",iconPath:"/mediacardfluence2/icons/weibo.svg",pngPath:"/mediacardfluence2/icons/weibo.png"},{id:"juejin",name:"掘金",color:"#1E80FF",iconPath:"/mediacardfluence2/icons/juejin.svg",pngPath:"/mediacardfluence2/icons/juejin.png"}],G={wechat:null,xiaohongshu:null,bilibili:null,douyin:null,videoAccount:null,juejin:null,zhihu:null,twitter:null,kuaishou:null,weibo:null},q={wechatId:"",email:""},U=o.memo((e=>{var t,a;let{userData:r,onUpdateUserData:i}=e;const{mode:n,t:d}=P(),c="dark"===n,[h,u]=(0,o.useState)(r.socialMedia||G),[x,p]=(0,o.useState)(r.contactInfo||q),[f,b]=(0,o.useState)("wechat"),[w,y]=(0,o.useState)((null===(t=r.contactInfo)||void 0===t?void 0:t.wechatId)||""),[v,A]=(0,o.useState)((null===(a=r.contactInfo)||void 0===a?void 0:a.email)||""),[j,S]=(0,o.useState)({}),[C,k]=(0,o.useState)(9);(0,o.useEffect)((()=>{if(r){var e,t;u(r.socialMedia||G),p(r.contactInfo||q),y((null===(e=r.contactInfo)||void 0===e?void 0:e.wechatId)||""),A((null===(t=r.contactInfo)||void 0===t?void 0:t.email)||"");const a={};Object.entries(r.socialMedia||G).forEach((e=>{let[t,o]=e;a[t]=null===o?"":o.toString()})),S(a)}}),[r]);const M=(0,o.useCallback)((()=>{i({socialMedia:h,contactInfo:x,updatedAt:new Date})}),[h,x,i]);(0,o.useEffect)((()=>{const e=setTimeout((()=>{M()}),500);return()=>clearTimeout(e)}),[h,x,M]);const I=(R=C,H.slice(0,Math.min(R,H.length)));var R;const F=C<H.length;return(0,z.jsxs)(E.A,{elevation:3,sx:{p:3,borderRadius:"12px",backgroundColor:c?"rgba(255,255,255,0.05)":"#ffffff",border:"1px solid",borderColor:c?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.08)",boxShadow:c?"0 8px 20px rgba(0,0,0,0.2)":"0 10px 25px rgba(0,0,0,0.08)",transition:"all 0.3s ease"},children:[(0,z.jsx)(g.A,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,color:c?"#fff":"#1a1a2e",borderBottom:"2px solid",borderColor:"primary.main",pb:1,mb:3},children:d("inputYourData")}),(0,z.jsx)(l.Ay,{container:!0,spacing:3,children:I.map((e=>(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,z.jsx)(T.A,{fullWidth:!0,label:e.name,type:"number",placeholder:d("fansPlaceholder"),value:void 0!==j[e.id]?j[e.id]:null===h[e.id]?"":h[e.id],onChange:t=>((e,t)=>{S((a=>({...a,[e]:t})));const a=""===t?null:Number(t);u((t=>({...t,[e]:a})))})(e.id,t.target.value),InputProps:{startAdornment:(0,z.jsx)(L.A,{position:"start",children:(0,z.jsx)(s.A,{component:"img",sx:{width:20,height:20,mr:1,objectFit:"contain",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.15)"}},alt:e.name,src:e.pngPath,onError:t=>{const a=t.target;a.onerror=null,a.src=e.iconPath}})}),endAdornment:(0,z.jsx)(L.A,{position:"end",children:d("followers")}),sx:{borderRadius:"10px",transition:"all 0.3s ease","& .MuiOutlinedInput-notchedOutline":{borderColor:c?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)",transition:"border-color 0.3s ease"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:c?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",boxShadow:"0 0 8px rgba(0,0,0,0.05)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.color,boxShadow:`0 0 0 2px ${e.color}25`},"&:hover":{transform:"translateY(-2px)"}}},inputProps:{min:0,max:999999999},sx:{"& .MuiInputLabel-root":{color:c?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)"},"& .MuiInputLabel-root.Mui-focused":{color:e.color}}})},e.id)))}),F&&(0,z.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",mt:4,mb:2},children:(0,z.jsxs)(O.A,{variant:"outlined",color:"primary",onClick:()=>{k((e=>e+6))},startIcon:(0,z.jsx)(s.A,{sx:{display:"flex",alignItems:"center"},children:"+"}),sx:{borderRadius:"20px",px:3,py:1,borderWidth:"2px",fontWeight:500,transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}},children:[d("morePlatforms")," (",H.length-C,d("remaining"),")"]})}),(0,z.jsxs)(s.A,{sx:{mt:6,mb:3},children:[(0,z.jsx)(g.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,color:c?"#fff":"#1a1a2e",borderBottom:"1px solid",borderColor:c?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",pb:1,mb:3},children:d("contactWay")}),(0,z.jsx)(l.Ay,{container:!0,spacing:3,sx:{mb:4},children:(0,z.jsx)(l.Ay,{item:!0,xs:12,children:(0,z.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:2,position:"relative",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[(0,z.jsxs)(W.A,{sx:{position:"relative",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",borderRadius:"12px",border:"1px solid",borderColor:c?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",bgcolor:c?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.8)",p:2,transform:"translateY(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 16px rgba(0,0,0,0.12)"}},children:[(0,z.jsx)(B.A,{id:"contact-type-label",sx:{position:"relative",transform:"none",color:c?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",fontSize:"0.9rem",mb:1,fontWeight:500},children:d("contactInfoType")}),(0,z.jsxs)($.A,{labelId:"contact-type-label",value:f,onChange:e=>{b(e.target.value)},sx:{"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},bgcolor:c?"rgba(255,255,255,0.08)":"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",fontWeight:500},children:[(0,z.jsx)(_.A,{value:"wechat",children:d("wechatId")}),(0,z.jsx)(_.A,{value:"email",children:d("email")})]})]}),(0,z.jsx)(s.A,{sx:{position:"relative",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",border:"1px solid",borderColor:c?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",bgcolor:c?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.8)",p:2,mt:1,transform:"translateY(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 16px rgba(0,0,0,0.12)"}},children:(0,z.jsx)(T.A,{fullWidth:!0,label:d("wechat"===f?"wechatId":"email"),placeholder:d("wechat"===f?"wechatPlaceholder":"emailPlaceholder"),value:"wechat"===f?w:v,onChange:e=>{"wechat"===f?(y(e.target.value),p((t=>({...t,wechatId:e.target.value})))):"email"===f&&(A(e.target.value),p((t=>({...t,email:e.target.value}))))},variant:"standard",InputProps:{startAdornment:(0,z.jsx)(L.A,{position:"start",children:"email"===f?(0,z.jsx)(N.A,{sx:{color:c?"rgba(255,255,255,0.7)":"#1976d2"}}):(0,z.jsx)(s.A,{component:"img",sx:{width:24,height:24,mr:1},alt:"微信",src:"/mediacardfluence2/icons/wechat.png",onError:e=>{const t=e.target;t.onerror=null,t.src="/mediacardfluence2/icons/wechat.svg"}})}),disableUnderline:!0,sx:{px:2,py:1,bgcolor:c?"rgba(255,255,255,0.08)":"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)","&:hover":{bgcolor:c?"rgba(255,255,255,0.12)":"rgba(242,242,242,1)"},transition:"background-color 0.3s ease"}},sx:{"& .MuiFormLabel-root":{color:c?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",fontSize:"0.9rem",transform:"translate(0, -12px) scale(1)",fontWeight:500},"& .MuiInputLabel-shrink":{transform:"translate(0, -12px) scale(1)"}}})})]})})}),(0,z.jsx)(m.A,{title:d("resetAll"),children:(0,z.jsx)(O.A,{variant:"outlined",color:"error",onClick:()=>{u(G),p(q)},startIcon:(0,z.jsx)(Y.A,{}),sx:{minWidth:"100px",height:"46px",borderRadius:"8px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}},children:d("resetData")})})]})]})}));var K=a(4786),X=a(1637),J=a(5239),Q=a.n(J),V=a(889),Z=a(6605),ee=a(710),te=a(5078),ae=a(4511),oe=a(6637),re=a(4605),ie=a(4598),ne=a(1337);const le=e=>{let{cardConfig:t,exportOptions:a,onConfigChange:o,onExportOptionsChange:r}=e;const{t:i}=P(),n=(e,a)=>{o({...t,[e]:a})},d=(e,a)=>{o({...t,watermark:{...t.watermark,[e]:a}})},c=(e,t)=>{r({...a,[e]:t})},h=[{value:"bottomRight",label:i("bottomRight")||"右下角"},{value:"bottomLeft",label:i("bottomLeft")||"左下角"},{value:"topRight",label:i("topRight")||"右上角"},{value:"topLeft",label:i("topLeft")||"左上角"},{value:"center",label:i("center")||"居中"}];return(0,z.jsxs)(V.A,{sx:{mb:2},defaultExpanded:!1,children:[(0,z.jsx)(Z.A,{expandIcon:(0,z.jsx)(ne.A,{}),"aria-controls":"card-style-config-content",id:"card-style-config-header",children:(0,z.jsx)(g.A,{variant:"subtitle1",children:i("cardSettings")})}),(0,z.jsx)(ee.A,{children:(0,z.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,z.jsxs)(l.Ay,{item:!0,xs:12,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("cardTitle")}),(0,z.jsx)(T.A,{fullWidth:!0,size:"small",value:t.cardTitle,onChange:e=>n("cardTitle",e.target.value),placeholder:i("cardTitle")})]}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("aspectRatio")||"宽高比"}),(0,z.jsxs)(te.A,{color:"primary",value:a.aspectRatio,exclusive:!0,onChange:(e,t)=>{null!==t&&c("aspectRatio",t)},"aria-label":"aspectRatio",size:"small",fullWidth:!0,children:[(0,z.jsx)(ae.A,{value:"16:9",children:"16:9"}),(0,z.jsx)(ae.A,{value:"4:3",children:"4:3"}),(0,z.jsx)(ae.A,{value:"1:1",children:"1:1"}),(0,z.jsx)(ae.A,{value:"custom",children:i("custom")||"自定义"})]})]}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,sm:6,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("cardSize")||"卡片大小"}),(0,z.jsxs)(s.A,{sx:{display:"flex",gap:2},children:[(0,z.jsx)(T.A,{label:i("width")||"宽度",type:"number",size:"small",value:t.width,onChange:e=>n("width",Number(e.target.value)),inputProps:{min:400,max:1200}}),(0,z.jsx)(T.A,{label:i("height")||"高度",type:"number",size:"small",value:t.height,onChange:e=>n("height",Number(e.target.value)),inputProps:{min:225,max:675}})]})]}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,sm:6,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("borderRadius")||"边框圆角"}),(0,z.jsx)(oe.Ay,{value:t.borderRadius,onChange:(e,t)=>n("borderRadius",t),step:1,marks:!0,min:0,max:20,valueLabelDisplay:"auto"})]}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,sm:6,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("iconSize")||"图标大小"}),(0,z.jsx)(oe.Ay,{value:t.iconSize,onChange:(e,t)=>n("iconSize",t),step:2,marks:!0,min:16,max:40,valueLabelDisplay:"auto"})]}),(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,z.jsxs)(W.A,{fullWidth:!0,size:"small",children:[(0,z.jsx)(B.A,{id:"font-family-label",children:i("font")||"字体"}),(0,z.jsx)($.A,{labelId:"font-family-label",id:"font-family-select",value:t.fontFamily,label:i("font")||"字体",onChange:e=>n("fontFamily",e.target.value),children:["Arial, sans-serif","Helvetica, sans-serif","Georgia, serif","Tahoma, sans-serif","Verdana, sans-serif","Times New Roman, serif","Courier New, monospace"].map((e=>(0,z.jsx)(_.A,{value:e,style:{fontFamily:e},children:e.split(",")[0]},e)))})]})}),(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,z.jsx)(T.A,{label:i("backgroundColor")||"背景颜色",type:"color",size:"small",value:t.backgroundColor,onChange:e=>n("backgroundColor",e.target.value),sx:{width:"100%"},InputLabelProps:{shrink:!0}})}),(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,z.jsx)(T.A,{label:i("textColor")||"文字颜色",type:"color",size:"small",value:t.textColor,onChange:e=>n("textColor",e.target.value),sx:{width:"100%"},InputLabelProps:{shrink:!0}})}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,children:[(0,z.jsx)(g.A,{variant:"subtitle1",sx:{mt:2,mb:1},children:i("watermarkSettings")||"水印设置"}),(0,z.jsx)(re.A,{control:(0,z.jsx)(ie.A,{checked:t.watermark.enabled,onChange:e=>d("enabled",e.target.checked)}),label:i("showWatermark")||"显示水印"})]}),t.watermark.enabled&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,z.jsx)(T.A,{fullWidth:!0,label:i("watermarkText")||"水印文字",size:"small",value:t.watermark.text,onChange:e=>d("text",e.target.value)})}),(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,z.jsxs)(W.A,{fullWidth:!0,size:"small",children:[(0,z.jsx)(B.A,{children:i("watermarkPosition")||"水印位置"}),(0,z.jsx)($.A,{value:t.watermark.position,label:i("watermarkPosition")||"水印位置",onChange:e=>d("position",e.target.value),children:h.map((e=>(0,z.jsx)(_.A,{value:e.value,children:e.label},e.value)))})]})}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,sm:6,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("opacity")||"透明度"}),(0,z.jsx)(oe.Ay,{value:t.watermark.opacity,onChange:(e,t)=>d("opacity",t),step:.1,min:.1,max:1,valueLabelDisplay:"auto",valueLabelFormat:e=>`${Math.round(100*e)}%`})]}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,sm:6,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("fontSize")||"字体大小"}),(0,z.jsx)(oe.Ay,{value:t.watermark.fontSize,onChange:(e,t)=>d("fontSize",t),step:1,min:10,max:36,valueLabelDisplay:"auto",valueLabelFormat:e=>`${e}px`})]}),(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,z.jsx)(T.A,{label:i("watermarkColor")||"水印颜色",type:"color",size:"small",value:t.watermark.color,onChange:e=>d("color",e.target.value),sx:{width:"100%"},InputLabelProps:{shrink:!0}})})]}),(0,z.jsx)(l.Ay,{item:!0,xs:12,children:(0,z.jsx)(g.A,{variant:"subtitle1",sx:{mt:2,mb:1},children:i("exportSettings")||"导出设置"})}),(0,z.jsx)(l.Ay,{item:!0,xs:12,sm:6,children:(0,z.jsxs)(W.A,{fullWidth:!0,size:"small",children:[(0,z.jsx)(B.A,{id:"export-format-label",children:i("exportFormat")||"导出格式"}),(0,z.jsxs)($.A,{labelId:"export-format-label",id:"export-format-select",value:a.format,label:i("exportFormat")||"导出格式",onChange:e=>c("format",e.target.value),children:[(0,z.jsx)(_.A,{value:"png",children:i("pngFormat")||"PNG (支持透明背景)"}),(0,z.jsx)(_.A,{value:"jpeg",children:i("jpegFormat")||"JPEG (小文件体积)"})]})]})}),(0,z.jsxs)(l.Ay,{item:!0,xs:12,sm:6,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("scale")||"缩放比例"}),(0,z.jsx)(oe.Ay,{value:a.scale,onChange:(e,t)=>c("scale",t),step:.5,marks:[{value:1,label:"1x"},{value:2,label:"2x"},{value:3,label:"3x"}],min:1,max:3,valueLabelDisplay:"auto",valueLabelFormat:e=>`${e}x`})]}),"jpeg"===a.format&&(0,z.jsxs)(l.Ay,{item:!0,xs:12,children:[(0,z.jsx)(g.A,{gutterBottom:!0,children:i("quality")||"质量"}),(0,z.jsx)(s.A,{sx:{px:1},children:(0,z.jsx)(oe.Ay,{value:a.quality,onChange:(e,t)=>c("quality",t),step:5,marks:[{value:60,label:i("low")||"低"},{value:80,label:i("medium")||"中"},{value:100,label:i("high")||"高"}],min:60,max:100,valueLabelDisplay:"auto",valueLabelFormat:e=>`${e}%`})})]})]})})]})};var se=a(1132);const de=e=>{var t;let{userData:a}=e;const r=(0,o.useRef)(null),d=(0,o.useRef)(null),[c,h]=(0,o.useState)(!1),[u,x]=(0,o.useState)(0),[m,p]=(0,o.useState)(1),f=(0,i.A)(),b=(0,n.A)(f.breakpoints.down("sm")),w=(0,n.A)(f.breakpoints.between("sm","md")),[y,v]=(0,o.useState)(!1),[A,j]=(0,o.useState)(null),[S,C]=(0,o.useState)({width:800,height:"auto",backgroundColor:"#1a1a2e",textColor:"#ffffff",borderRadius:12,fontFamily:"Inter, system-ui, sans-serif",iconSize:28,cardTitle:"自媒体个性名片",watermark:{enabled:!1,text:"自媒体数据卡片",opacity:.5,fontSize:16,position:"bottomRight",color:"#ffffff"}}),[k,M]=(0,o.useState)({format:"png",quality:90,scale:2,aspectRatio:"custom"}),I=Object.values(a.socialMedia).filter((e=>null!=e)).reduce(((e,t)=>e+t),0),R=e=>{try{const t=e instanceof Date?e:new Date(e);return isNaN(t.getTime())?(new Date).toISOString().split("T")[0]:`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}catch(t){return(new Date).toISOString().split("T")[0]}},F=(0,o.useCallback)((()=>{if(!d.current||!r.current)return;const e=d.current.clientWidth;let t=Math.min(e-24,800);C((e=>({...e,width:t,height:"auto",iconSize:Math.max(18,Math.round(t/800*28))}))),p(1),M((e=>({...e,aspectRatio:"custom"}))),setTimeout((()=>{if(r.current){const e=r.current.offsetHeight;e>0&&C((t=>({...t,height:e})))}}),300)}),[d]);(0,o.useEffect)((()=>{b?(C((e=>({...e,width:320,height:Math.round(180),iconSize:20}))),setTimeout(F,500)):w?(C((e=>({...e,width:600,height:Math.round(337.5),iconSize:24}))),setTimeout(F,500)):setTimeout(F,500)}),[b,w,F]),(0,o.useEffect)((()=>{if(!r.current||y)return;const e=setTimeout((()=>{if(r.current){const e=Math.round(r.current.offsetHeight);e>0&&j(e)}}),500);return()=>clearTimeout(e)}),[a,y]),(0,o.useEffect)((()=>{const e=d.current;if(!e)return;const t=()=>{if(!e)return;const t=e.clientWidth||0,a=S.width;if(t<a){const e=t/a;p(Math.min(e,1))}else p(1)};t();const a=new ResizeObserver(t);return a.observe(e),()=>{e&&a.unobserve(e)}}),[S.width]);const D=e=>{const t=Math.min(1,S.width/800);return Math.max(16,Math.round(e*t))},{width:T,height:L}=(()=>{const{width:e}=S,{aspectRatio:t}=k;return"16:9"===t?{width:e,height:Math.round(9*e/16)}:"4:3"===t?{width:e,height:Math.round(3*e/4)}:"1:1"===t?{width:e,height:e}:"custom"===t&&"number"==typeof S.height?{width:e,height:S.height}:{width:e,height:A||Math.round(9*e/16)}})(),W=(()=>{const e=S.width/800;return{titleFontSize:`${Math.max(1.5,2.125*e)}rem`,titleMarginBottom:`${Math.max(8,16*e)}px`,chipHeight:`${Math.max(24,32*e)}px`,chipFontSize:`${Math.max(.65,.875*e)}rem`,chipPadding:`${Math.max(4,8*e)}px ${Math.max(6,12*e)}px`,chipMarginBottom:`${Math.max(8,20*e)}px`,contactLabelFontSize:`${Math.max(.7,.95*e)}rem`,gridSpacing:Math.max(1,Math.round(3*e)),platformItemPadding:`${Math.max(6,12*e)}px`,platformItemBorderRadius:`${Math.max(6,12*e)}px`,platformItemMarginBottom:`${Math.max(4,8*e)}px`,iconSize:D(S.iconSize),iconMarginRight:`${Math.max(4,8*e)}px`,iconPadding:`${Math.max(1,3*e)}px`,platformNameFontSize:`${Math.max(.6,.7*e)}rem`,followersFontSize:`${Math.max(.75,.9*e)}rem`,statsBoxBottom:`${Math.max(10,20*e)}px`,statsBoxRight:`${Math.max(10,20*e)}px`,statsBoxPadding:`${Math.max(5,10*e)}px ${Math.max(10,15*e)}px`,statsBoxBorderRadius:`${Math.max(4,8*e)}px`,statsTotalFontSize:`${Math.max(.75,.875*e)}rem`,statsDateFontSize:`${Math.max(.6,.75*e)}rem`,cardPadding:`${Math.max(16,32*e)}px`}})(),{t:B,language:$}=P(),_=e=>{if(null==e)return"0";if("zh"===$){if(e>=1e8){const t=(e/1e8).toFixed(1);return`${t.endsWith(".0")?t.slice(0,-2):t}亿`}if(e>=1e4){const t=(e/1e4).toFixed(1);return`${t.endsWith(".0")?t.slice(0,-2):t}万`}if(e>=1e3)return`${Math.floor(e/1e3)}千`}else{if(e>=1e9){const t=(e/1e9).toFixed(1);return`${t.endsWith(".0")?t.slice(0,-2):t}B`}if(e>=1e6){const t=(e/1e6).toFixed(1);return`${t.endsWith(".0")?t.slice(0,-2):t}M`}if(e>=1e3){const t=(e/1e3).toFixed(1);return`${t.endsWith(".0")?t.slice(0,-2):t}K`}}return e.toString()};return(0,z.jsxs)("div",{ref:d,children:[(0,z.jsx)(le,{cardConfig:S,exportOptions:k,onConfigChange:e=>{v(!0);const t="number"==typeof e.height;if(C(e),t)return"custom"!==k.aspectRatio&&M((e=>({...e,aspectRatio:"custom"}))),void v(!1);if(e.width!==S.width){if("custom"===k.aspectRatio)return void setTimeout((()=>{if(r.current){const e=Math.round(r.current.offsetHeight);e>0&&j(e)}v(!1)}),300);{let t;t="16:9"===k.aspectRatio?Math.round(9*e.width/16):"4:3"===k.aspectRatio?Math.round(3*e.width/4):e.width,j(t)}}setTimeout((()=>{v(!1)}),200)},onExportOptionsChange:e=>{if(v(!0),M(e),e.aspectRatio!==k.aspectRatio){const{width:t}=S;if("custom"===e.aspectRatio)return"number"==typeof S.height?(j(S.height),void v(!1)):void setTimeout((()=>{if(r.current){const e=Math.round(r.current.offsetHeight);e>0&&j(e)}v(!1)}),300);{let a;a="16:9"===e.aspectRatio?Math.round(9*t/16):"4:3"===e.aspectRatio?Math.round(3*t/4):t,j(a),C((e=>({...e,height:a})))}}setTimeout((()=>{v(!1)}),200)}}),(0,z.jsx)(s.A,{sx:{mb:3},children:(0,z.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",transition:"height 0.5s ease"},children:[(0,z.jsx)(s.A,{sx:{transform:`scale(${m})`,transformOrigin:"top center",transition:"all 0.3s ease",width:`${T}px`,minHeight:`${L}px`,position:"relative",mb:3,maxWidth:"100%"},children:(0,z.jsxs)(E.A,{ref:r,"data-ref":"card",elevation:8,sx:{width:`${T}px`,height:"custom"===k.aspectRatio&&"string"==typeof S.height?"auto":`${L}px`,minHeight:`${L}px`,bgcolor:S.backgroundColor,color:S.textColor,p:0,padding:W.cardPadding,position:"relative",overflow:"visible",borderRadius:`${S.borderRadius}px !important`,fontFamily:S.fontFamily,backgroundImage:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.25)",display:"flex",flexDirection:"column",boxSizing:"border-box",transition:"height 0.5s ease-in-out, min-height 0.5s ease-in-out",maxWidth:"100%"},children:[S.watermark.enabled&&(()=>{if(!S.watermark.enabled)return null;const{text:e,opacity:t,fontSize:a,position:o,color:r}=S.watermark;return(0,z.jsx)("div",{"data-watermark":"true",style:{position:"absolute",...{bottomRight:{bottom:10,right:10,textAlign:"right"},bottomLeft:{bottom:10,left:10,textAlign:"left"},topRight:{top:10,right:10,textAlign:"right"},topLeft:{top:10,left:10,textAlign:"left"},center:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}[o],opacity:t,color:r,fontSize:`${a}px`,fontFamily:S.fontFamily,zIndex:10,pointerEvents:"none",userSelect:"none"},children:e})})(),(0,z.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,position:"relative",zIndex:5,minHeight:0,width:"100%"},children:[(0,z.jsx)(g.A,{variant:"h4",sx:{fontWeight:"bold",marginBottom:W.titleMarginBottom,fontFamily:"inherit",color:S.textColor,fontSize:W.titleFontSize,lineHeight:1.2,wordBreak:"break-word"},children:S.cardTitle}),(null===(t=a.contactInfo)||void 0===t?void 0:t.wechatId)&&(0,z.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1,marginBottom:W.chipMarginBottom},children:[(0,z.jsx)(g.A,{variant:"subtitle2",sx:{fontFamily:"inherit",opacity:.9,fontSize:W.contactLabelFontSize,fontWeight:500,mb:.5,color:S.textColor,textShadow:"#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase()?"0 1px 2px rgba(0,0,0,0.2)":"none"},children:B("contactMe")}),(0,z.jsx)(K.A,{avatar:(0,z.jsx)(s.A,{component:"img",sx:{width:20,height:20},src:"/mediacardfluence2/icons/wechat.png",alt:"微信",onError:e=>{const t=e.target;t.onerror=null,t.src="/mediacardfluence2/icons/wechat.svg"}}),label:a.contactInfo.wechatId,sx:{height:W.chipHeight,fontSize:W.chipFontSize,padding:W.chipPadding,bgcolor:"#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase()?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.1)",color:S.textColor,border:"1px solid",borderColor:"#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase()?"rgba(0,0,0,0.2)":"rgba(255,255,255,0.2)",boxShadow:"#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase()?"0 1px 3px rgba(0,0,0,0.2)":"none","& .MuiChip-avatar":{width:18,height:18}}})]}),(0,z.jsx)(l.Ay,{container:!0,spacing:W.gridSpacing,sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:2,width:"100%",margin:0,boxSizing:"border-box",pb:8,mt:1,position:"relative",zIndex:1},children:H.map((e=>{const t=a.socialMedia[e.id];return null==t||0===t?null:(0,z.jsx)(l.Ay,{item:!0,"data-platform-id":e.id,sx:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",maxWidth:"234px",mx:"auto"},children:(0,z.jsxs)(s.A,{"data-platform-item":"true",sx:{display:"flex",alignItems:"center",padding:W.platformItemPadding,borderRadius:W.platformItemBorderRadius,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(4px)",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.15)",width:"100%",maxWidth:"234px",boxSizing:"border-box",minHeight:"70px",position:"relative",zIndex:1,transition:"all 0.2s ease-out","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 8px rgba(0,0,0,0.15)",background:"rgba(255, 255, 255, 0.15)"}},children:[(0,z.jsx)(s.A,{component:"img",sx:{width:W.iconSize,height:W.iconSize,marginRight:W.iconMarginRight,filter:"none",borderRadius:"50%",padding:W.iconPadding,background:"rgba(255, 255, 255, 0.15)",objectFit:"contain",flexShrink:0},alt:e.name,src:e.pngPath,onError:t=>{const a=t.target;a.onerror=null;const o="#ffffff"===S.backgroundColor.replace(/\s/g,"").toLowerCase()||"#fff"===S.backgroundColor.replace(/\s/g,"").toLowerCase();"juejin"===e.id?a.style.filter="invert(49%) sepia(98%) saturate(2259%) hue-rotate(202deg) brightness(103%) contrast(101%)":a.style.filter=o?"none":"brightness(0) invert(1)",a.src=e.iconPath}}),(0,z.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",overflow:"hidden",width:"100%",minWidth:0},children:[(0,z.jsx)(g.A,{variant:"caption",sx:{fontFamily:"inherit",opacity:.7,fontSize:W.platformNameFontSize,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),(0,z.jsx)(g.A,{variant:"body2",sx:{fontFamily:"inherit",fontWeight:"bold",fontSize:W.followersFontSize,overflow:"visible",..."weibo"===e.id||"xiaohongshu"===e.id?{lineHeight:1.3,paddingBottom:"2px",whiteSpace:"normal",wordBreak:"break-word",hyphens:"auto"}:{}},children:_(t)})]})]})},e.id)}))})]}),(0,z.jsxs)(s.A,{"data-stats-box":"true",sx:{position:"absolute",bottom:W.statsBoxBottom,right:W.statsBoxRight,background:`linear-gradient(135deg, \n                    ${"#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase()?"rgba(0,0,0,0.03)":"rgba(0,0,0,0.2)"}, \n                    ${"#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase()?"rgba(0,0,0,0.08)":"rgba(0,0,0,0.4)"})`,backdropFilter:"blur(6px)",padding:W.statsBoxPadding,borderRadius:W.statsBoxBorderRadius,boxShadow:"0 2px 10px rgba(0,0,0,0.08)",border:"1px solid "+("#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase()?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.12)"),zIndex:10,maxWidth:"95%",overflow:"hidden",display:"flex",flexDirection:"column","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"1px",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)"}},children:[(0,z.jsxs)(g.A,{variant:"body2",sx:{fontFamily:"inherit",fontWeight:"bold",fontSize:W.statsTotalFontSize,display:"flex",alignItems:"center",marginBottom:"4px","&::before":{content:'""',display:"inline-block",width:"6px",height:"6px",borderRadius:"50%",background:"rgba(255,255,255,0.8)",marginRight:"6px",boxShadow:"0 0 4px rgba(255,255,255,0.5)"}},children:[B("totalFollowersText"),": ",(0,z.jsx)(s.A,{component:"span",sx:{ml:.5,fontWeight:"bold",color:S.textColor},children:_(I)})]}),(0,z.jsxs)(g.A,{variant:"caption",sx:{fontFamily:"inherit",opacity:.9,fontSize:W.statsDateFontSize,display:"flex",alignItems:"center",position:"relative",paddingLeft:"12px","&::before":{content:'""',position:"absolute",left:0,top:"50%",width:"4px",height:"4px",borderRadius:"50%",background:"rgba(255,255,255,0.5)",transform:"translateY(-50%)"}},children:[B("updatedAt"),": ",R(a.updatedAt)]})]})]})}),c&&(0,z.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:[(0,z.jsx)(X.A,{variant:"determinate",value:u,sx:{mb:1}}),(0,z.jsxs)(g.A,{variant:"body2",color:"text.secondary",children:[B("exportingCard")," ",u,"%"]})]}),(0,z.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,z.jsx)(O.A,{startIcon:(0,z.jsx)(se.A,{}),onClick:async()=>{if(r.current){h(!0),x(5);try{const e=S.height,t={scale:k.scale,useCORS:!0,allowTaint:!0,backgroundColor:null,logging:!1,width:r.current.offsetWidth,height:"number"==typeof e?e:r.current.offsetHeight,onclone:(e,t)=>{const a=t.querySelector('[data-stats-box="true"]');if(a){const t="#ffffff"===S.backgroundColor.toLowerCase()||"#fff"===S.backgroundColor.toLowerCase();a.style.background=`linear-gradient(135deg, \n              ${t?"rgba(0,0,0,0.03)":"rgba(0,0,0,0.2)"}, \n              ${t?"rgba(0,0,0,0.08)":"rgba(0,0,0,0.4)"})`,a.style.backdropFilter="blur(6px)",a.style.webkitBackdropFilter="blur(6px)",a.style.border="1px solid "+(t?"rgba(0,0,0,0.1)":"rgba(255,255,255,0.12)"),a.style.boxShadow="0 2px 10px rgba(0,0,0,0.08)";const o=e.createElement("div");o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.right="0",o.style.height="1px",o.style.background="linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)",a.appendChild(o);const r=a.querySelector("p:first-child");if(r){const t=e.createElement("span");t.style.display="inline-block",t.style.width="6px",t.style.height="6px",t.style.borderRadius="50%",t.style.backgroundColor="rgba(255,255,255,0.8)",t.style.marginRight="6px",t.style.boxShadow="0 0 4px rgba(255,255,255,0.5)";const a=r.querySelector("span");a&&(a.style.fontWeight="bold",a.style.color=S.textColor),r.firstChild&&r.insertBefore(t,r.firstChild)}const i=a.querySelector("p:last-child");if(i){const t=i;t.style.paddingLeft="12px",t.style.position="relative";const a=e.createElement("span");a.style.position="absolute",a.style.left="0",a.style.top="50%",a.style.width="4px",a.style.height="4px",a.style.borderRadius="50%",a.style.backgroundColor="rgba(255,255,255,0.5)",a.style.transform="translateY(-50%)",t.appendChild(a)}}}};x(30);const o=await Q()(r.current,t);x(70);const i=o.toDataURL(`image/${k.format}`,k.quality/100),n=document.createElement("a");n.download=`mediacard_${R(a.updatedAt)}.${k.format}`,n.href=i,n.click(),x(100),setTimeout((()=>{h(!1),x(0)}),1500)}catch(e){h(!1),x(0)}}},variant:"contained",color:"primary",disabled:c,sx:{fontWeight:"medium","&:hover":{backgroundColor:"primary.dark",transform:"translateY(-2px)",boxShadow:"0 6px 10px rgba(0,0,0,0.2)"}},children:B("exportCard")})})]})})]})};function ce(e){try{const t=JSON.stringify(e,((e,t)=>t instanceof Date?{__date:t.toISOString()}:null!==t?t:void 0));return window.CompressionStream,t}catch(t){return JSON.stringify(e)}}class he{static saveData(e){try{const t=ce(e);return t.length<4e6&&(localStorage.setItem(this.MAIN_DATA_KEY,t),!0)}catch(t){if(t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)){this.cleanupStorage();try{return localStorage.setItem(this.MAIN_DATA_KEY,ce(e)),!0}catch(a){return!1}}return!1}}static loadData(){try{const e=localStorage.getItem(this.MAIN_DATA_KEY);return e?function(e){try{return JSON.parse(e,((e,t)=>{if(t&&"object"==typeof t&&t.__date)try{return new Date(t.__date)}catch(a){return new Date}return t}))}catch(t){return null}}(e):null}catch(e){return null}}static cleanupStorage(){for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith(this.KEY_PREFIX)&&t!==this.MAIN_DATA_KEY&&localStorage.removeItem(t)}if(localStorage.length>10){const e=[this.MAIN_DATA_KEY],t=[];for(let a=0;a<localStorage.length;a++){const o=localStorage.key(a);o&&!e.includes(o)&&t.push(o)}t.forEach((e=>localStorage.removeItem(e)))}}}he.KEY_PREFIX="mediaCard_",he.MAIN_DATA_KEY="mediaCard_userData";const ue={socialMedia:{wechat:null,xiaohongshu:null,bilibili:null,douyin:null,videoAccount:null,juejin:null,zhihu:null,twitter:null,kuaishou:null,weibo:null},contactInfo:{wechatId:"",email:""},updatedAt:new Date},ge=()=>{const[e,t]=(0,o.useState)(ue),a=(0,i.A)(),r=(0,n.A)(a.breakpoints.down("sm"));(0,o.useEffect)((()=>{const e=he.loadData();e&&t(e)}),[]);return(0,z.jsxs)("div",{className:"App",style:{background:"linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d)",backgroundSize:"cover",backgroundAttachment:"fixed",minHeight:"100vh",padding:r?"10px 0":"20px 0",position:"relative",overflowX:"hidden",width:"100%"},children:[(0,z.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(/mediacardfluence2/bg-pattern.png)",backgroundSize:"200px",opacity:.05,zIndex:0,pointerEvents:"none"}}),(0,z.jsx)(F,{children:(0,z.jsx)(D,{children:(0,z.jsxs)(l.Ay,{container:!0,spacing:{xs:2,sm:4,md:6},direction:"column",sx:{mb:4,width:"100%",mx:0},children:[(0,z.jsx)(l.Ay,{item:!0,xs:12,children:(0,z.jsx)(U,{userData:e,onUpdateUserData:e=>{t(e),he.saveData(e)}})}),(0,z.jsx)(l.Ay,{item:!0,xs:12,sx:{mt:{xs:1,sm:2,md:4},display:"flex",justifyContent:"center",width:"100%"},children:(0,z.jsx)(s.A,{sx:{width:"100%",overflow:"visible",position:"relative",px:{xs:1,sm:2}},children:(0,z.jsx)(de,{userData:e})})})]})})})]})},xe=e=>{e&&e instanceof Function&&a.e(453).then(a.bind(a,6453)).then((t=>{let{getCLS:a,getFID:o,getFCP:r,getLCP:i,getTTFB:n}=t;a(e),o(e),r(e),i(e),n(e)}))};(()=>{const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d");if(!t)return;const a=t.createLinearGradient(0,0,64,64);a.addColorStop(0,"#1976D2"),a.addColorStop(1,"#1565C0"),t.shadowColor="rgba(0, 0, 0, 0.3)",t.shadowBlur=6,t.shadowOffsetX=0,t.shadowOffsetY=3,t.fillStyle=a,t.beginPath(),t.roundRect(0,0,64,64,16),t.fill(),t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.fillStyle="rgba(255, 255, 255, 0.9)",t.beginPath(),t.roundRect(12,12,40,40,10),t.fill();const o=t.createLinearGradient(20,20,44,44);o.addColorStop(0,"#1976D2"),o.addColorStop(1,"#42A5F5"),t.fillStyle=o,t.beginPath(),t.roundRect(20,20,24,24,6),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.3)",t.beginPath(),t.roundRect(20,20,24,12,[6,6,0,0]),t.fill(),t.fillStyle="white",t.beginPath(),t.arc(32,32,5,0,2*Math.PI),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.8)",t.beginPath(),t.arc(30,30,2,0,2*Math.PI),t.fill();const r=e.toDataURL("image/png");let i=document.querySelector("link[rel='icon']");i||(i=document.createElement("link"),i.rel="icon",document.head.appendChild(i)),i.href=r;let n=document.querySelector("link[rel='apple-touch-icon']");n||(n=document.createElement("link"),n.rel="apple-touch-icon",document.head.appendChild(n)),n.href=r})();r.createRoot(document.getElementById("root")).render((0,z.jsx)(o.StrictMode,{children:(0,z.jsx)(ge,{})})),xe()}},n={};function l(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return i[e].call(a.exports,a,a.exports,l),a.exports}l.m=i,e=[],l.O=(t,a,o,r)=>{if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],r=e[c][2];for(var n=!0,s=0;s<a.length;s++)(!1&r||i>=r)&&Object.keys(l.O).every((e=>l.O[e](a[s])))?a.splice(s--,1):(n=!1,r<i&&(i=r));if(n){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if("object"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&"function"==typeof e.then)return e}var r=Object.create(null);l.r(r);var i={};t=t||[null,a({}),a([]),a(a)];for(var n=2&o&&e;"object"==typeof n&&!~t.indexOf(n);n=a(n))Object.getOwnPropertyNames(n).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,l.d(r,i),r},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,a)=>(l.f[a](e,t),t)),[])),l.u=e=>"static/js/"+e+".cf676dcc.chunk.js",l.miniCssF=e=>{},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o={},r="mediacardfluence2:",l.l=(e,t,a,i)=>{if(o[e])o[e].push(t);else{var n,s;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==r+a){n=h;break}}n||(s=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.setAttribute("data-webpack",r+a),n.src=e),o[e]=[t];var u=(t,a)=>{n.onerror=n.onload=null,clearTimeout(g);var r=o[e];if(delete o[e],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((e=>e(a))),t)return t(a)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),s&&document.head.appendChild(n)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="/mediacardfluence2/",(()=>{var e={792:0};l.f.j=(t,a)=>{var o=l.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise(((a,r)=>o=e[t]=[a,r]));a.push(o[2]=r);var i=l.p+l.u(t),n=new Error;l.l(i,(a=>{if(l.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",n.name="ChunkLoadError",n.type=r,n.request=i,o[1](n)}}),"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,i=a[0],n=a[1],s=a[2],d=0;if(i.some((t=>0!==e[t]))){for(o in n)l.o(n,o)&&(l.m[o]=n[o]);if(s)var c=s(l)}for(t&&t(a);d<i.length;d++)r=i[d],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},a=self.webpackChunkmediacardfluence2=self.webpackChunkmediacardfluence2||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var s=l.O(void 0,[658,216,336,309,931,915,149,308,640,767,239,772,391,195],(()=>l(9276)));s=l.O(s)})();
//# sourceMappingURL=main.be5e5677.js.map