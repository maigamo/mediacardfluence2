{"version":3,"file":"static/js/main.5179e7ef.js","mappings":"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","sources":["../webpack/runtime/chunk loaded","../webpack/runtime/create fake namespace object","../webpack/runtime/load script","locales/en.ts","locales/zh.ts","contexts/ThemeContext.tsx","components/Layout.tsx","utils/favicon.ts","assets/socialPlatforms.ts","components/MediaForm.tsx","utils/imageValidation.ts","components/backgroundImage/ImageUploader.tsx","data/themeBackgrounds.ts","components/backgroundImage/ThemeSelector.tsx","utils/imageProcessor.ts","components/backgroundImage/ImageEffects.tsx","components/backgroundImage/BackgroundImagePanel.tsx","components/CardStyleConfig.tsx","utils/mediaCardHelpers.ts","utils/exportHelpers.ts","components/MediaCard.tsx","App.tsx","reportWebVitals.ts","utils/CreateFavicon.tsx","index.tsx","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"mediacardfluence2:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","const enLocale: { [key: string]: string } = {\n  appTitle: 'Social Media Card Generator',\n  toggleDarkMode: 'Switch to Dark Mode',\n  toggleLightMode: 'Switch to Light Mode',\n  githubRepo: 'GitHub Repository',\n  contactMe: 'Contact me',\n  wechatContact: 'WeChat Contact',\n  emailContact: 'Email Contact',\n  socialMediaData: 'Social Media Data',\n  totalFollowers: 'Total Followers',\n  updatedAt: 'Updated at',\n  resetData: 'Reset Data',\n  adaptToScreen: 'Adapt to Screen',\n  exportCard: 'Export Image',\n  exportingCard: 'Exporting',\n  contactWay: 'Contact Method',\n  inputYourData: 'Enter Your Social Media Data',\n  contactInfoType: 'Contact Info Type',\n  wechatId: 'WeChat ID',\n  email: 'Email',\n  twitter: 'X (Twitter)',\n  facebook: 'Facebook',\n  weibo: 'Weibo',\n  douyin: 'Douyin',\n  xiaohongshu: 'Xiaohongshu',\n  discord: 'Discord',\n  reddit: 'Reddit',\n  tiktok: 'TikTok',\n  telegram: 'Telegram',\n  showMorePlatforms: 'Show More Platforms',\n  resetAll: 'Reset All Data',\n  followers: 'Followers',\n  fansPlaceholder: 'You can add your follower count here',\n  wechatPlaceholder: 'You can add your WeChat contact, e.g., mediacardfluence2888',\n  emailPlaceholder: 'You can add your email contact, e.g., mediacardfluence2@example.com',\n  twitterPlaceholder: 'You can add your X (Twitter) account, e.g., @mediacardfluence2',\n  facebookPlaceholder: 'You can add your Facebook account, e.g., mediacardfluence2',\n  weiboPlaceholder: 'You can add your Weibo account, e.g., @mediacardfluence2',\n  douyinPlaceholder: 'You can add your Douyin account, e.g., mediacardfluence2',\n  xiaohongshuPlaceholder: 'You can add your Xiaohongshu account, e.g., mediacardfluence2',\n  discordPlaceholder: 'You can add your Discord account, e.g., mediacardfluence2#1234',\n  redditPlaceholder: 'You can add your Reddit account, e.g., u/mediacardfluence2',\n  tiktokPlaceholder: 'You can add your TikTok account, e.g., @mediacardfluence2',\n  telegramPlaceholder: 'You can add your Telegram account, e.g., @mediacardfluence2',\n  cardSettings: 'Card Settings',\n  cardTitle: 'Social Media Profile Card',\n  morePlatforms: 'Show More Platforms',\n  remaining: '',\n  viewSourceCode: 'View source code and project details',\n  aspectRatio: 'Aspect Ratio',\n  custom: 'Custom',\n  cardSize: 'Card Size',\n  width: 'Width',\n  height: 'Height',\n  borderRadius: 'Border Radius',\n  iconSize: 'Icon Size',\n  font: 'Font',\n  backgroundColor: 'Background Color',\n  textColor: 'Text Color',\n  watermarkSettings: 'Watermark Settings',\n  showWatermark: 'Show Watermark',\n  watermarkText: 'Watermark Text',\n  watermarkPosition: 'Watermark Position',\n  opacity: 'Opacity',\n  fontSize: 'Font Size',\n  watermarkColor: 'Watermark Color',\n  exportSettings: 'Export Settings',\n  exportFormat: 'Export Format',\n  pngFormat: 'PNG (Transparent Background)',\n  jpegFormat: 'JPEG (Small File Size)',\n  scale: 'Scale',\n  quality: 'Quality',\n  low: 'Low',\n  medium: 'Medium',\n  high: 'High',\n  bottomRight: 'Bottom Right',\n  bottomLeft: 'Bottom Left',\n  topRight: 'Top Right',\n  topLeft: 'Top Left',\n  center: 'Center',\n  totalFollowersText: 'Total Followers',\n  sizeOverrides: 'Size Overrides',\n  // Background image related translations\n  backgroundImage: 'Background Image',\n  enableBackground: 'Enable Background Image',\n  imageSource: 'Image Source',\n  uploadImage: 'Upload Image',\n  themeBackground: 'Theme Background',\n  displaySettings: 'Display Settings',\n  imageEffects: 'Image Effects',\n  blur: 'Blur',\n  brightness: 'Brightness',\n  contrast: 'Contrast',\n  saturation: 'Saturation',\n  sepia: 'Sepia',\n  blendMode: 'Blend Mode',\n  position: 'Position',\n  size: 'Size',\n  repeat: 'Repeat',\n  normal: 'Normal',\n  multiply: 'Multiply',\n  screen: 'Screen',\n  overlay: 'Overlay',\n  softLight: 'Soft Light',\n  cover: 'Cover',\n  contain: 'Contain',\n  auto: 'Auto',\n  stretch: 'Stretch',\n  noRepeat: 'No Repeat',\n  repeatX: 'Repeat Horizontally',\n  repeatY: 'Repeat Vertically',\n  left: 'Left',\n  right: 'Right',\n  top: 'Top',\n  bottom: 'Bottom',\n  selectThemeBackground: 'Select Theme Background',\n  selectStyleVariant: 'Select Style Variant',\n  darkTheme: 'Dark theme, great for content contrast',\n  lightTheme: 'Light theme, creates bright atmosphere',\n  selected: 'Selected',\n  // Image upload component translations\n  uploadImageHere: 'Drag image here or click to select',\n  dropFileHere: 'Drop file to upload',\n  supportedFormats: 'Supported formats: JPEG, PNG, WebP, SVG (Max 10MB)',\n  selectFile: 'Select File',\n  processingImage: 'Processing image...',\n  removeImage: 'Remove Image',\n  uploadedBackground: 'Uploaded background image',\n  // Image effects description translations\n  blurDescription: 'Add blur effect, higher values create more blur',\n  brightnessDescription: 'Adjust image brightness, 1 is original brightness',\n  contrastDescription: 'Adjust image contrast, 1 is original contrast',\n  saturationDescription: 'Adjust color saturation, 1 is original saturation',\n  sepiaDescription: 'Add vintage sepia effect, 0 is no effect',\n  resetEffects: 'Reset Effects',\n  // Image effects quick presets\n  imageEffectsTitle: 'Image Effects',\n  effectsPresets: 'Quick Presets',\n  brightEffect: 'Bright',\n  darkEffect: 'Dark',\n  vintageEffect: 'Vintage',\n  softFocusEffect: 'Soft Focus',\n  mayBeCropped: 'may crop',\n  completeDisplay: 'complete display',\n  mayBeDeformed: 'may deform',\n  // 主题背景翻译\n  'theme.business': 'Business Professional',\n  'theme.creative': 'Creative Design',\n  'theme.tech': 'Tech Digital',\n  'theme.lifestyle': 'Lifestyle Fashion',\n  'theme.minimal': 'Minimal Clean',\n  'theme.elegant': 'Elegant Luxury',\n  'theme.nature': 'Nature Fresh',\n  // 主题描述翻译\n  'theme.business.description': 'Perfect for professional social media and business presentations',\n  'theme.creative.description': 'Ideal for designers, artists, and creative professionals',\n  'theme.tech.description': 'Perfect for tech bloggers, programmers, and tech companies',\n  'theme.lifestyle.description': 'Great for lifestyle bloggers and fashion content',\n  'theme.minimal.description': 'Clean and simple, suitable for all content types',\n  'theme.elegant.description': 'Suitable for luxury brands and high-end content',\n  'theme.nature.description': 'Perfect for outdoor and lifestyle content',\n  // 变体名称翻译\n  'variant.business-gradient-blue': 'Blue Gradient',\n  'variant.business-gradient-gray': 'Gray Gradient',\n  'variant.business-clean-light': 'Clean White',\n  'variant.creative-rainbow-gradient': 'Rainbow Gradient',\n  'variant.creative-abstract-colorful': 'Abstract Colorful',\n  'variant.creative-sunset-warm': 'Sunset Warm',\n  'variant.creative-neon-purple': 'Neon Purple',\n  'variant.creative-artistic-mix': 'Artistic Mix',\n  'variant.tech-circuit-blue': 'Circuit Blue',\n  'variant.tech-matrix-green': 'Matrix Green',\n  'variant.tech-neon-purple': 'Neon Purple',\n  'variant.tech-cyber-blue': 'Cyber Blue',\n  'variant.tech-neon-grid': 'Neon Grid',\n  'variant.lifestyle-pastel-pink': 'Pastel Pink',\n  'variant.lifestyle-natural-green': 'Natural Green',\n  'variant.minimal-white-clean': 'White Clean',\n  'variant.minimal-dark-elegant': 'Dark Elegant',\n  'variant.minimal-soft-gray': 'Soft Gray',\n  'variant.minimal-pure-white': 'Pure White',\n  'variant.minimal-warm-beige': 'Warm Beige',\n  'variant.elegant-gold-black': 'Gold Black',\n  'variant.elegant-silver-gradient': 'Silver Gradient',\n  'variant.elegant-rose-gold': 'Rose Gold',\n  'variant.nature-forest-green': 'Forest Green',\n  'variant.nature-ocean-blue': 'Ocean Blue',\n  'variant.nature-sunset-orange': 'Sunset Orange'\n};\n\nexport default enLocale; ","const zhLocale: { [key: string]: string } = {\n  appTitle: '社交媒体名片生成器',\n  toggleDarkMode: '切换到暗色模式',\n  toggleLightMode: '切换到亮色模式',\n  githubRepo: 'GitHub 仓库',\n  contactMe: '联系我',\n  wechatContact: '微信联系',\n  emailContact: '邮箱联系',\n  socialMediaData: '社交媒体数据',\n  totalFollowers: '总粉丝数',\n  updatedAt: '更新于',\n  resetData: '重置数据',\n  adaptToScreen: '适应屏幕',\n  exportCard: '导出图片',\n  exportingCard: '导出中',\n  contactWay: '联系方式',\n  inputYourData: '输入您的社交媒体数据',\n  contactInfoType: '联系方式类型',\n  wechatId: '微信号',\n  email: '邮箱',\n  twitter: 'X(Twitter)',\n  facebook: 'Facebook',\n  weibo: '微博',\n  douyin: '抖音',\n  xiaohongshu: '小红书',\n  discord: 'Discord',\n  reddit: 'Reddit',\n  tiktok: 'TikTok',\n  telegram: 'Telegram',\n  showMorePlatforms: '显示更多平台',\n  resetAll: '重置所有数据',\n  followers: '粉丝',\n  fansPlaceholder: '您可以在此添加粉丝人数',\n  wechatPlaceholder: '您可以在此添加联系微信，如mediacardfluence2888',\n  emailPlaceholder: '您可以在此添加联系邮箱，如mediacardfluence2@example.com',\n  twitterPlaceholder: '您可以在此添加X(Twitter)账号，如@mediacardfluence2',\n  facebookPlaceholder: '您可以在此添加Facebook账号，如mediacardfluence2',\n  weiboPlaceholder: '您可以在此添加微博账号，如@mediacardfluence2',\n  douyinPlaceholder: '您可以在此添加抖音账号，如mediacardfluence2',\n  xiaohongshuPlaceholder: '您可以在此添加小红书账号，如mediacardfluence2',\n  discordPlaceholder: '您可以在此添加Discord账号，如mediacardfluence2#1234',\n  redditPlaceholder: '您可以在此添加Reddit账号，如u/mediacardfluence2',\n  tiktokPlaceholder: '您可以在此添加TikTok账号，如@mediacardfluence2',\n  telegramPlaceholder: '您可以在此添加Telegram账号，如@mediacardfluence2',\n  cardSettings: '卡片设置',\n  cardTitle: '我的自媒体',\n  morePlatforms: '显示更多平台',\n  remaining: '个',\n  viewSourceCode: '查看源代码和项目详情',\n  aspectRatio: '宽高比',\n  custom: '自定义',\n  cardSize: '卡片大小',\n  width: '宽度',\n  height: '高度',\n  borderRadius: '边框圆角',\n  iconSize: '图标大小',\n  font: '字体',\n  backgroundColor: '背景颜色',\n  textColor: '文字颜色',\n  watermarkSettings: '水印设置',\n  showWatermark: '显示水印',\n  watermarkText: '水印文字',\n  watermarkPosition: '水印位置',\n  opacity: '透明度',\n  fontSize: '字体大小',\n  watermarkColor: '水印颜色',\n  exportSettings: '导出设置',\n  exportFormat: '导出格式',\n  pngFormat: 'PNG (支持透明背景)',\n  jpegFormat: 'JPEG (小文件体积)',\n  scale: '缩放比例',\n  quality: '质量',\n  low: '低',\n  medium: '中',\n  high: '高',\n  bottomRight: '右下角',\n  bottomLeft: '左下角',\n  topRight: '右上角',\n  topLeft: '左上角',\n  center: '居中',\n  totalFollowersText: '总粉丝',\n  sizeOverrides: '尺寸调整',\n  // 背景图片相关翻译\n  backgroundImage: '背景图片',\n  enableBackground: '启用背景图片',\n  imageSource: '图片来源',\n  uploadImage: '上传图片',\n  themeBackground: '主题背景',\n  displaySettings: '显示设置',\n  imageEffects: '图像效果',\n  blur: '模糊',\n  brightness: '亮度',\n  contrast: '对比度',\n  saturation: '饱和度',\n  sepia: '棕褐色',\n  blendMode: '混合模式',\n  position: '位置',\n  size: '大小',\n  repeat: '重复',\n  normal: '正常',\n  multiply: '正片叠底',\n  screen: '滤色',\n  overlay: '叠加',\n  softLight: '柔光',\n  cover: '覆盖',\n  contain: '包含',\n  auto: '自动',\n  stretch: '拉伸',\n  noRepeat: '不重复',\n  repeatX: '水平重复',\n  repeatY: '垂直重复',\n  left: '左',\n  right: '右',\n  top: '顶部',\n  bottom: '底部',\n  selectThemeBackground: '选择主题背景',\n  selectStyleVariant: '选择样式变体',\n  darkTheme: '深色主题，适合突出内容对比',\n  lightTheme: '浅色主题，营造明亮氛围',\n  selected: '已选',\n  // 图片上传组件翻译\n  uploadImageHere: '拖拽图片到这里或点击选择',\n  dropFileHere: '释放文件以上传',\n  supportedFormats: '支持格式：JPEG、PNG、WebP、SVG（最大10MB）',\n  selectFile: '选择文件',\n  processingImage: '正在处理图片...',\n  removeImage: '移除图片',\n  uploadedBackground: '上传的背景图片',\n  // 图片效果描述翻译\n  blurDescription: '添加模糊效果，数值越大越模糊',\n  brightnessDescription: '调整图片亮度，1为原始亮度',\n  contrastDescription: '调整图片对比度，1为原始对比度',\n  saturationDescription: '调整颜色饱和度，1为原始饱和度',\n  sepiaDescription: '添加怀旧褐色效果，0为无效果',\n  resetEffects: '重置特效',\n  // 图片特效快捷预设\n  imageEffectsTitle: '图片特效',\n  effectsPresets: '快捷预设',\n  brightEffect: '明亮',\n  darkEffect: '深沉',\n  vintageEffect: '复古',\n  softFocusEffect: '柔焦',\n  mayBeCropped: '可能裁剪',\n  completeDisplay: '完整显示',\n  mayBeDeformed: '可能变形',\n  // 主题背景翻译\n  'theme.business': '商务专业',\n  'theme.creative': '创意设计',\n  'theme.tech': '科技数码',\n  'theme.lifestyle': '生活时尚',\n  'theme.minimal': '极简干净',\n  'theme.elegant': '优雅奢华',\n  'theme.nature': '自然清新',\n  // 主题描述翻译\n  'theme.business.description': '适合职业社交媒体和商务展示',\n  'theme.creative.description': '适合设计师、艺术家、创意工作者',\n  'theme.tech.description': '适合技术博主、程序员、科技公司',\n  'theme.lifestyle.description': '适合生活博主和时尚内容',\n  'theme.minimal.description': '简洁干净，适合所有内容类型',\n  'theme.elegant.description': '适合奢侈品牌和高端内容',\n  'theme.nature.description': '适合户外和生活方式内容',\n  // 变体名称翻译\n  'variant.business-gradient-blue': '蓝色渐变',\n  'variant.business-gradient-gray': '灰色渐变',\n  'variant.business-clean-light': '简洁白色',\n  'variant.creative-rainbow-gradient': '彩虹渐变',\n  'variant.creative-abstract-colorful': '抽象彩色',\n  'variant.creative-sunset-warm': '暖阳夕照',\n  'variant.creative-neon-purple': '霓虹紫色',\n  'variant.creative-artistic-mix': '艺术混合',\n  'variant.tech-circuit-blue': '电路蓝',\n  'variant.tech-matrix-green': '矩阵绿',\n  'variant.tech-neon-purple': '霓虹紫',\n  'variant.tech-cyber-blue': '赛博蓝色',\n  'variant.tech-neon-grid': '霓虹网格',\n  'variant.lifestyle-pastel-pink': '淡雅粉',\n  'variant.lifestyle-natural-green': '自然绿',\n  'variant.minimal-white-clean': '简洁白',\n  'variant.minimal-dark-elegant': '深沉雅致',\n  'variant.minimal-soft-gray': '柔和灰',\n  'variant.minimal-pure-white': '纯白色',\n  'variant.minimal-warm-beige': '温暖米色',\n  'variant.elegant-gold-black': '金黑配色',\n  'variant.elegant-silver-gradient': '银色渐变',\n  'variant.elegant-rose-gold': '玫瑰金',\n  'variant.nature-forest-green': '森林绿',\n  'variant.nature-ocean-blue': '海洋蓝',\n  'variant.nature-sunset-orange': '夕阳橙'\n};\n\nexport default zhLocale; ","import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport { GlobalStyles } from '@mui/material';\r\nimport en from '../locales/en';\r\nimport zh from '../locales/zh';\r\n\r\ntype ThemeMode = 'light' | 'dark';\r\ntype Language = 'en' | 'zh';\r\n\r\ninterface ThemeContextType {\r\n  mode: ThemeMode;\r\n  language: Language;\r\n  toggleTheme: () => void;\r\n  setLanguage: (lang: Language) => void;\r\n  t: (key: string) => string;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nconst getInitialLanguage = (): Language => {\r\n  // 1. 检查localStorage中是否有保存的语言设置\r\n  const storedLanguage = localStorage.getItem('preferred-language') as Language;\r\n  if (storedLanguage && ['zh', 'en'].includes(storedLanguage)) {\r\n    return storedLanguage;\r\n  }\r\n\r\n  // 2. 检测浏览器语言\r\n  const primaryLang = navigator.language.toLowerCase();\r\n  \r\n  // 3. 检查是否为中文变体\r\n  const chineseVariants = ['zh', 'zh-cn', 'zh-tw', 'zh-hk', 'zh-sg'];\r\n  if (chineseVariants.some(variant => primaryLang.startsWith(variant))) {\r\n    return 'zh';\r\n  }\r\n\r\n  // 4. 检查浏览器语言偏好列表\r\n  if (navigator.languages) {\r\n    for (const lang of navigator.languages) {\r\n      const langLower = lang.toLowerCase();\r\n      if (chineseVariants.some(variant => langLower.startsWith(variant))) {\r\n        return 'zh';\r\n      }\r\n    }\r\n  }\r\n\r\n  // 5. 默认返回英文\r\n  return 'en';\r\n};\r\n\r\nconst getInitialTheme = (): ThemeMode => {\r\n  // 检查localStorage中是否有保存的主题设置\r\n  const storedMode = localStorage.getItem('theme-mode') as ThemeMode;\r\n  if (storedMode && ['light', 'dark'].includes(storedMode)) {\r\n    return storedMode;\r\n  }\r\n  \r\n  // 检测系统主题偏好\r\n  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n  const detectedMode: ThemeMode = prefersDark ? 'dark' : 'light';\r\n  return detectedMode;\r\n};\r\n\r\nexport const ThemeContextProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [mode, setMode] = useState<ThemeMode>(getInitialTheme);\r\n  const [language, setLanguageState] = useState<Language>(getInitialLanguage);\r\n\r\n  // 监听系统主题变化\r\n  useEffect(() => {\r\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    const handleChange = (e: MediaQueryListEvent) => {\r\n      const newMode: ThemeMode = e.matches ? 'dark' : 'light';\r\n      setMode(newMode);\r\n      localStorage.setItem('theme-mode', newMode);\r\n    };\r\n\r\n    mediaQuery.addListener(handleChange);\r\n    return () => mediaQuery.removeListener(handleChange);\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newMode: ThemeMode = mode === 'light' ? 'dark' : 'light';\r\n    setMode(newMode);\r\n    localStorage.setItem('theme-mode', newMode);\r\n  };\r\n\r\n  const setLanguage = (lang: Language) => {\r\n    setLanguageState(lang);\r\n    localStorage.setItem('preferred-language', lang);\r\n  };\r\n\r\n  const getTranslations = (lang: Language) => {\r\n    return lang === 'zh' ? zh : en;\r\n  };\r\n\r\n  const t = (key: string): string => {\r\n    const translations = getTranslations(language);\r\n    return translations[key as keyof typeof translations] || key;\r\n  };\r\n\r\n  const theme = createTheme({\r\n    palette: {\r\n      mode,\r\n      primary: {\r\n        main: mode === 'dark' ? '#90caf9' : '#1976d2',\r\n      },\r\n      secondary: {\r\n        main: mode === 'dark' ? '#f48fb1' : '#dc004e',\r\n      },\r\n      background: {\r\n        default: mode === 'dark' ? '#0a0a0a' : '#fafafa',\r\n        paper: mode === 'dark' ? '#1a1a1a' : '#ffffff',\r\n      },\r\n    },\r\n    typography: {\r\n      fontFamily: [\r\n        '-apple-system',\r\n        'BlinkMacSystemFont',\r\n        '\"Segoe UI\"',\r\n        'Roboto',\r\n        '\"Helvetica Neue\"',\r\n        'Arial',\r\n        'sans-serif',\r\n        '\"Apple Color Emoji\"',\r\n        '\"Segoe UI Emoji\"',\r\n        '\"Segoe UI Symbol\"',\r\n      ].join(','),\r\n    },\r\n    components: {\r\n      MuiButton: {\r\n        styleOverrides: {\r\n          root: {\r\n            textTransform: 'none',\r\n            borderRadius: 8,\r\n          },\r\n        },\r\n      },\r\n      MuiPaper: {\r\n        styleOverrides: {\r\n          root: {\r\n            backgroundImage: 'none',\r\n          },\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ mode, language, toggleTheme, setLanguage, t }}>\r\n      <ThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <GlobalStyles\r\n          styles={{\r\n            '*': {\r\n              scrollbarWidth: 'thin',\r\n              scrollbarColor: mode === 'dark' ? '#6b6b6b #2b2b2b' : '#c1c1c1 #f1f1f1',\r\n            },\r\n            '*::-webkit-scrollbar': {\r\n              width: '8px',\r\n            },\r\n            '*::-webkit-scrollbar-track': {\r\n              background: mode === 'dark' ? '#2b2b2b' : '#f1f1f1',\r\n            },\r\n            '*::-webkit-scrollbar-thumb': {\r\n              backgroundColor: mode === 'dark' ? '#6b6b6b' : '#c1c1c1',\r\n              borderRadius: '20px',\r\n              border: `3px solid ${mode === 'dark' ? '#2b2b2b' : '#f1f1f1'}`,\r\n            },\r\n          }}\r\n        />\r\n        {children}\r\n      </ThemeProvider>\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useThemeContext = (): ThemeContextType => {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useThemeContext must be used within a ThemeContextProvider');\r\n  }\r\n  return context;\r\n}; ","import React, { useState, useEffect } from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Container,\n  Box,\n  IconButton,\n  useMediaQuery,\n  Tooltip,\n  Drawer,\n  List,\n  ListItem,\n  CssBaseline\n} from '@mui/material';\nimport Brightness4Icon from '@mui/icons-material/Brightness4';\nimport Brightness7Icon from '@mui/icons-material/Brightness7';\nimport GitHubIcon from '@mui/icons-material/GitHub';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport CloseIcon from '@mui/icons-material/Close';\nimport TranslateIcon from '@mui/icons-material/Translate';\nimport { useThemeContext } from '../contexts/ThemeContext';\nimport { createFavicon } from '../utils/favicon';\n\ninterface LayoutProps {\n  children?: React.ReactNode;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const isMobile = useMediaQuery('(max-width:600px)');\n  const { mode, toggleTheme, language, setLanguage, t } = useThemeContext();\n  const isDarkMode = mode === 'dark';\n\n  // 生成并设置favicon\n  useEffect(() => {\n    createFavicon(isDarkMode);\n  }, [isDarkMode]);\n\n  const handleDrawerToggle = () => {\n    setDrawerOpen(!drawerOpen);\n  };\n\n  return (\n    <>\n      <CssBaseline />\n      <Box sx={{ display: 'flex', flexDirection: 'column', minHeight: '100vh' }}>\n        <AppBar \n          position=\"static\" \n          color=\"transparent\"\n          elevation={0}\n          sx={{ \n            backgroundColor: isDarkMode ? 'rgba(18, 18, 18, 0.95)' : 'rgba(255, 255, 255, 0.95)',\n            backdropFilter: 'blur(10px)',\n            borderBottom: '1px solid',\n            borderColor: isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'\n          }}\n        >\n          <Container maxWidth=\"lg\" sx={{ px: { xs: 1, sm: 2, md: 3 } }}>\n            <Toolbar \n              disableGutters \n              sx={{ \n                display: 'flex', \n                justifyContent: 'space-between' \n              }}\n            >\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                <Typography \n                  variant=\"h6\" \n                  component=\"div\" \n                  sx={{ \n                    fontWeight: 700,\n                    backgroundImage: isDarkMode\n                      ? 'linear-gradient(90deg, #90caf9, #ce93d8)'\n                      : 'linear-gradient(90deg, #1976d2, #9c27b0)',\n                    backgroundClip: 'text',\n                    color: 'transparent',\n                    WebkitBackgroundClip: 'text',\n                    textShadow: isDarkMode\n                      ? '0 0 30px rgba(144, 202, 249, 0.3)'\n                      : '0 0 30px rgba(25, 118, 210, 0.3)',\n                  }}\n                >\n                  {t('appTitle')}\n                </Typography>\n              </Box>\n\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                {isMobile ? (\n                  <IconButton\n                    color=\"inherit\"\n                    aria-label=\"open drawer\"\n                    edge=\"end\"\n                    onClick={handleDrawerToggle}\n                    sx={{ \n                      color: isDarkMode ? '#f5f5f5' : '#555555' \n                    }}\n                  >\n                    <MenuIcon />\n                  </IconButton>\n                ) : (\n                  <>\n                    <Tooltip title={language === 'zh' ? 'Switch to English' : '切换到中文'}>\n                      <IconButton \n                        onClick={() => setLanguage(language === 'zh' ? 'en' : 'zh')} \n                        sx={{ \n                          color: isDarkMode ? '#f5f5f5' : '#555555',\n                          transition: 'transform 0.3s ease, color 0.3s ease',\n                          '&:hover': {\n                            transform: 'scale(1.1)',\n                            color: isDarkMode ? '#90caf9' : '#1976d2'\n                          }\n                        }}\n                      >\n                        <TranslateIcon />\n                      </IconButton>\n                    </Tooltip>\n                    \n                    <Tooltip title={isDarkMode ? t('toggleLightMode') : t('toggleDarkMode')}>\n                      <IconButton \n                        onClick={toggleTheme} \n                        sx={{ \n                          color: isDarkMode ? '#f5f5f5' : '#555555',\n                          transition: 'transform 0.3s ease, color 0.3s ease',\n                          ml: 1,\n                          '&:hover': {\n                            transform: 'rotate(30deg)',\n                            color: isDarkMode ? '#90caf9' : '#1976d2'\n                          }\n                        }}\n                      >\n                        {isDarkMode ? <Brightness7Icon /> : <Brightness4Icon />}\n                      </IconButton>\n                    </Tooltip>\n                    \n                    <Tooltip title={t('githubRepo')}>\n                      <IconButton \n                        component=\"a\" \n                        href=\"https://github.com/maigamo/mediaCardfluence2\" \n                        target=\"_blank\"\n                        sx={{ \n                          color: isDarkMode ? '#f5f5f5' : '#555555',\n                          ml: 1,\n                          transition: 'transform 0.3s ease, color 0.3s ease',\n                          '&:hover': {\n                            transform: 'scale(1.1)',\n                            color: isDarkMode ? '#90caf9' : '#1976d2'\n                          }\n                        }}\n                      >\n                        <GitHubIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </>\n                )}\n              </Box>\n            </Toolbar>\n          </Container>\n        </AppBar>\n\n        {/* 移动端导航菜单 */}\n        <Drawer\n          anchor=\"right\"\n          open={drawerOpen}\n          onClose={handleDrawerToggle}\n          sx={{\n            '& .MuiDrawer-paper': {\n              width: '100%',\n              maxWidth: '300px',\n              background: isDarkMode \n                ? 'rgba(18, 18, 18, 0.95)' \n                : 'rgba(255, 255, 255, 0.95)',\n              backdropFilter: 'blur(15px)',\n              boxShadow: '0 0 25px rgba(0,0,0,0.3)',\n              borderLeft: '1px solid',\n              borderColor: isDarkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)'\n            }\n          }}\n        >\n          <Box sx={{ \n            p: 2.5, \n            display: 'flex', \n            justifyContent: 'space-between',\n            alignItems: 'center',\n            borderBottom: '1px solid',\n            borderColor: isDarkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)'\n          }}>\n            <Typography \n              variant=\"h6\" \n              sx={{ \n                fontWeight: 700,\n                background: isDarkMode \n                  ? 'linear-gradient(45deg, #90caf9, #64b5f6, #42a5f5)' \n                  : 'linear-gradient(45deg, #1976d2, #2196f3, #42a5f5)',\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                backgroundClip: 'text',\n                textFillColor: 'transparent',\n                letterSpacing: '0.5px'\n              }}\n            >\n              {t('appTitle')}\n            </Typography>\n            <IconButton \n              onClick={handleDrawerToggle}\n              sx={{\n                color: isDarkMode ? '#f5f5f5' : '#555555',\n                '&:hover': {\n                  backgroundColor: isDarkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)',\n                  transform: 'rotate(90deg)',\n                  transition: 'transform 0.3s ease'\n                }\n              }}\n            >\n              <CloseIcon />\n            </IconButton>\n          </Box>\n          <List sx={{ p: 2.5 }}>\n            <ListItem sx={{ mb: 2, p: 0 }}>\n              <Box\n                onClick={() => setLanguage(language === 'zh' ? 'en' : 'zh')}\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  width: '100%',\n                  py: 1.8,\n                  px: 2.5,\n                  borderRadius: '16px',\n                  cursor: 'pointer',\n                  transition: 'all 0.3s ease',\n                  border: '1px solid',\n                  borderColor: isDarkMode ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)',\n                  bgcolor: isDarkMode ? 'rgba(255,255,255,0.05)' : 'rgba(255,255,255,0.8)',\n                  backdropFilter: 'blur(10px)',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n                  '&:hover': {\n                    backgroundColor: isDarkMode ? 'rgba(255,255,255,0.08)' : 'rgba(0,0,0,0.03)',\n                    transform: 'translateY(-3px)',\n                    boxShadow: '0 8px 16px rgba(0,0,0,0.12)',\n                    borderColor: isDarkMode ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.12)'\n                  }\n                }}\n              >\n                <Box sx={{ \n                  mr: 2.5,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: 42,\n                  height: 42,\n                  borderRadius: '12px',\n                  background: isDarkMode \n                    ? 'linear-gradient(135deg, #2196f3, #21cbf3)' \n                    : 'linear-gradient(135deg, #1976d2, #42a5f5)',\n                  boxShadow: '0 4px 10px rgba(33, 150, 243, 0.3)'\n                }}>\n                  <TranslateIcon sx={{ color: '#fff', fontSize: '1.4rem' }} />\n                </Box>\n                <Box>\n                  <Typography sx={{ fontWeight: 600, fontSize: '1rem', mb: 0.3 }}>\n                    {language === 'zh' ? 'Switch to English' : '切换到中文'}\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ \n                    color: isDarkMode ? 'rgba(255,255,255,0.6)' : 'rgba(0,0,0,0.6)',\n                    fontSize: '0.8rem'\n                  }}>\n                    {language === 'zh' ? 'Change language to English' : '将语言切换为中文'}\n                  </Typography>\n                </Box>\n              </Box>\n            </ListItem>\n            <ListItem sx={{ mb: 2, p: 0 }}>\n              <Box\n                onClick={toggleTheme}\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  width: '100%',\n                  py: 1.8,\n                  px: 2.5,\n                  borderRadius: '16px',\n                  cursor: 'pointer',\n                  transition: 'all 0.3s ease',\n                  border: '1px solid',\n                  borderColor: isDarkMode ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)',\n                  bgcolor: isDarkMode ? 'rgba(255,255,255,0.05)' : 'rgba(255,255,255,0.8)',\n                  backdropFilter: 'blur(10px)',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n                  '&:hover': {\n                    backgroundColor: isDarkMode ? 'rgba(255,255,255,0.08)' : 'rgba(0,0,0,0.03)',\n                    transform: 'translateY(-3px)',\n                    boxShadow: '0 8px 16px rgba(0,0,0,0.12)',\n                    borderColor: isDarkMode ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.12)'\n                  }\n                }}\n              >\n                <Box sx={{ \n                  mr: 2.5,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: 42,\n                  height: 42,\n                  borderRadius: '12px',\n                  background: isDarkMode \n                    ? 'linear-gradient(135deg, #f9a825, #fdd835)' \n                    : 'linear-gradient(135deg, #546e7a, #78909c)',\n                  boxShadow: isDarkMode \n                    ? '0 4px 10px rgba(249, 168, 37, 0.3)' \n                    : '0 4px 10px rgba(84, 110, 122, 0.3)'\n                }}>\n                  {isDarkMode ? \n                    <Brightness7Icon sx={{ color: '#fff', fontSize: '1.4rem' }} /> : \n                    <Brightness4Icon sx={{ color: '#fff', fontSize: '1.4rem' }} />\n                  }\n                </Box>\n                <Box>\n                  <Typography sx={{ fontWeight: 600, fontSize: '1rem', mb: 0.3 }}>\n                    {isDarkMode ? t('toggleLightMode') : t('toggleDarkMode')}\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ \n                    color: isDarkMode ? 'rgba(255,255,255,0.6)' : 'rgba(0,0,0,0.6)',\n                    fontSize: '0.8rem'\n                  }}>\n                    {isDarkMode ? '切换到明亮视觉模式' : '切换到黑暗视觉模式'}\n                  </Typography>\n                </Box>\n              </Box>\n            </ListItem>\n            <ListItem sx={{ p: 0 }}>\n              <Box\n                component=\"a\"\n                href=\"https://github.com/maigamo/mediaCardfluence2\"\n                target=\"_blank\"\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  textDecoration: 'none',\n                  color: 'inherit',\n                  width: '100%',\n                  py: 1.8,\n                  px: 2.5,\n                  borderRadius: '16px',\n                  cursor: 'pointer',\n                  transition: 'all 0.3s ease',\n                  border: '1px solid',\n                  borderColor: isDarkMode ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)',\n                  bgcolor: isDarkMode ? 'rgba(255,255,255,0.05)' : 'rgba(255,255,255,0.8)',\n                  backdropFilter: 'blur(10px)',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n                  '&:hover': {\n                    backgroundColor: isDarkMode ? 'rgba(255,255,255,0.08)' : 'rgba(0,0,0,0.03)',\n                    transform: 'translateY(-3px)',\n                    boxShadow: '0 8px 16px rgba(0,0,0,0.12)',\n                    borderColor: isDarkMode ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.12)'\n                  }\n                }}\n              >\n                <Box sx={{ \n                  mr: 2.5,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: 42,\n                  height: 42,\n                  borderRadius: '12px',\n                  background: isDarkMode \n                    ? 'linear-gradient(135deg, #333333, #555555)' \n                    : 'linear-gradient(135deg, #333333, #555555)',\n                  boxShadow: '0 4px 10px rgba(0, 0, 0, 0.25)'\n                }}>\n                  <GitHubIcon sx={{ color: '#fff', fontSize: '1.4rem' }} />\n                </Box>\n                <Box>\n                  <Typography sx={{ fontWeight: 600, fontSize: '1rem', mb: 0.3 }}>\n                    {t('githubRepo')}\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ \n                    color: isDarkMode ? 'rgba(255,255,255,0.6)' : 'rgba(0,0,0,0.6)',\n                    fontSize: '0.8rem'\n                  }}>\n                    {t('viewSourceCode')}\n                  </Typography>\n                </Box>\n              </Box>\n            </ListItem>\n          </List>\n          <Box sx={{ \n            p: 2.5, \n            mt: 'auto', \n            borderTop: '1px solid', \n            borderColor: isDarkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            gap: 1\n          }}>\n            <Typography variant=\"caption\" sx={{ \n              color: isDarkMode ? 'rgba(255,255,255,0.5)' : 'rgba(0,0,0,0.5)',\n              fontSize: '0.7rem',\n              letterSpacing: '0.5px'\n            }}>\n              © 2023 MediaCardFluence\n            </Typography>\n          </Box>\n        </Drawer>\n\n        <Container \n          maxWidth=\"lg\" \n          sx={{ \n            flexGrow: 1, \n            py: 4,\n            px: { xs: 2, sm: 3, md: 4 },\n            display: 'flex',\n            flexDirection: 'column',\n            transition: 'background-color 0.5s ease'\n          }}\n        >\n          <Box \n            sx={{ \n              display: 'flex',\n              flexDirection: 'column',\n              flexGrow: 1,\n              width: '100%',\n              maxWidth: '100%'\n            }}\n          >\n            {children}\n          </Box>\n        </Container>\n      </Box>\n    </>\n  );\n};\n\nexport default Layout; ","/**\r\n * 生成动态favicon并应用到网站\r\n */\r\nexport const createFavicon = (isDarkMode: boolean = false) => {\r\n  // 创建画布\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = 64;\r\n  canvas.height = 64;\r\n  const ctx = canvas.getContext('2d');\r\n  \r\n  if (!ctx) return;\r\n  \r\n  // 根据主题选择颜色\r\n  const primaryColor = isDarkMode ? '#90caf9' : '#1976D2';\r\n  const secondaryColor = isDarkMode ? '#ce93d8' : '#9c27b0';\r\n  const shadowColor = isDarkMode ? 'rgba(144, 202, 249, 0.4)' : 'rgba(0, 0, 0, 0.3)';\r\n  \r\n  // 绘制背景渐变\r\n  const bgGradient = ctx.createLinearGradient(0, 0, 64, 64);\r\n  bgGradient.addColorStop(0, primaryColor);\r\n  bgGradient.addColorStop(1, secondaryColor);\r\n  \r\n  // 绘制阴影\r\n  ctx.shadowColor = shadowColor;\r\n  ctx.shadowBlur = 6;\r\n  ctx.shadowOffsetX = 0;\r\n  ctx.shadowOffsetY = 3;\r\n  \r\n  // 绘制圆角背景\r\n  ctx.fillStyle = bgGradient;\r\n  ctx.beginPath();\r\n  ctx.roundRect(0, 0, 64, 64, 16);\r\n  ctx.fill();\r\n  \r\n  // 重置阴影\r\n  ctx.shadowBlur = 0;\r\n  ctx.shadowOffsetX = 0;\r\n  ctx.shadowOffsetY = 0;\r\n  \r\n  // 绘制内部白色区域\r\n  ctx.fillStyle = isDarkMode ? 'rgba(255, 255, 255, 0.8)' : 'rgba(255, 255, 255, 0.9)';\r\n  ctx.beginPath();\r\n  ctx.roundRect(12, 12, 40, 40, 10);\r\n  ctx.fill();\r\n  \r\n  // 绘制中心图标的渐变\r\n  const innerGradient = ctx.createLinearGradient(20, 20, 44, 44);\r\n  innerGradient.addColorStop(0, primaryColor);\r\n  innerGradient.addColorStop(1, secondaryColor);\r\n  \r\n  // 绘制中心图标\r\n  ctx.fillStyle = innerGradient;\r\n  ctx.beginPath();\r\n  ctx.roundRect(20, 20, 24, 24, 6);\r\n  ctx.fill();\r\n  \r\n  // 添加高光效果\r\n  ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';\r\n  ctx.beginPath();\r\n  ctx.roundRect(20, 20, 24, 12, [6, 6, 0, 0]);\r\n  ctx.fill();\r\n  \r\n  // 绘制中心圆点\r\n  ctx.fillStyle = 'white';\r\n  ctx.beginPath();\r\n  ctx.arc(32, 32, 5, 0, Math.PI * 2);\r\n  ctx.fill();\r\n  \r\n  // 添加细微高光\r\n  ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\r\n  ctx.beginPath();\r\n  ctx.arc(30, 30, 2, 0, Math.PI * 2);\r\n  ctx.fill();\r\n  \r\n  // 转换为数据URL\r\n  const dataUrl = canvas.toDataURL('image/png');\r\n  \r\n  // 设置favicon\r\n  let link = document.querySelector(\"link[rel='icon']\") as HTMLLinkElement;\r\n  \r\n  if (!link) {\r\n    link = document.createElement('link');\r\n    link.rel = 'icon';\r\n    document.head.appendChild(link);\r\n  }\r\n  \r\n  link.href = dataUrl;\r\n  \r\n  // 为Safari和iOS设备设置苹果触摸图标\r\n  let appleLink = document.querySelector(\"link[rel='apple-touch-icon']\") as HTMLLinkElement;\r\n  \r\n  if (!appleLink) {\r\n    appleLink = document.createElement('link');\r\n    appleLink.rel = 'apple-touch-icon';\r\n    document.head.appendChild(appleLink);\r\n  }\r\n  \r\n  appleLink.href = dataUrl;\r\n}; ","export interface SocialPlatform {\r\n  id: string;\r\n  name: string;\r\n  color: string;\r\n  iconPath: string;\r\n  pngPath: string;\r\n  priority: {\r\n    zh: number; // 中文环境下的优先级（数字越小优先级越高）\r\n    en: number; // 英文环境下的优先级\r\n  };\r\n  region: 'china' | 'global'; // 平台区域分类\r\n}\r\n\r\nexport const socialPlatforms: SocialPlatform[] = [\r\n  // 中国主流平台\r\n  {\r\n    id: 'wechat',\r\n    name: '微信公众号',\r\n    color: '#07C160',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/wechat.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/wechat.png`,\r\n    priority: { zh: 1, en: 11 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'douyin',\r\n    name: '抖音',\r\n    color: '#000000',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/douyin.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/douyin.png`,\r\n    priority: { zh: 2, en: 12 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'xiaohongshu',\r\n    name: '小红书',\r\n    color: '#FE2C55',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/xiaohongshu.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/xiaohongshu.png`,\r\n    priority: { zh: 3, en: 13 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'weibo',\r\n    name: '微博',\r\n    color: '#E6162D',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/weibo.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/weibo.png`,\r\n    priority: { zh: 4, en: 14 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'bilibili',\r\n    name: 'B站',\r\n    color: '#00A1D6',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/bilibili.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/bilibili.png`,\r\n    priority: { zh: 5, en: 15 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'videoAccount',\r\n    name: '视频号',\r\n    color: '#FA5151',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/videoAccount.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/videoAccount.png`,\r\n    priority: { zh: 6, en: 16 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'kuaishou',\r\n    name: '快手',\r\n    color: '#FF5E00',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/kuaishou.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/kuaishou.png`,\r\n    priority: { zh: 7, en: 17 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'zhihu',\r\n    name: '知乎',\r\n    color: '#0084FF',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/zhihu.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/zhihu.png`,\r\n    priority: { zh: 8, en: 18 },\r\n    region: 'china'\r\n  },\r\n  {\r\n    id: 'juejin',\r\n    name: '掘金',\r\n    color: '#1E80FF',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/juejin.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/juejin.png`,\r\n    priority: { zh: 9, en: 19 },\r\n    region: 'china'\r\n  },\r\n  \r\n  // 海外主流平台\r\n  {\r\n    id: 'twitter',\r\n    name: 'X (Twitter)',\r\n    color: '#000000',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/twitter.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/twitter.png`,\r\n    priority: { zh: 10, en: 1 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'tiktok',\r\n    name: 'TikTok',\r\n    color: '#FE2C55',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/tiktok.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/tiktok.png`,\r\n    priority: { zh: 11, en: 2 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'facebook',\r\n    name: 'Facebook',\r\n    color: '#1877F2',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/facebook.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/facebook.png`,\r\n    priority: { zh: 12, en: 3 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'instagram',\r\n    name: 'Instagram',\r\n    color: '#E4405F',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/instagram.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/instagram.png`,\r\n    priority: { zh: 13, en: 4 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'youtube',\r\n    name: 'YouTube',\r\n    color: '#FF0000',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/youtube.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/youtube.png`,\r\n    priority: { zh: 14, en: 5 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'linkedin',\r\n    name: 'LinkedIn',\r\n    color: '#0A66C2',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/linkedin.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/linkedin.png`,\r\n    priority: { zh: 15, en: 6 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'reddit',\r\n    name: 'Reddit',\r\n    color: '#FF4500',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/reddit.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/reddit.png`,\r\n    priority: { zh: 16, en: 7 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'discord',\r\n    name: 'Discord',\r\n    color: '#5865F2',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/discord.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/discord.png`,\r\n    priority: { zh: 17, en: 8 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'telegram',\r\n    name: 'Telegram',\r\n    color: '#0088CC',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/telegram.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/telegram.png`,\r\n    priority: { zh: 18, en: 9 },\r\n    region: 'global'\r\n  },\r\n  {\r\n    id: 'snapchat',\r\n    name: 'Snapchat',\r\n    color: '#FFFC00',\r\n    iconPath: `${process.env.PUBLIC_URL}/icons/snapchat.svg`,\r\n    pngPath: `${process.env.PUBLIC_URL}/icons/snapchat.png`,\r\n    priority: { zh: 19, en: 10 },\r\n    region: 'global'\r\n  }\r\n];\r\n\r\n// 根据语言环境对平台进行排序\r\nexport const getSortedPlatforms = (language: 'zh' | 'en'): SocialPlatform[] => {\r\n  return [...socialPlatforms].sort((a, b) => {\r\n    return a.priority[language] - b.priority[language];\r\n  });\r\n};\r\n\r\n// 获取排序后的分页平台数据\r\nexport const getPaginatedPlatforms = (visibleCount: number, language: 'zh' | 'en' = 'zh'): SocialPlatform[] => {\r\n  const sortedPlatforms = getSortedPlatforms(language);\r\n  return sortedPlatforms.slice(0, Math.min(visibleCount, sortedPlatforms.length));\r\n}; ","import React, { useState, useEffect, useCallback } from 'react';\nimport { \n  Grid, \n  TextField, \n  Typography, \n  Button, \n  Box,\n  InputAdornment,\n  Paper,\n  Tooltip,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  SelectChangeEvent\n} from '@mui/material';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport { SocialMediaData, ContactInfo, UserData } from '../types/index';\nimport { socialPlatforms, getPaginatedPlatforms, getSortedPlatforms } from '../assets/socialPlatforms';\nimport { useThemeContext } from '../contexts/ThemeContext';\n\ninterface MediaFormProps {\n  userData: UserData;\n  onUpdateUserData: (data: UserData) => void;\n}\n\nconst initialSocialMediaData: SocialMediaData = {\n  // 中国主流平台\n  wechat: null,\n  douyin: null,\n  xiaohongshu: null,\n  weibo: null,\n  bilibili: null,\n  videoAccount: null,\n  kuaishou: null,\n  zhihu: null,\n  juejin: null,\n  \n  // 海外主流平台\n  twitter: null,\n  tiktok: null,\n  facebook: null,\n  instagram: null,\n  youtube: null,\n  linkedin: null,\n  reddit: null,\n  discord: null,\n  telegram: null,\n  snapchat: null\n};\n\nconst initialContactInfo: ContactInfo = {\n  wechatId: '',\n  email: '',\n  twitter: '',\n  facebook: ''\n};\n\nconst MediaForm: React.FC<MediaFormProps> = React.memo(({ userData, onUpdateUserData }) => {\n  const { mode, t, language } = useThemeContext();\n  const isDarkMode = mode === 'dark';\n  \n  const [socialMedia, setSocialMedia] = useState<SocialMediaData>(\n    userData.socialMedia || initialSocialMediaData\n  );\n  const [contactInfo, setContactInfo] = useState<ContactInfo>(\n    userData.contactInfo || initialContactInfo\n  );\n  // 联系方式状态\n  const [contactType, setContactType] = useState<'wechat' | 'email' | 'twitter' | 'facebook' | 'weibo' | 'douyin' | 'xiaohongshu' | 'discord' | 'reddit' | 'tiktok' | 'telegram'>('wechat');\n  const [localWechatId, setLocalWechatId] = useState(userData.contactInfo?.wechatId || '');\n  const [localEmail, setLocalEmail] = useState(userData.contactInfo?.email || '');\n  const [localTwitter, setLocalTwitter] = useState(userData.contactInfo?.twitter || '');\n  const [localFacebook, setLocalFacebook] = useState(userData.contactInfo?.facebook || '');\n  const [localWeibo, setLocalWeibo] = useState(userData.contactInfo?.weibo || '');\n  const [localDouyin, setLocalDouyin] = useState(userData.contactInfo?.douyin || '');\n  const [localXiaohongshu, setLocalXiaohongshu] = useState(userData.contactInfo?.xiaohongshu || '');\n  const [localDiscord, setLocalDiscord] = useState(userData.contactInfo?.discord || '');\n  const [localReddit, setLocalReddit] = useState(userData.contactInfo?.reddit || '');\n  const [localTiktok, setLocalTiktok] = useState(userData.contactInfo?.tiktok || '');\n  const [localTelegram, setLocalTelegram] = useState(userData.contactInfo?.telegram || '');\n  \n  // 初始化localSocialMedia，确保所有平台都有默认值\n  const initializeLocalSocialMedia = (socialMediaData: SocialMediaData): {[key: string]: string} => {\n    const result: {[key: string]: string} = {};\n    Object.entries(socialMediaData).forEach(([key, value]) => {\n      result[key] = value === null ? '' : String(value);\n    });\n    return result;\n  };\n  \n  const [localSocialMedia, setLocalSocialMedia] = useState<{[key: string]: string}>(\n    initializeLocalSocialMedia(userData.socialMedia || initialSocialMediaData)\n  );\n  const [visiblePlatformsCount, setVisiblePlatformsCount] = useState<number>(9);\n\n  // 当父组件传入的userData变化时更新组件状态\n  useEffect(() => {\n    if (userData) {\n      setSocialMedia(userData.socialMedia || initialSocialMediaData);\n      setContactInfo(userData.contactInfo || initialContactInfo);\n      setLocalWechatId(userData.contactInfo?.wechatId || '');\n      setLocalEmail(userData.contactInfo?.email || '');\n      setLocalTwitter(userData.contactInfo?.twitter || '');\n      setLocalFacebook(userData.contactInfo?.facebook || '');\n      setLocalWeibo(userData.contactInfo?.weibo || '');\n      setLocalDouyin(userData.contactInfo?.douyin || '');\n      setLocalXiaohongshu(userData.contactInfo?.xiaohongshu || '');\n      setLocalDiscord(userData.contactInfo?.discord || '');\n      setLocalReddit(userData.contactInfo?.reddit || '');\n      setLocalTiktok(userData.contactInfo?.tiktok || '');\n      setLocalTelegram(userData.contactInfo?.telegram || '');\n      \n      // 初始化本地输入值\n      setLocalSocialMedia(initializeLocalSocialMedia(userData.socialMedia || initialSocialMediaData));\n    }\n  }, [userData]);\n\n  // 优化更新函数，使用useCallback包装\n  const updateUserData = useCallback(() => {\n    onUpdateUserData({\n      socialMedia,\n      contactInfo,\n      updatedAt: new Date()\n    });\n  }, [socialMedia, contactInfo, onUpdateUserData]);\n\n  // 使用节流更新父组件\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      updateUserData();\n    }, 500); // 500ms节流\n\n    return () => clearTimeout(timer);\n  }, [socialMedia, contactInfo, updateUserData]);\n\n  const handleSocialMediaChange = (platform: string, value: string) => {\n    // 更新本地状态，保持输入框稳定\n    setLocalSocialMedia((prev: {[key: string]: string}) => ({\n      ...prev,\n      [platform]: value\n    }));\n    \n    // 延迟更新实际数据，避免界面频繁重绘导致闪烁\n    const numValue = value === '' ? null : Number(value);\n    setSocialMedia((prev: SocialMediaData) => ({\n      ...prev,\n      [platform]: numValue\n    }));\n  };\n\n  const handleContactInfoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (contactType === 'wechat') {\n      setLocalWechatId(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        wechatId: e.target.value\n      }));\n    } else if (contactType === 'email') {\n      setLocalEmail(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        email: e.target.value\n      }));\n    } else if (contactType === 'twitter') {\n      setLocalTwitter(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        twitter: e.target.value\n      }));\n    } else if (contactType === 'facebook') {\n      setLocalFacebook(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        facebook: e.target.value\n      }));\n    } else if (contactType === 'weibo') {\n      setLocalWeibo(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        weibo: e.target.value\n      }));\n    } else if (contactType === 'douyin') {\n      setLocalDouyin(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        douyin: e.target.value\n      }));\n    } else if (contactType === 'xiaohongshu') {\n      setLocalXiaohongshu(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        xiaohongshu: e.target.value\n      }));\n    } else if (contactType === 'discord') {\n      setLocalDiscord(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        discord: e.target.value\n      }));\n    } else if (contactType === 'reddit') {\n      setLocalReddit(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        reddit: e.target.value\n      }));\n    } else if (contactType === 'tiktok') {\n      setLocalTiktok(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        tiktok: e.target.value\n      }));\n    } else if (contactType === 'telegram') {\n      setLocalTelegram(e.target.value);\n      setContactInfo(prev => ({\n        ...prev,\n        telegram: e.target.value\n      }));\n    }\n  };\n\n  const handleContactTypeChange = (e: SelectChangeEvent) => {\n    const newContactType = e.target.value as 'wechat' | 'email' | 'twitter' | 'facebook' | 'weibo' | 'douyin' | 'xiaohongshu' | 'discord' | 'reddit' | 'tiktok' | 'telegram';\n    \n    // 清除当前选中类型的输入内容（防止重复显示联系方式）\n    if (contactType === 'wechat') {\n      setLocalWechatId('');\n      setContactInfo(prev => ({ ...prev, wechatId: '' }));\n    } else if (contactType === 'email') {\n      setLocalEmail('');\n      setContactInfo(prev => ({ ...prev, email: '' }));\n    } else if (contactType === 'twitter') {\n      setLocalTwitter('');\n      setContactInfo(prev => ({ ...prev, twitter: '' }));\n    } else if (contactType === 'facebook') {\n      setLocalFacebook('');\n      setContactInfo(prev => ({ ...prev, facebook: '' }));\n    } else if (contactType === 'weibo') {\n      setLocalWeibo('');\n      setContactInfo(prev => ({ ...prev, weibo: '' }));\n    } else if (contactType === 'douyin') {\n      setLocalDouyin('');\n      setContactInfo(prev => ({ ...prev, douyin: '' }));\n    } else if (contactType === 'xiaohongshu') {\n      setLocalXiaohongshu('');\n      setContactInfo(prev => ({ ...prev, xiaohongshu: '' }));\n    } else if (contactType === 'discord') {\n      setLocalDiscord('');\n      setContactInfo(prev => ({ ...prev, discord: '' }));\n    } else if (contactType === 'reddit') {\n      setLocalReddit('');\n      setContactInfo(prev => ({ ...prev, reddit: '' }));\n    } else if (contactType === 'tiktok') {\n      setLocalTiktok('');\n      setContactInfo(prev => ({ ...prev, tiktok: '' }));\n    } else if (contactType === 'telegram') {\n      setLocalTelegram('');\n      setContactInfo(prev => ({ ...prev, telegram: '' }));\n    }\n    \n    setContactType(newContactType);\n  };\n\n  const handleReset = () => {\n    setSocialMedia(initialSocialMediaData);\n    setContactInfo(initialContactInfo);\n    setLocalWechatId('');\n    setLocalEmail('');\n    setLocalTwitter('');\n    setLocalFacebook('');\n    setLocalWeibo('');\n    setLocalDouyin('');\n    setLocalXiaohongshu('');\n    setLocalDiscord('');\n    setLocalReddit('');\n    setLocalTiktok('');\n    setLocalTelegram('');\n  };\n\n  const handleShowMorePlatforms = () => {\n    setVisiblePlatformsCount(prev => prev + 6);\n  };\n\n  // 获取当前应该显示的平台，根据语言环境进行排序\n  const visiblePlatforms = getPaginatedPlatforms(visiblePlatformsCount, language);\n  // 是否还有更多平台可以显示\n  const sortedPlatforms = getSortedPlatforms(language);\n  const hasMorePlatforms = visiblePlatformsCount < sortedPlatforms.length;\n\n  // 获取按语言排序的联系方式选项\n  const getContactOptions = () => {\n    if (language === 'zh') {\n      // 中文：中国主流平台优先\n      return [\n        { value: 'wechat', label: t('wechatId'), icon: 'wechat.png' },\n        { value: 'weibo', label: t('weibo'), icon: 'weibo.png' },\n        { value: 'douyin', label: t('douyin'), icon: 'douyin.png' },\n        { value: 'xiaohongshu', label: t('xiaohongshu'), icon: 'xiaohongshu.png' },\n        { value: 'email', label: t('email'), icon: 'mail.png' },\n        { value: 'twitter', label: t('twitter'), icon: 'twitter.png' },\n        { value: 'facebook', label: t('facebook'), icon: 'facebook.png' },\n        { value: 'tiktok', label: t('tiktok'), icon: 'tiktok.png' },\n        { value: 'discord', label: t('discord'), icon: 'discord.png' },\n        { value: 'reddit', label: t('reddit'), icon: 'reddit.png' },\n        { value: 'telegram', label: t('telegram'), icon: 'telegram.png' }\n      ];\n    } else {\n      // 英文：国际主流平台优先\n      return [\n        { value: 'email', label: t('email'), icon: 'mail.png' },\n        { value: 'twitter', label: t('twitter'), icon: 'twitter.png' },\n        { value: 'facebook', label: t('facebook'), icon: 'facebook.png' },\n        { value: 'tiktok', label: t('tiktok'), icon: 'tiktok.png' },\n        { value: 'discord', label: t('discord'), icon: 'discord.png' },\n        { value: 'reddit', label: t('reddit'), icon: 'reddit.png' },\n        { value: 'telegram', label: t('telegram'), icon: 'telegram.png' },\n        { value: 'wechat', label: t('wechatId'), icon: 'wechat.png' },\n        { value: 'weibo', label: t('weibo'), icon: 'weibo.png' },\n        { value: 'douyin', label: t('douyin'), icon: 'douyin.png' },\n        { value: 'xiaohongshu', label: t('xiaohongshu'), icon: 'xiaohongshu.png' }\n      ];\n    }\n  };\n\n  return (\n    <Paper \n      elevation={3} \n      sx={{ \n        p: 3, \n        borderRadius: '12px',\n        backgroundColor: isDarkMode ? 'rgba(255,255,255,0.05)' : '#ffffff',\n        border: '1px solid',\n        borderColor: isDarkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.08)',\n        boxShadow: isDarkMode \n          ? '0 8px 20px rgba(0,0,0,0.2)' \n          : '0 10px 25px rgba(0,0,0,0.08)',\n        transition: 'all 0.3s ease'\n      }}\n    >\n      <Typography \n        variant=\"h5\" \n        gutterBottom \n        sx={{ \n          fontWeight: 600, \n          color: isDarkMode ? '#fff' : '#1a1a2e',\n          borderBottom: '2px solid',\n          borderColor: 'primary.main',\n          pb: 1,\n          mb: 3\n        }}\n      >\n        {t('inputYourData')}\n      </Typography>\n      \n      <Grid container spacing={3}>\n        {visiblePlatforms.map(platform => (\n          <Grid item xs={12} sm={6} md={4} key={platform.id}>\n            <TextField\n              fullWidth\n              label={platform.name}\n              type=\"number\"\n              placeholder={t('fansPlaceholder')}\n              value={localSocialMedia[platform.id] || ''}\n              onChange={(e) => handleSocialMediaChange(platform.id, e.target.value)}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Box \n                      component=\"img\"\n                      sx={{ \n                        width: 20, \n                        height: 20,\n                        mr: 1,\n                        objectFit: 'contain',\n                        transition: 'transform 0.3s ease',\n                        '&:hover': {\n                          transform: 'scale(1.15)'\n                        }\n                      }}\n                      alt={platform.name}\n                      src={platform.pngPath}\n                      onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                        const target = e.target as HTMLImageElement;\n                        target.onerror = null;\n                        target.src = platform.iconPath;\n                      }}\n                    />\n                  </InputAdornment>\n                ),\n                endAdornment: <InputAdornment position=\"end\">{t('followers')}</InputAdornment>,\n                sx: {\n                  borderRadius: '10px',\n                  transition: 'all 0.3s ease',\n                  '& .MuiOutlinedInput-notchedOutline': {\n                    borderColor: isDarkMode ? 'rgba(255,255,255,0.2)' : 'rgba(0,0,0,0.2)',\n                    transition: 'border-color 0.3s ease'\n                  },\n                  '&:hover .MuiOutlinedInput-notchedOutline': {\n                    borderColor: isDarkMode ? 'rgba(255,255,255,0.3)' : 'rgba(0,0,0,0.3)',\n                    boxShadow: '0 0 8px rgba(0,0,0,0.05)'\n                  },\n                  '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n                    borderColor: platform.color,\n                    boxShadow: `0 0 0 2px ${platform.color}25`\n                  },\n                  '&:hover': {\n                    transform: 'translateY(-2px)'\n                  }\n                }\n              }}\n              inputProps={{\n                min: 0,\n                max: 999999999,\n              }}\n              sx={{\n                '& .MuiInputLabel-root': {\n                  color: isDarkMode ? 'rgba(255,255,255,0.7)' : 'rgba(0,0,0,0.7)'\n                },\n                '& .MuiInputLabel-root.Mui-focused': {\n                  color: platform.color\n                }\n              }}\n            />\n          </Grid>\n        ))}\n      </Grid>\n      \n      {hasMorePlatforms && (\n        <Box \n          sx={{ \n            display: 'flex', \n            justifyContent: 'center', \n            mt: 4,\n            mb: 2 \n          }}\n        >\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={handleShowMorePlatforms}\n            startIcon={<Box sx={{ display: 'flex', alignItems: 'center' }}>+</Box>}\n            sx={{\n              borderRadius: '20px',\n              px: 3,\n              py: 1,\n              borderWidth: '2px',\n              fontWeight: 500,\n              transition: 'all 0.3s ease',\n              '&:hover': {\n                transform: 'translateY(-2px)',\n                boxShadow: '0 4px 8px rgba(0,0,0,0.1)'\n              }\n            }}\n          >\n            {t('morePlatforms')} ({socialPlatforms.length - visiblePlatformsCount}{t('remaining')})\n          </Button>\n        </Box>\n      )}\n      \n      <Box sx={{ mt: 6, mb: 3 }}>\n        <Typography \n          variant=\"h6\" \n          gutterBottom \n          sx={{ \n            fontWeight: 600, \n            color: isDarkMode ? '#fff' : '#1a1a2e',\n            borderBottom: '1px solid',\n            borderColor: isDarkMode ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)',\n            pb: 1,\n            mb: 3\n          }}\n        >\n          {t('contactWay')}\n        </Typography>\n        \n        <Grid container spacing={3} sx={{ mb: 4 }}>\n          <Grid item xs={12}>\n            <Box sx={{ \n              display: 'flex', \n              flexDirection: 'column',\n              gap: 2,\n              position: 'relative',\n              transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)'\n            }}>\n              <FormControl sx={{ \n                position: 'relative',\n                boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n                borderRadius: '12px',\n                border: '1px solid',\n                borderColor: isDarkMode ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)',\n                bgcolor: isDarkMode ? 'rgba(255,255,255,0.05)' : 'rgba(255,255,255,0.8)',\n                p: 2,\n                transform: 'translateY(0)',\n                transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n                '&:hover': {\n                  transform: 'translateY(-4px)',\n                  boxShadow: '0 8px 16px rgba(0,0,0,0.12)'\n                }\n              }}>\n                <InputLabel id=\"contact-type-label\" sx={{ \n                  position: 'relative', \n                  transform: 'none',\n                  color: isDarkMode ? 'rgba(255,255,255,0.7)' : 'rgba(0,0,0,0.7)',\n                  fontSize: '0.9rem',\n                  mb: 1,\n                  fontWeight: 500\n                }}>{t('contactInfoType')}</InputLabel>\n                <Select\n                  labelId=\"contact-type-label\"\n                  value={contactType}\n                  onChange={handleContactTypeChange}\n                  sx={{\n                    '& .MuiOutlinedInput-notchedOutline': { border: 'none' },\n                    '&:hover .MuiOutlinedInput-notchedOutline': { border: 'none' },\n                    '&.Mui-focused .MuiOutlinedInput-notchedOutline': { border: 'none' },\n                    bgcolor: isDarkMode ? 'rgba(255,255,255,0.08)' : 'white',\n                    borderRadius: '8px',\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\n                    fontWeight: 500\n                  }}\n                >\n                  {getContactOptions().map(option => (\n                    <MenuItem key={option.value} value={option.value}>\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <Box \n                          component=\"img\"\n                          src={`${process.env.PUBLIC_URL}/icons/${option.icon}`}\n                          alt={option.label}\n                          style={{ width: 20, height: 20 }}\n                        />\n                        {option.label}\n                      </Box>\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              \n              <Box sx={{\n                position: 'relative',\n                borderRadius: '12px',\n                boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n                border: '1px solid',\n                borderColor: isDarkMode ? 'rgba(255,255,255,0.15)' : 'rgba(0,0,0,0.08)',\n                bgcolor: isDarkMode ? 'rgba(255,255,255,0.05)' : 'rgba(255,255,255,0.8)',\n                p: 2,\n                mt: 1,\n                transform: 'translateY(0)',\n                transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n                '&:hover': {\n                  transform: 'translateY(-4px)',\n                  boxShadow: '0 8px 16px rgba(0,0,0,0.12)'\n                }\n              }}>\n                <TextField\n                  fullWidth\n                  label={contactType === 'wechat' ? t('wechatId') : contactType === 'email' ? t('email') : contactType === 'twitter' ? t('twitter') : contactType === 'facebook' ? t('facebook') : contactType === 'weibo' ? t('weibo') : contactType === 'douyin' ? t('douyin') : contactType === 'xiaohongshu' ? t('xiaohongshu') : contactType === 'discord' ? t('discord') : contactType === 'reddit' ? t('reddit') : contactType === 'tiktok' ? t('tiktok') : t('telegram')}\n                  placeholder={contactType === 'wechat' \n                    ? t('wechatPlaceholder')\n                    : contactType === 'email' ? t('emailPlaceholder') : contactType === 'twitter' ? t('twitterPlaceholder') : contactType === 'facebook' ? t('facebookPlaceholder') : contactType === 'weibo' ? t('weiboPlaceholder') : contactType === 'douyin' ? t('douyinPlaceholder') : contactType === 'xiaohongshu' ? t('xiaohongshuPlaceholder') : contactType === 'discord' ? t('discordPlaceholder') : contactType === 'reddit' ? t('redditPlaceholder') : contactType === 'tiktok' ? t('tiktokPlaceholder') : t('telegramPlaceholder')}\n                  value={contactType === 'wechat' ? localWechatId : contactType === 'email' ? localEmail : contactType === 'twitter' ? localTwitter : contactType === 'facebook' ? localFacebook : contactType === 'weibo' ? localWeibo : contactType === 'douyin' ? localDouyin : contactType === 'xiaohongshu' ? localXiaohongshu : contactType === 'discord' ? localDiscord : contactType === 'reddit' ? localReddit : contactType === 'tiktok' ? localTiktok : localTelegram}\n                  onChange={handleContactInfoChange}\n                  variant=\"standard\"\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                          <Box \n                            component=\"img\"\n                            sx={{ \n                              width: 24, \n                              height: 24,\n                              mr: 1\n                            }}\n                          alt={getContactOptions().find(option => option.value === contactType)?.label || ''}\n                          src={`${process.env.PUBLIC_URL}/icons/${getContactOptions().find(option => option.value === contactType)?.icon || 'wechat.png'}`}\n                            onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                              const target = e.target as HTMLImageElement;\n                              target.onerror = null;\n                            // 如果png失败，尝试svg\n                            const iconName = getContactOptions().find(option => option.value === contactType)?.icon?.replace('.png', '.svg') || 'wechat.svg';\n                            target.src = `${process.env.PUBLIC_URL}/icons/${iconName}`;\n                            }}\n                          />\n                      </InputAdornment>\n                    ),\n                    disableUnderline: true,\n                    sx: {\n                      px: 2,\n                      py: 1,\n                      bgcolor: isDarkMode ? 'rgba(255,255,255,0.08)' : 'white',\n                      borderRadius: '8px',\n                      boxShadow: '0 2px 8px rgba(0,0,0,0.05)',\n                      '&:hover': {\n                        bgcolor: isDarkMode ? 'rgba(255,255,255,0.12)' : 'rgba(242,242,242,1)'\n                      },\n                      transition: 'background-color 0.3s ease'\n                    }\n                  }}\n                  sx={{ \n                    '& .MuiFormLabel-root': {\n                      color: isDarkMode ? 'rgba(255,255,255,0.7)' : 'rgba(0,0,0,0.7)',\n                      fontSize: '0.9rem',\n                      transform: 'translate(0, -12px) scale(1)',\n                      fontWeight: 500\n                    },\n                    '& .MuiInputLabel-shrink': {\n                      transform: 'translate(0, -12px) scale(1)'\n                    }\n                  }}\n                />\n              </Box>\n            </Box>\n          </Grid>\n        </Grid>\n        \n        <Tooltip title={t('resetAll')}>\n          <Button \n            variant=\"outlined\" \n            color=\"error\" \n            onClick={handleReset}\n            startIcon={<RefreshIcon />}\n            sx={{ \n              minWidth: '100px',\n              height: '46px',\n              borderRadius: '8px',\n              transition: 'all 0.3s ease',\n              '&:hover': {\n                transform: 'translateY(-2px)',\n                boxShadow: '0 4px 8px rgba(0,0,0,0.1)'\n              }\n            }}\n          >\n            {t('resetData')}\n          </Button>\n        </Tooltip>\n      </Box>\n    </Paper>\n  );\n});\n\nexport default MediaForm; ","import { ValidationResult } from '../types/index';\r\n\r\n// 文件大小限制：10MB\r\nconst MAX_FILE_SIZE = 10 * 1024 * 1024;\r\n\r\n// 支持的图片格式\r\nconst SUPPORTED_FORMATS = [\r\n  'image/jpeg',\r\n  'image/png', \r\n  'image/webp',\r\n  'image/svg+xml'\r\n];\r\n\r\n// 支持的文件扩展名\r\nconst SUPPORTED_EXTENSIONS = [\r\n  '.jpg',\r\n  '.jpeg',\r\n  '.png',\r\n  '.webp',\r\n  '.svg'\r\n];\r\n\r\n/**\r\n * 验证图片文件\r\n * @param file 要验证的文件\r\n * @returns 验证结果\r\n */\r\nexport const validateImage = async (file: File): Promise<ValidationResult> => {\r\n  try {\r\n    // 1. 文件大小检查\r\n    if (file.size > MAX_FILE_SIZE) {\r\n      return {\r\n        isValid: false,\r\n        error: `文件大小不能超过${Math.round(MAX_FILE_SIZE / 1024 / 1024)}MB`\r\n      };\r\n    }\r\n\r\n    // 2. 格式验证\r\n    if (!SUPPORTED_FORMATS.includes(file.type)) {\r\n      return {\r\n        isValid: false,\r\n        error: '不支持的文件格式，请使用 JPEG、PNG、WebP 或 SVG 格式'\r\n      };\r\n    }\r\n\r\n    // 3. 文件扩展名验证\r\n    const fileName = file.name.toLowerCase();\r\n    const hasValidExtension = SUPPORTED_EXTENSIONS.some(ext => \r\n      fileName.endsWith(ext)\r\n    );\r\n    \r\n    if (!hasValidExtension) {\r\n      return {\r\n        isValid: false,\r\n        error: '文件扩展名不正确'\r\n      };\r\n    }\r\n\r\n    // 4. 图片完整性检查\r\n    const isValidImage = await checkImageIntegrity(file);\r\n    if (!isValidImage) {\r\n      return {\r\n        isValid: false,\r\n        error: '文件已损坏或不是有效的图片'\r\n      };\r\n    }\r\n\r\n    return { isValid: true };\r\n  } catch (error) {\r\n    console.error('图片验证过程中发生错误:', error);\r\n    return {\r\n      isValid: false,\r\n      error: '图片验证失败，请重试'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * 检查图片完整性\r\n * @param file 要检查的文件\r\n * @returns 是否为有效图片\r\n */\r\nexport const checkImageIntegrity = async (file: File): Promise<boolean> => {\r\n  return new Promise((resolve) => {\r\n    const img = new Image();\r\n    const url = URL.createObjectURL(file);\r\n    \r\n    img.onload = () => {\r\n      URL.revokeObjectURL(url);\r\n      // 检查图片是否有有效的尺寸\r\n      resolve(img.width > 0 && img.height > 0);\r\n    };\r\n    \r\n    img.onerror = () => {\r\n      URL.revokeObjectURL(url);\r\n      resolve(false);\r\n    };\r\n    \r\n    img.src = url;\r\n  });\r\n};\r\n\r\n/**\r\n * 获取图片尺寸\r\n * @param file 图片文件\r\n * @returns 图片尺寸\r\n */\r\nexport const getImageDimensions = async (file: File): Promise<{width: number, height: number}> => {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image();\r\n    const url = URL.createObjectURL(file);\r\n    \r\n    img.onload = () => {\r\n      URL.revokeObjectURL(url);\r\n      resolve({\r\n        width: img.width,\r\n        height: img.height\r\n      });\r\n    };\r\n    \r\n    img.onerror = () => {\r\n      URL.revokeObjectURL(url);\r\n      reject(new Error('无法读取图片尺寸'));\r\n    };\r\n    \r\n    img.src = url;\r\n  });\r\n};\r\n\r\n/**\r\n * 检查文件是否为图片\r\n * @param file 要检查的文件\r\n * @returns 是否为图片文件\r\n */\r\nexport const isImageFile = (file: File): boolean => {\r\n  return SUPPORTED_FORMATS.includes(file.type);\r\n};\r\n\r\n/**\r\n * 格式化文件大小\r\n * @param bytes 字节数\r\n * @returns 格式化后的文件大小字符串\r\n */\r\nexport const formatFileSize = (bytes: number): string => {\r\n  if (bytes === 0) return '0 B';\r\n  \r\n  const k = 1024;\r\n  const sizes = ['B', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  \r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\n/**\r\n * 获取支持的文件格式列表\r\n * @returns 支持的格式数组\r\n */\r\nexport const getSupportedFormats = (): string[] => {\r\n  return [...SUPPORTED_FORMATS];\r\n};\r\n\r\n/**\r\n * 获取支持的扩展名列表\r\n * @returns 支持的扩展名数组\r\n */\r\nexport const getSupportedExtensions = (): string[] => {\r\n  return [...SUPPORTED_EXTENSIONS];\r\n};\r\n\r\n/**\r\n * 生成文件的唯一键\r\n * @param file 文件对象\r\n * @returns 唯一键字符串\r\n */\r\nexport const generateFileKey = (file: File): string => {\r\n  return `${file.name}_${file.size}_${file.lastModified}`;\r\n}; ","import React, { useCallback, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Paper,\r\n  LinearProgress,\r\n  Alert,\r\n  Button,\r\n  Chip\r\n} from '@mui/material';\r\nimport {\r\n  CloudUpload as CloudUploadIcon,\r\n  Image as ImageIcon,\r\n  Delete as DeleteIcon\r\n} from '@mui/icons-material';\r\nimport { validateImage, formatFileSize } from '../../utils/imageValidation';\r\nimport { UploadedImage } from '../../types/index';\r\nimport { useThemeContext } from '../../contexts/ThemeContext';\r\n\r\ninterface ImageUploaderProps {\r\n  onImageUpload: (image: UploadedImage) => void;\r\n  onImageRemove: () => void;\r\n  currentImage?: UploadedImage | null;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst ImageUploader: React.FC<ImageUploaderProps> = ({\r\n  onImageUpload,\r\n  onImageRemove,\r\n  currentImage,\r\n  disabled = false\r\n}) => {\r\n  const { t } = useThemeContext();\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // 定义processFile函数，放在其他useCallback之前\r\n  const processFile = useCallback(async (file: File) => {\r\n    setError(null);\r\n    setUploading(true);\r\n\r\n    try {\r\n      // 验证文件\r\n      const validation = await validateImage(file);\r\n      if (!validation.isValid) {\r\n        setError(validation.error || '文件验证失败');\r\n        return;\r\n      }\r\n\r\n      // 将文件转换为Data URL而不是Blob URL\r\n      // 这样可以避免html2canvas处理时的兼容性问题\r\n      const dataUrl = await convertFileToDataUrl(file);\r\n      \r\n      // 创建上传图片对象\r\n      const uploadedImage: UploadedImage = {\r\n        file,\r\n        url: dataUrl, // 使用Data URL而不是Blob URL\r\n        name: file.name,\r\n        size: file.size\r\n      };\r\n\r\n      onImageUpload(uploadedImage);\r\n    } catch (err) {\r\n      console.error('处理文件时发生错误:', err);\r\n      setError('文件处理失败，请重试');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  }, [onImageUpload]);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    if (!disabled) {\r\n      setIsDragOver(true);\r\n    }\r\n  }, [disabled]);\r\n\r\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback(async (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragOver(false);\r\n    \r\n    if (disabled) return;\r\n\r\n    const files = Array.from(e.dataTransfer.files);\r\n    if (files.length > 0) {\r\n      await processFile(files[0]);\r\n    }\r\n  }, [disabled, processFile]);\r\n\r\n  const handleFileSelect = useCallback(async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files;\r\n    if (files && files[0]) {\r\n      await processFile(files[0]);\r\n    }\r\n    // 清空input值，允许重复选择同一文件\r\n    e.target.value = '';\r\n  }, [processFile]);\r\n\r\n  // 将文件转换为Data URL的工具函数\r\n  const convertFileToDataUrl = (file: File): Promise<string> => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      \r\n      reader.onload = (event) => {\r\n        const result = event.target?.result;\r\n        if (typeof result === 'string') {\r\n          resolve(result);\r\n        } else {\r\n          reject(new Error('文件读取失败'));\r\n        }\r\n      };\r\n      \r\n      reader.onerror = () => {\r\n        reject(new Error('文件读取失败'));\r\n      };\r\n      \r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  const handleRemoveImage = () => {\r\n    if (currentImage) {\r\n      // Data URL不需要手动释放资源\r\n      onImageRemove();\r\n    }\r\n  };\r\n\r\n  // 如果已有图片，显示图片信息\r\n  if (currentImage) {\r\n    return (\r\n      <Paper\r\n        elevation={1}\r\n        sx={{\r\n          p: 2,\r\n          textAlign: 'center',\r\n          border: '1px solid',\r\n          borderColor: 'primary.main',\r\n          backgroundColor: 'background.paper'\r\n        }}\r\n      >\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n          <ImageIcon sx={{ mr: 1, color: 'primary.main' }} />\r\n          <Typography variant=\"body2\" sx={{ flexGrow: 1, textAlign: 'left' }}>\r\n            {currentImage.name}\r\n          </Typography>\r\n          <Chip\r\n            label={formatFileSize(currentImage.size)}\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            sx={{ ml: 1 }}\r\n          />\r\n        </Box>\r\n        \r\n        <Box sx={{ mb: 2 }}>\r\n          <img\r\n            src={currentImage.url}\r\n            alt={t('uploadedBackground') || '上传的背景图片'}\r\n            style={{\r\n              maxWidth: '100%',\r\n              maxHeight: '120px',\r\n              borderRadius: '8px',\r\n              objectFit: 'cover'\r\n            }}\r\n          />\r\n        </Box>\r\n        \r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"error\"\r\n          size=\"small\"\r\n          startIcon={<DeleteIcon />}\r\n          onClick={handleRemoveImage}\r\n          disabled={disabled}\r\n        >\r\n          {t('removeImage') || '移除图片'}\r\n        </Button>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Paper\r\n        onDragOver={handleDragOver}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n        elevation={isDragOver ? 4 : 1}\r\n        sx={{\r\n          p: 3,\r\n          textAlign: 'center',\r\n          cursor: disabled ? 'not-allowed' : 'pointer',\r\n          border: '2px dashed',\r\n          borderColor: isDragOver ? 'primary.main' : 'grey.300',\r\n          backgroundColor: isDragOver ? 'action.hover' : 'background.paper',\r\n          transition: 'all 0.2s ease',\r\n          opacity: disabled ? 0.6 : 1,\r\n          '&:hover': {\r\n            borderColor: disabled ? 'grey.300' : 'primary.main',\r\n            backgroundColor: disabled ? 'background.paper' : 'action.hover'\r\n          }\r\n        }}\r\n      >\r\n        {uploading ? (\r\n          <Box>\r\n            <LinearProgress sx={{ mb: 2 }} />\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {t('processingImage') || '正在处理图片...'}\r\n            </Typography>\r\n          </Box>\r\n        ) : (\r\n          <>\r\n            <CloudUploadIcon\r\n              sx={{\r\n                fontSize: 48,\r\n                color: 'primary.main',\r\n                mb: 1\r\n              }}\r\n            />\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              {isDragOver ? (t('dropFileHere') || '释放文件以上传') : (t('uploadImageHere') || '拖拽图片到这里或点击选择')}\r\n            </Typography>\r\n            <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\" sx={{ mb: 2 }}>\r\n              {t('supportedFormats') || '支持格式：JPEG、PNG、WebP、SVG（最大10MB）'}\r\n            </Typography>\r\n            \r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/jpeg,image/png,image/webp,image/svg+xml\"\r\n              onChange={handleFileSelect}\r\n              disabled={disabled}\r\n              style={{ display: 'none' }}\r\n              id=\"image-upload-input\"\r\n            />\r\n            <label htmlFor=\"image-upload-input\">\r\n              <Button\r\n                variant=\"contained\"\r\n                component=\"span\"\r\n                disabled={disabled}\r\n                startIcon={<CloudUploadIcon />}\r\n              >\r\n                {t('selectFile') || '选择文件'}\r\n              </Button>\r\n            </label>\r\n          </>\r\n        )}\r\n      </Paper>\r\n\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ImageUploader; ","import { ThemeBackground } from '../types/index';\n\n/**\n * 预设主题背景数据\n * 注意：实际项目中，这些图片路径需要指向真实的图片文件\n * 目前使用CSS渐变作为占位符\n */\nexport const themeBackgrounds: ThemeBackground[] = [\n  {\n    id: 'business',\n    name: '商务专业',\n    category: 'professional',\n    description: '适合职业社交媒体和商务展示',\n    thumbnail: '/backgrounds/thumbnails/business-thumb.jpg',\n    variants: [\n      {\n        id: 'business-gradient-blue',\n        name: '蓝色渐变',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMxNTY1QzAiLz48c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzFFK0Y3IiBzdG9wLW9wYWNpdHk9IjAuOSIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzI2MzIzOCIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdHRlcm4gaWQ9ImIiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblRyYW5zZm9ybT0icm90YXRlKDQ1KSI+PHJlY3Qgd2lkdGg9IjIiIGhlaWdodD0iNDAiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYSkiLz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2IpIi8+PC9zdmc+',\n        darkMode: true,\n        primaryColor: '#1565C0',\n        textColor: '#FFFFFF'\n      },\n      {\n        id: 'business-gradient-gray',\n        name: '灰色渐变',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMzNzQ3NEYiLz48c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iIzI2MzIzOCIgc3RvcC1vcGFjaXR5PSIwLjkiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM2MTYxNjEiLz48L2xpbmVhckdyYWRpZW50PjxwYXR0ZXJuIGlkPSJiIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgzMCkiPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjYwIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDMpIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNiKSIvPjwvc3ZnPg==',\n        darkMode: true,\n        primaryColor: '#424242',\n        textColor: '#FFFFFF'\n      },\n      {\n        id: 'business-clean-light',\n        name: '简洁白色',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGQUZBRkEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNGMEYwRjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXR0ZXJuIGlkPSJiIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjEiIGZpbGw9InJnYmEoMTMzLDEzMywxMzMsMC4xKSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNhKSIvPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYikiLz48L3N2Zz4=',\n        darkMode: false,\n        primaryColor: '#2196F3',\n        textColor: '#212121'\n      }\n    ]\n  },\n  {\n    id: 'creative',\n    name: '创意设计',\n    category: 'artistic',\n    description: '适合设计师、艺术家、创意工作者',\n    thumbnail: '/backgrounds/thumbnails/creative-thumb.jpg',\n    variants: [\n      {\n        id: 'creative-rainbow-gradient',\n        name: '彩虹渐变',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNFOTFFNjMiLz48c3RvcCBvZmZzZXQ9IjI1JSIgc3RvcC1jb2xvcj0iIzlDMjdCMCIvPjxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjMjE5NkYzIi8+PHN0b3Agb2Zmc2V0PSI3NSUiIHN0b3AtY29sb3I9IiMwMEJDRDQiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNGRjk4MDAiLz48L2xpbmVhckdyYWRpZW50PjxwYXR0ZXJuIGlkPSJiIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxNSkiPjxjaXJjbGUgY3g9IjMwIiBjeT0iMzAiIHI9IjEwIiBmaWxsPSJub25lIiBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNiKSIvPjwvc3ZnPg==',\n        darkMode: false,\n        primaryColor: '#E91E63',\n        textColor: '#FFFFFF'\n      },\n      {\n        id: 'creative-abstract-colorful',\n        name: '抽象彩色',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN4PSIzMCUiIGN5PSI0MCUiIHI9IjcwJSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzlDMjdCMCIvPjxzdG9wIG9mZnNldD0iNTAlIiBzdG9wLWNvbG9yPSIjNjczQUI3Ii8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjM0YzRkE5Ii8+PC9yYWRpYWxHcmFkaWVudD48Y2lyY2xlIGlkPSJjMSIgY3g9IjIwJSIgY3k9IjMwJSIgcj0iMTUlIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMSkiLz48Y2lyY2xlIGlkPSJjMiIgY3g9IjgwJSIgY3k9IjcwJSIgcj0iMjAlIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDUpIi8+PGVsbGlwc2UgaWQ9ImUxIiBjeD0iNzAlIiBjeT0iMjAlIiByeD0iMTIlIiByeT0iOCUiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wOCkiLz48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNhKSIvPjx1c2UgaHJlZj0iI2MxIi8+PHVzZSBocmVmPSIjYzIiLz48dXNlIGhyZWY9IiNlMSIvPjwvc3ZnPg==',\n        darkMode: false,\n        primaryColor: '#9C27B0',\n        textColor: '#FFFFFF'\n      },\n      {\n        id: 'creative-sunset-warm',\n        name: '日落暖色',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGRjUxNTEiLz48c3RvcCBvZmZzZXQ9IjMwJSIgc3RvcC1jb2xvcj0iI0ZGNzY0MyIvPjxzdG9wIG9mZnNldD0iNjAlIiBzdG9wLWNvbG9yPSIjRkY5ODAwIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjRkZEODAwIi8+PC9saW5lYXJHcmFkaWVudD48cGF0dGVybiAgaWQ9ImIiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjE1KSIgc3Ryb2tlLXdpZHRoPSIxIi8+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjEpIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNiKSIvPjwvc3ZnPg==',\n        darkMode: false,\n        primaryColor: '#FF5722',\n        textColor: '#FFFFFF'\n      }\n    ]\n  },\n  {\n    id: 'tech',\n    name: '科技数码',\n    category: 'technology',\n    description: '适合技术博主、程序员、科技公司',\n    thumbnail: '/backgrounds/thumbnails/tech-thumb.jpg',\n    variants: [\n      {\n        id: 'tech-circuit-blue',\n        name: '电路蓝',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDJjNWYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMyMTk2RjMiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PC9zdmc+',\n        darkMode: true,\n        primaryColor: '#2196F3',\n        textColor: '#FFFFFF'\n      },\n      {\n        id: 'tech-matrix-green',\n        name: '矩阵绿',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMwMDQ0MDAiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMEZGNDEiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PC9zdmc+',\n        darkMode: true,\n        primaryColor: '#00FF41',\n        textColor: '#FFFFFF'\n      },\n      {\n        id: 'tech-neon-purple',\n        name: '霓虹紫',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMxQTFBMkUiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM5QzI3QjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PC9zdmc+',\n        darkMode: true,\n        primaryColor: '#9C27B0',\n        textColor: '#FFFFFF'\n      }\n    ]\n  },\n  {\n    id: 'lifestyle',\n    name: '生活时尚',\n    category: 'lifestyle',\n    description: '适合生活博主、时尚达人、生活分享',\n    thumbnail: '/backgrounds/thumbnails/lifestyle-thumb.jpg',\n    variants: [\n      {\n        id: 'lifestyle-pastel-pink',\n        name: '粉色温柔',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGQ0U0RUMiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNGOENCQ0IiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PC9zdmc+',\n        darkMode: false,\n        primaryColor: '#E91E63',\n        textColor: '#424242'\n      },\n      {\n        id: 'lifestyle-natural-green',\n        name: '自然绿色',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM2NkJCNkEiLz48c3RvcCBvZmZzZXQ9IjMwJSIgc3RvcC1jb2xvcj0iIzRDQUY1MCIvPjxzdG9wIG9mZnNldD0iNzAlIiBzdG9wLWNvbG9yPSIjMzg4RTNDIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMkU3RDMyIi8+PC9saW5lYXJHcmFkaWVudD48cGF0dGVybiAiaWQ9ImIiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCI+PGVsbGlwc2UgY3g9IjQwIiBjeT0iNDAiIHJ4PSIyMCIgcnk9IjEwIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpIi8+PGVsbGlwc2UgY3g9IjEwIiBjeT0iNzAiIHJ4PSIxNSIgcnk9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYSkiLz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2IpIi8+PC9zdmc+',\n        darkMode: false,\n        primaryColor: '#4CAF50',\n        textColor: '#FFFFFF'\n      }\n    ]\n  },\n  {\n    id: 'minimal',\n    name: '简约风格',\n    category: 'minimal',\n    description: '适合喜欢简洁风格的用户，干净优雅',\n    thumbnail: '/backgrounds/thumbnails/minimal-thumb.jpg',\n    variants: [\n      {\n        id: 'minimal-white-clean',\n        name: '纯净白',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjRkZGRkZGIi8+PC9zdmc+',\n        darkMode: false,\n        primaryColor: '#607D8B',\n        textColor: '#212121'\n      },\n      {\n        id: 'minimal-dark-elegant',\n        name: '优雅黑',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMjEyMTIxIi8+PC9zdmc+',\n        darkMode: true,\n        primaryColor: '#90CAF9',\n        textColor: '#FFFFFF'\n      },\n      {\n        id: 'minimal-soft-gray',\n        name: '柔和灰',\n        path: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQ1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNGOEY4RjgiLz48c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI0VERUVFRSIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0U1RTVFNSIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdHRlcm4gaWQ9ImIiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIj48cmVjdCB3aWR0aD0iMSIgaGVpZ2h0PSIxMDAiIGZpbGw9InJnYmEoMTgwLDE4MCwxODAsMC4xKSIvPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMSIgZmlsbD0icmdiYSgxODAsMTgwLDE4MCwwLjEpIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2EpIi8+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNiKSIvPjwvc3ZnPg==',\n        darkMode: false,\n        primaryColor: '#757575',\n        textColor: '#212121'\n      }\n    ]\n  }\n];\n\n/**\n * 根据类别获取主题\n * @param category 主题类别\n * @returns 指定类别的主题数组\n */\nexport const getThemesByCategory = (category: string): ThemeBackground[] => {\n  return themeBackgrounds.filter(theme => theme.category === category);\n};\n\n/**\n * 根据ID获取主题\n * @param id 主题ID\n * @returns 主题对象或null\n */\nexport const getThemeById = (id: string): ThemeBackground | null => {\n  return themeBackgrounds.find(theme => theme.id === id) || null;\n};\n\n/**\n * 获取所有主题类别\n * @returns 类别数组\n */\nexport const getAllCategories = (): string[] => {\n  const categories = new Set(themeBackgrounds.map(theme => theme.category));\n  return Array.from(categories);\n};\n\n/**\n * 获取主题的变体\n * @param themeId 主题ID\n * @param variantId 变体ID\n * @returns 变体对象或null\n */\nexport const getThemeVariant = (themeId: string, variantId: string) => {\n  const theme = getThemeById(themeId);\n  if (!theme) return null;\n  \n  return theme.variants.find(variant => variant.id === variantId) || null;\n}; \n\n/**\n * 根据指定尺寸生成适配的主题背景路径\n * @param variant 主题变体\n * @param width 目标宽度\n * @param height 目标高度\n * @returns 适配尺寸的背景图片路径\n */\nexport const generateAdaptiveBackgroundPath = (\n  variant: any,\n  width: number,\n  height: number\n): string => {\n  // 解析原始路径中的颜色信息\n  const originalPath = variant.path;\n  \n  // 检查是否是渐变背景\n  if (originalPath.includes('linearGradient')) {\n    // 基于变体ID生成对应的渐变\n    switch (variant.id) {\n      case 'business-gradient-blue':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#1565C0\"/>\n                <stop offset=\"100%\" stop-color=\"#424242\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'business-gradient-gray':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#424242\"/>\n                <stop offset=\"100%\" stop-color=\"#616161\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'business-clean-light':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#F5F5F5\"/>\n                <stop offset=\"100%\" stop-color=\"#EEEEEE\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'creative-rainbow-gradient':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#E91E63\"/>\n                <stop offset=\"33%\" stop-color=\"#9C27B0\"/>\n                <stop offset=\"66%\" stop-color=\"#2196F3\"/>\n                <stop offset=\"100%\" stop-color=\"#FF9800\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'creative-abstract-colorful':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <radialGradient id=\"a\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n                <stop offset=\"0%\" stop-color=\"#9C27B0\"/>\n                <stop offset=\"100%\" stop-color=\"#673AB7\"/>\n              </radialGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'tech-circuit-blue':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#002c5f\"/>\n                <stop offset=\"100%\" stop-color=\"#2196F3\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'tech-matrix-green':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#004400\"/>\n                <stop offset=\"100%\" stop-color=\"#00FF41\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'tech-neon-purple':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#1A1A2E\"/>\n                <stop offset=\"100%\" stop-color=\"#9C27B0\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'lifestyle-pastel-pink':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#FCE4EC\"/>\n                <stop offset=\"100%\" stop-color=\"#F8CBCB\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'lifestyle-natural-green':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#84F9B3\"/>\n                <stop offset=\"100%\" stop-color=\"#4CAF50\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      case 'minimal-white-clean':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"100%\" height=\"100%\" fill=\"#FFFFFF\"/>\n          </svg>\n        `)}`;\n        \n      case 'minimal-dark-elegant':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"100%\" height=\"100%\" fill=\"#212121\"/>\n          </svg>\n        `)}`;\n        \n      case 'minimal-soft-gray':\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <defs>\n              <linearGradient id=\"a\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stop-color=\"#F5F5F5\"/>\n                <stop offset=\"100%\" stop-color=\"#E0E0E0\"/>\n              </linearGradient>\n            </defs>\n            <rect width=\"100%\" height=\"100%\" fill=\"url(#a)\"/>\n          </svg>\n        `)}`;\n        \n      default:\n        // 默认使用主色调的简单背景\n        return `data:image/svg+xml;base64,${btoa(`\n          <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"100%\" height=\"100%\" fill=\"${variant.primaryColor}\"/>\n          </svg>\n        `)}`;\n    }\n  }\n  \n  // 如果不是渐变背景，返回原始路径\n  return originalPath;\n}; ","import React, { useState } from 'react';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardMedia,\n  CardContent,\n  Grid,\n  ToggleButtonGroup,\n  ToggleButton,\n  Chip\n} from '@mui/material';\nimport { ThemeBackground, ThemeImage } from '../../types/index';\nimport { themeBackgrounds } from '../../data/themeBackgrounds';\nimport { useThemeContext } from '../../contexts/ThemeContext';\n\ninterface ThemeSelectorProps {\n  onThemeSelect: (themeImage: ThemeImage) => void;\n  selectedThemeId?: string | null;\n  selectedVariantId?: string | null;\n  disabled?: boolean;\n  onFontColorSuggestion?: (textColor: string) => void; // 新增字体颜色建议回调\n  cardWidth?: number; // 当前卡片宽度\n  cardHeight?: number; // 当前卡片高度\n}\n\nconst ThemeSelector: React.FC<ThemeSelectorProps> = ({\n  onThemeSelect,\n  selectedThemeId,\n  selectedVariantId,\n  disabled = false,\n  onFontColorSuggestion,\n  cardWidth = 400,\n  cardHeight = 600\n}) => {\n  const { t } = useThemeContext();\n  const [selectedTheme, setSelectedTheme] = useState<string | null>(selectedThemeId || null);\n\n  const handleThemeClick = (themeBackground: ThemeBackground) => {\n    if (disabled) return;\n    \n    setSelectedTheme(themeBackground.id);\n    \n    // 自动选择第一个变体\n    if (themeBackground.variants.length > 0) {\n      const firstVariant = themeBackground.variants[0];\n      \n      // 直接使用原始路径，简化实现\n      onThemeSelect({\n        themeId: themeBackground.id,\n        variantId: firstVariant.id,\n        path: firstVariant.path\n      });\n      \n      // 移除即时字体颜色建议，让BackgroundImagePanel统一处理\n      // if (onFontColorSuggestion) {\n      //   onFontColorSuggestion(firstVariant.textColor);\n      // }\n    }\n  };\n\n  const handleVariantChange = (\n    _event: React.MouseEvent<HTMLElement>,\n    newVariantId: string\n  ) => {\n    if (!newVariantId || !selectedTheme || disabled) return;\n\n    const currentTheme = themeBackgrounds.find(t => t.id === selectedTheme);\n    if (currentTheme) {\n      const variant = currentTheme.variants.find(v => v.id === newVariantId);\n      if (variant) {\n        // 直接使用原始路径，简化实现\n        onThemeSelect({\n          themeId: selectedTheme,\n          variantId: variant.id,\n          path: variant.path\n        });\n        \n        // 移除即时字体颜色建议，让BackgroundImagePanel统一处理\n        // if (onFontColorSuggestion) {\n        //   onFontColorSuggestion(variant.textColor);\n        // }\n      }\n    }\n  };\n\n  const getSelectedTheme = (): ThemeBackground | null => {\n    return themeBackgrounds.find(t => t.id === selectedTheme) || null;\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"body2\" gutterBottom sx={{ mb: 2 }}>\n        {t('selectThemeBackground') || '选择主题背景'}\n      </Typography>\n      \n      {/* 主题选择网格 */}\n      <Grid container spacing={2} sx={{ mb: 3 }}>\n        {themeBackgrounds.map((themeBackground) => (\n          <Grid item xs={6} sm={4} key={themeBackground.id}>\n            <Card\n              sx={{\n                cursor: disabled ? 'not-allowed' : 'pointer',\n                border: selectedTheme === themeBackground.id ? 2 : 1,\n                borderColor: selectedTheme === themeBackground.id \n                  ? 'primary.main' \n                  : 'divider',\n                transition: 'all 0.2s ease',\n                opacity: disabled ? 0.6 : 1,\n                '&:hover': {\n                  borderColor: disabled ? 'divider' : 'primary.light',\n                  transform: disabled ? 'none' : 'translateY(-2px)',\n                  boxShadow: disabled ? 1 : 4\n                }\n              }}\n              onClick={() => handleThemeClick(themeBackground)}\n            >\n              <CardMedia\n                component=\"div\"\n                sx={{\n                  height: 80,\n                  background: 'linear-gradient(45deg, #f5f5f5 0%, #e0e0e0 100%)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  position: 'relative',\n                  overflow: 'hidden'\n                }}\n              >\n                {/* 使用实际主题背景预览 */}\n                <Box\n                  sx={{\n                    width: '100%',\n                    height: '100%',\n                    background: themeBackground.variants.length > 0 \n                      ? `url(${themeBackground.variants[0].path})` \n                      : 'linear-gradient(45deg, #f5f5f5 0%, #e0e0e0 100%)',\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                    backgroundRepeat: 'no-repeat'\n                  }}\n                />\n                {selectedTheme === themeBackground.id && (\n                  <Chip\n                    label={t('selected') || '已选'}\n                    size=\"small\"\n                    color=\"primary\"\n                    sx={{\n                      position: 'absolute',\n                      top: 4,\n                      right: 4\n                    }}\n                  />\n                )}\n              </CardMedia>\n              <CardContent sx={{ p: 1.5, '&:last-child': { pb: 1.5 } }}>\n                <Typography variant=\"caption\" fontWeight=\"medium\">\n                  {t(`theme.${themeBackground.id}`) || themeBackground.name}\n                </Typography>\n                <Typography \n                  variant=\"caption\" \n                  color=\"text.secondary\" \n                  display=\"block\"\n                  sx={{ fontSize: '0.65rem' }}\n                >\n                  {t(`theme.${themeBackground.id}.description`) || themeBackground.description}\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n\n      {/* 变体选择 */}\n      {selectedTheme && getSelectedTheme() && (\n        <Box>\n          <Typography variant=\"body2\" gutterBottom sx={{ mb: 1 }}>\n            {t('selectStyleVariant') || '选择样式变体'}\n          </Typography>\n          <ToggleButtonGroup\n            value={selectedVariantId}\n            exclusive\n            onChange={handleVariantChange}\n            size=\"small\"\n            disabled={disabled}\n            sx={{ \n              flexWrap: 'wrap',\n              '& .MuiToggleButton-root': {\n                mb: 1,\n                mr: 1\n              }\n            }}\n          >\n            {getSelectedTheme()!.variants.map((variant) => (\n              <ToggleButton \n                key={variant.id} \n                value={variant.id}\n                sx={{\n                  textTransform: 'none',\n                  fontSize: '0.75rem',\n                  px: 2,\n                  py: 0.5\n                }}\n              >\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                  <Box\n                    sx={{\n                      width: 12,\n                      height: 12,\n                      borderRadius: '50%',\n                      backgroundColor: variant.primaryColor,\n                      mr: 1,\n                      border: '1px solid',\n                      borderColor: 'divider'\n                    }}\n                  />\n                  {t(`variant.${variant.id}`) || variant.name}\n                </Box>\n              </ToggleButton>\n            ))}\n          </ToggleButtonGroup>\n\n          {/* 选中变体的描述 */}\n          {selectedVariantId && (\n            <Box sx={{ mt: 2, p: 1.5, backgroundColor: 'action.hover', borderRadius: 1 }}>\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                {(() => {\n                  const variant = getSelectedTheme()?.variants.find(v => v.id === selectedVariantId);\n                  return variant?.darkMode \n                    ? (t('darkTheme') || '深色主题，适合突出内容对比')\n                    : (t('lightTheme') || '浅色主题，营造明亮氛围');\n                })()}\n              </Typography>\n            </Box>\n          )}\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default ThemeSelector; ","import { \r\n  ProcessingOptions, \r\n  Size, \r\n  ScaleInfo, \r\n  ProcessingResult, \r\n  ImageEffects \r\n} from '../types/index';\r\n\r\n/**\r\n * 图片处理器类\r\n */\r\nexport class ImageProcessor {\r\n  /**\r\n   * 处理图片\r\n   * @param imageFile 图片文件\r\n   * @param targetWidth 目标宽度\r\n   * @param targetHeight 目标高度\r\n   * @param options 处理选项\r\n   * @returns 处理结果\r\n   */\r\n  static async processImage(\r\n    imageFile: File,\r\n    targetWidth: number,\r\n    targetHeight: number,\r\n    options: ProcessingOptions\r\n  ): Promise<ProcessingResult> {\r\n    \r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d')!;\r\n    \r\n    // 1. 加载图片\r\n    const image = await this.loadImage(imageFile);\r\n    \r\n    // 2. 计算最佳缩放比例\r\n    const scaleInfo = this.calculateOptimalScale(\r\n      { width: image.width, height: image.height },\r\n      { width: targetWidth, height: targetHeight },\r\n      options.size\r\n    );\r\n    \r\n    // 3. 设置Canvas尺寸\r\n    canvas.width = targetWidth;\r\n    canvas.height = targetHeight;\r\n    \r\n    // 4. 应用背景（如果需要）\r\n    if (options.backgroundColor) {\r\n      ctx.fillStyle = options.backgroundColor;\r\n      ctx.fillRect(0, 0, targetWidth, targetHeight);\r\n    }\r\n    \r\n    // 5. 绘制图片\r\n    ctx.drawImage(\r\n      image,\r\n      scaleInfo.sourceX,\r\n      scaleInfo.sourceY,\r\n      scaleInfo.sourceWidth,\r\n      scaleInfo.sourceHeight,\r\n      scaleInfo.destX,\r\n      scaleInfo.destY,\r\n      scaleInfo.destWidth,\r\n      scaleInfo.destHeight\r\n    );\r\n    \r\n    // 6. 应用滤镜效果\r\n    if (options.effects) {\r\n      this.applyImageEffects(ctx, targetWidth, targetHeight, options.effects);\r\n    }\r\n    \r\n    // 7. 导出处理结果\r\n    const processedBlob = await this.canvasToBlob(canvas, 'image/jpeg', 0.9);\r\n    \r\n    return {\r\n      canvas,\r\n      blob: processedBlob,\r\n      dimensions: { width: targetWidth, height: targetHeight }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 加载图片文件\r\n   * @param file 图片文件\r\n   * @returns HTMLImageElement\r\n   */\r\n  private static loadImage(file: File): Promise<HTMLImageElement> {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      const url = URL.createObjectURL(file);\r\n      \r\n      img.onload = () => {\r\n        URL.revokeObjectURL(url);\r\n        resolve(img);\r\n      };\r\n      \r\n      img.onerror = () => {\r\n        URL.revokeObjectURL(url);\r\n        reject(new Error('图片加载失败'));\r\n      };\r\n      \r\n      img.src = url;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 计算最佳缩放信息\r\n   * @param imageSize 原始图片尺寸\r\n   * @param targetSize 目标尺寸\r\n   * @param sizeMode 缩放模式\r\n   * @returns 缩放信息\r\n   */\r\n  private static calculateOptimalScale(\r\n    imageSize: Size,\r\n    targetSize: Size,\r\n    sizeMode: 'cover' | 'contain' | 'stretch' | 'auto'\r\n  ): ScaleInfo {\r\n    switch (sizeMode) {\r\n      case 'cover':\r\n        // 填满目标区域，可能裁剪\r\n        const coverScale = Math.max(\r\n          targetSize.width / imageSize.width,\r\n          targetSize.height / imageSize.height\r\n        );\r\n        \r\n        const scaledWidth = imageSize.width * coverScale;\r\n        const scaledHeight = imageSize.height * coverScale;\r\n        \r\n        return {\r\n          sourceX: 0,\r\n          sourceY: 0,\r\n          sourceWidth: imageSize.width,\r\n          sourceHeight: imageSize.height,\r\n          destX: (targetSize.width - scaledWidth) / 2,\r\n          destY: (targetSize.height - scaledHeight) / 2,\r\n          destWidth: scaledWidth,\r\n          destHeight: scaledHeight\r\n        };\r\n        \r\n      case 'contain':\r\n        // 完整显示图片，可能留白\r\n        const containScale = Math.min(\r\n          targetSize.width / imageSize.width,\r\n          targetSize.height / imageSize.height\r\n        );\r\n        \r\n        const containWidth = imageSize.width * containScale;\r\n        const containHeight = imageSize.height * containScale;\r\n        \r\n        return {\r\n          sourceX: 0,\r\n          sourceY: 0,\r\n          sourceWidth: imageSize.width,\r\n          sourceHeight: imageSize.height,\r\n          destX: (targetSize.width - containWidth) / 2,\r\n          destY: (targetSize.height - containHeight) / 2,\r\n          destWidth: containWidth,\r\n          destHeight: containHeight\r\n        };\r\n        \r\n      case 'stretch':\r\n        // 拉伸至目标尺寸\r\n        return {\r\n          sourceX: 0,\r\n          sourceY: 0,\r\n          sourceWidth: imageSize.width,\r\n          sourceHeight: imageSize.height,\r\n          destX: 0,\r\n          destY: 0,\r\n          destWidth: targetSize.width,\r\n          destHeight: targetSize.height\r\n        };\r\n        \r\n      default:\r\n        // 原始尺寸居中\r\n        return {\r\n          sourceX: 0,\r\n          sourceY: 0,\r\n          sourceWidth: imageSize.width,\r\n          sourceHeight: imageSize.height,\r\n          destX: (targetSize.width - imageSize.width) / 2,\r\n          destY: (targetSize.height - imageSize.height) / 2,\r\n          destWidth: imageSize.width,\r\n          destHeight: imageSize.height\r\n        };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 应用图片特效\r\n   * @param ctx Canvas上下文\r\n   * @param width 图片宽度\r\n   * @param height 图片高度\r\n   * @param effects 特效配置\r\n   */\r\n  private static applyImageEffects(\r\n    ctx: CanvasRenderingContext2D,\r\n    width: number,\r\n    height: number,\r\n    effects: ImageEffects\r\n  ): void {\r\n    const filterString = [\r\n      `blur(${effects.blur}px)`,\r\n      `brightness(${effects.brightness})`,\r\n      `contrast(${effects.contrast})`,\r\n      `saturate(${effects.saturation})`,\r\n      `sepia(${effects.sepia})`\r\n    ].join(' ');\r\n    \r\n    ctx.filter = filterString;\r\n    \r\n    // 重新绘制应用滤镜\r\n    const imageData = ctx.getImageData(0, 0, width, height);\r\n    ctx.clearRect(0, 0, width, height);\r\n    ctx.putImageData(imageData, 0, 0);\r\n    \r\n    // 重置滤镜\r\n    ctx.filter = 'none';\r\n  }\r\n\r\n  /**\r\n   * Canvas转Blob\r\n   * @param canvas Canvas元素\r\n   * @param type 输出类型\r\n   * @param quality 质量\r\n   * @returns Blob对象\r\n   */\r\n  private static canvasToBlob(\r\n    canvas: HTMLCanvasElement, \r\n    type: string = 'image/jpeg', \r\n    quality: number = 0.9\r\n  ): Promise<Blob> {\r\n    return new Promise((resolve, reject) => {\r\n      canvas.toBlob(\r\n        (blob) => {\r\n          if (blob) {\r\n            resolve(blob);\r\n          } else {\r\n            reject(new Error('Canvas转换失败'));\r\n          }\r\n        },\r\n        type,\r\n        quality\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * 构建CSS滤镜字符串\r\n * @param effects 特效配置\r\n * @returns CSS滤镜字符串\r\n */\r\nexport const buildFilterString = (effects: ImageEffects): string => {\r\n  const filters = [];\r\n  \r\n  if (effects.blur > 0) {\r\n    filters.push(`blur(${effects.blur}px)`);\r\n  }\r\n  \r\n  if (effects.brightness !== 1) {\r\n    filters.push(`brightness(${effects.brightness})`);\r\n  }\r\n  \r\n  if (effects.contrast !== 1) {\r\n    filters.push(`contrast(${effects.contrast})`);\r\n  }\r\n  \r\n  if (effects.saturation !== 1) {\r\n    filters.push(`saturate(${effects.saturation})`);\r\n  }\r\n  \r\n  if (effects.sepia > 0) {\r\n    filters.push(`sepia(${effects.sepia})`);\r\n  }\r\n  \r\n  return filters.length > 0 ? filters.join(' ') : 'none';\r\n};\r\n\r\n/**\r\n * 创建默认图片特效配置\r\n * @returns 默认特效配置\r\n */\r\nexport const createDefaultImageEffects = (): ImageEffects => ({\r\n  blur: 0,\r\n  brightness: 1,\r\n  contrast: 1,\r\n  saturation: 1,\r\n  sepia: 0\r\n});\r\n\r\n/**\r\n * 检查特效是否为默认值\r\n * @param effects 特效配置\r\n * @returns 是否为默认值\r\n */\r\nexport const isDefaultEffects = (effects: ImageEffects): boolean => {\r\n  const defaultEffects = createDefaultImageEffects();\r\n  return (\r\n    effects.blur === defaultEffects.blur &&\r\n    effects.brightness === defaultEffects.brightness &&\r\n    effects.contrast === defaultEffects.contrast &&\r\n    effects.saturation === defaultEffects.saturation &&\r\n    effects.sepia === defaultEffects.sepia\r\n  );\r\n}; ","import React from 'react';\nimport {\n  Box,\n  Typography,\n  Slider,\n  Grid,\n  Button,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails\n} from '@mui/material';\nimport {\n  ExpandMore as ExpandMoreIcon,\n  Refresh as RefreshIcon\n} from '@mui/icons-material';\nimport { ImageEffects } from '../../types/index';\nimport { createDefaultImageEffects, isDefaultEffects } from '../../utils/imageProcessor';\nimport { useThemeContext } from '../../contexts/ThemeContext';\n\ninterface ImageEffectsProps {\n  effects: ImageEffects;\n  onChange: (effects: ImageEffects) => void;\n  disabled?: boolean;\n}\n\nconst ImageEffectsPanel: React.FC<ImageEffectsProps> = ({\n  effects,\n  onChange,\n  disabled = false\n}) => {\n  const handleEffectChange = (effectName: keyof ImageEffects, value: number) => {\n    onChange({\n      ...effects,\n      [effectName]: value\n    });\n  };\n\n  const handleReset = () => {\n    onChange(createDefaultImageEffects());\n  };\n\n  const { t } = useThemeContext();\n\n  const effectConfigs = [\n    {\n      key: 'blur' as keyof ImageEffects,\n      label: t('blur') || '模糊',\n      min: 0,\n      max: 10,\n      step: 0.5,\n      unit: 'px',\n      description: t('blurDescription') || '添加模糊效果，数值越大越模糊'\n    },\n    {\n      key: 'brightness' as keyof ImageEffects,\n      label: t('brightness') || '亮度',\n      min: 0,\n      max: 2,\n      step: 0.1,\n      unit: '',\n      description: t('brightnessDescription') || '调整图片亮度，1为原始亮度'\n    },\n    {\n      key: 'contrast' as keyof ImageEffects,\n      label: t('contrast') || '对比度',\n      min: 0,\n      max: 2,\n      step: 0.1,\n      unit: '',\n      description: t('contrastDescription') || '调整图片对比度，1为原始对比度'\n    },\n    {\n      key: 'saturation' as keyof ImageEffects,\n      label: t('saturation') || '饱和度',\n      min: 0,\n      max: 2,\n      step: 0.1,\n      unit: '',\n      description: t('saturationDescription') || '调整颜色饱和度，1为原始饱和度'\n    },\n    {\n      key: 'sepia' as keyof ImageEffects,\n      label: t('sepia') || '褐色滤镜',\n      min: 0,\n      max: 1,\n      step: 0.1,\n      unit: '',\n      description: t('sepiaDescription') || '添加怀旧褐色效果，0为无效果'\n    }\n  ];\n\n  const formatValue = (value: number, unit: string): string => {\n    if (unit === 'px') {\n      return `${value}${unit}`;\n    }\n    if (unit === '') {\n      return value.toFixed(1);\n    }\n    return `${Math.round(value * 100)}%`;\n  };\n\n  return (\n    <Accordion defaultExpanded={false}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"image-effects-content\"\n        id=\"image-effects-header\"\n      >\n        <Box sx={{ display: 'flex', alignItems: 'center', width: '100%' }}>\n          <Typography variant=\"body2\" sx={{ flexGrow: 1 }}>\n            {t('imageEffectsTitle') || '图片特效'}\n          </Typography>\n          {!isDefaultEffects(effects) && (\n            <Typography variant=\"caption\" color=\"primary\">\n              已应用效果\n            </Typography>\n          )}\n        </Box>\n      </AccordionSummary>\n      <AccordionDetails>\n        <Box>\n          <Grid container spacing={3}>\n            {effectConfigs.map((config) => (\n              <Grid item xs={12} key={config.key}>\n                <Box>\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <Typography variant=\"body2\" sx={{ flexGrow: 1 }}>\n                      {config.label}\n                    </Typography>\n                    <Typography \n                      variant=\"caption\" \n                      color=\"text.secondary\"\n                      sx={{ \n                        minWidth: '48px', \n                        textAlign: 'right',\n                        fontFamily: 'monospace'\n                      }}\n                    >\n                      {formatValue(effects[config.key], config.unit)}\n                    </Typography>\n                  </Box>\n                  \n                  <Slider\n                    value={effects[config.key]}\n                    onChange={(_, value) => handleEffectChange(config.key, value as number)}\n                    min={config.min}\n                    max={config.max}\n                    step={config.step}\n                    disabled={disabled}\n                    sx={{\n                      '& .MuiSlider-thumb': {\n                        width: 16,\n                        height: 16\n                      },\n                      '& .MuiSlider-track': {\n                        height: 4\n                      },\n                      '& .MuiSlider-rail': {\n                        height: 4\n                      }\n                    }}\n                  />\n                  \n                  <Typography \n                    variant=\"caption\" \n                    color=\"text.secondary\"\n                    sx={{ mt: 0.5, display: 'block', fontSize: '0.7rem' }}\n                  >\n                    {config.description}\n                  </Typography>\n                </Box>\n              </Grid>\n            ))}\n            \n            {/* 重置按钮 */}\n            <Grid item xs={12}>\n              <Box sx={{ mt: 2, display: 'flex', justifyContent: 'center' }}>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  startIcon={<RefreshIcon />}\n                  onClick={handleReset}\n                  disabled={disabled || isDefaultEffects(effects)}\n                  sx={{ textTransform: 'none' }}\n                >\n                  {t('resetEffects') || '重置所有效果'}\n                </Button>\n              </Box>\n            </Grid>\n            \n            {/* 预设效果快捷按钮 */}\n            <Grid item xs={12}>\n              <Typography variant=\"body2\" gutterBottom sx={{ mt: 1 }}>\n                {t('effectsPresets') || '快捷预设'}\n              </Typography>\n              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  disabled={disabled}\n                  onClick={() => onChange({\n                    blur: 0,\n                    brightness: 1.2,\n                    contrast: 1.1,\n                    saturation: 1.2,\n                    sepia: 0\n                  })}\n                  sx={{ textTransform: 'none', fontSize: '0.7rem' }}\n                >\n                  {t('brightEffect') || '明亮'}\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  disabled={disabled}\n                  onClick={() => onChange({\n                    blur: 0,\n                    brightness: 0.8,\n                    contrast: 1.2,\n                    saturation: 0.8,\n                    sepia: 0\n                  })}\n                  sx={{ textTransform: 'none', fontSize: '0.7rem' }}\n                >\n                  {t('darkEffect') || '深沉'}\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  disabled={disabled}\n                  onClick={() => onChange({\n                    blur: 0,\n                    brightness: 1.1,\n                    contrast: 0.9,\n                    saturation: 0.7,\n                    sepia: 0.3\n                  })}\n                  sx={{ textTransform: 'none', fontSize: '0.7rem' }}\n                >\n                  {t('vintageEffect') || '复古'}\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  disabled={disabled}\n                  onClick={() => onChange({\n                    blur: 2,\n                    brightness: 1,\n                    contrast: 1,\n                    saturation: 1,\n                    sepia: 0\n                  })}\n                  sx={{ textTransform: 'none', fontSize: '0.7rem' }}\n                >\n                  {t('softFocusEffect') || '柔焦'}\n                </Button>\n              </Box>\n            </Grid>\n          </Grid>\n        </Box>\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nexport default ImageEffectsPanel; ","import React, { useState, useEffect, useMemo } from 'react';\nimport {\n  Box,\n  Typography,\n  Switch,\n  FormControlLabel,\n  ToggleButtonGroup,\n  ToggleButton,\n  Slider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Divider\n} from '@mui/material';\nimport {\n  Upload as UploadIcon,\n  Palette as PaletteIcon\n} from '@mui/icons-material';\nimport { BackgroundImageConfig, UploadedImage, ThemeImage, ImageEffects } from '../../types/index';\nimport ImageUploader from './ImageUploader';\nimport ThemeSelector from './ThemeSelector';\nimport ImageEffectsPanel from './ImageEffects';\nimport { useThemeContext } from '../../contexts/ThemeContext';\nimport { themeBackgrounds } from '../../data/themeBackgrounds';\n\ninterface BackgroundImagePanelProps {\n  config: BackgroundImageConfig;\n  onChange: (config: BackgroundImageConfig) => void;\n  disabled?: boolean;\n  onFontColorSuggestion?: (textColor: string) => void; // 新增字体颜色建议回调\n  cardWidth?: number; // 当前卡片宽度\n  cardHeight?: number; // 当前卡片高度\n}\n\nconst BackgroundImagePanel: React.FC<BackgroundImagePanelProps> = ({\n  config,\n  onChange,\n  disabled = false,\n  onFontColorSuggestion,\n  cardWidth = 400,\n  cardHeight = 600\n}) => {\n  const { t } = useThemeContext();\n  // 新增一个状态来跟踪刚选择的主题，用于useEffect监听\n  const [selectedThemeImage, setSelectedThemeImage] = useState<ThemeImage | null>(null);\n\n  // 检查是否显示设置面板\n  const shouldShowDisplaySettings = useMemo(() => {\n    const sourceType = config.source.type;\n    const hasUploadedImage = config.source.uploadedImage?.url;\n    const hasThemeImage = config.source.themeImage?.path;\n    \n    let hasValidSource;\n    let willShowDisplaySettings;\n    \n    if (sourceType === 'upload') {\n      hasValidSource = hasUploadedImage;\n      willShowDisplaySettings = hasValidSource;\n    } else if (sourceType === 'theme') {\n      hasValidSource = hasThemeImage;\n      willShowDisplaySettings = hasValidSource;\n    } else {\n      hasValidSource = false;\n      willShowDisplaySettings = false;\n    }\n    \n    return willShowDisplaySettings;\n  }, [config.source]);\n\n  // 当背景配置更新时，建议合适的字体颜色\n  useEffect(() => {\n    if (!config.enabled || !shouldShowDisplaySettings) {\n      return;\n    }\n    \n    // 验证配置有效性\n    if (config.source.type === 'theme' && config.source.themeImage?.themeId && config.source.themeImage?.variantId) {\n      // 查找对应的主题变体\n      const theme = themeBackgrounds.find(t => t.id === config.source.themeImage?.themeId);\n      const variant = theme?.variants.find(v => v.id === config.source.themeImage?.variantId);\n      \n      if (variant?.textColor) {\n        onFontColorSuggestion?.(variant.textColor);\n      }\n    }\n  }, [config, shouldShowDisplaySettings, onFontColorSuggestion]);\n\n  const handleEnabledChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange({\n      ...config,\n      enabled: event.target.checked\n    });\n  };\n\n  const handleSourceTypeChange = (\n    _event: React.MouseEvent<HTMLElement>,\n    newType: 'upload' | 'theme'\n  ) => {\n    if (newType !== null) {\n      if (newType === 'upload') {\n        onChange({\n          ...config,\n          source: {\n            type: 'upload',\n            uploadedImage: config.source.uploadedImage\n          }\n        });\n      } else if (newType === 'theme') {\n        onChange({\n          ...config,\n          source: {\n            type: 'theme',\n            themeImage: config.source.themeImage\n          }\n        });\n      }\n    }\n  };\n\n  const handleImageUpload = (image: UploadedImage) => {\n    onChange({\n      ...config,\n      enabled: true, // 自动启用背景图片功能\n      source: {\n        type: 'upload' as const,\n        uploadedImage: image\n      }\n    });\n  };\n\n  const handleImageRemove = () => {\n    onChange({\n      ...config,\n      source: {\n        type: 'upload',\n        uploadedImage: undefined\n      }\n    });\n  };\n\n  const handleThemeSelect = (themeImage: ThemeImage) => {\n    const newConfig = {\n      ...config,\n      enabled: true, // 自动启用背景图片功能\n      source: {\n        type: 'theme' as const,\n        themeImage\n      }\n    };\n    \n    // 先设置选中的主题图片，用于useEffect监听\n    setSelectedThemeImage(themeImage);\n    \n    // 传递新配置\n    onChange(newConfig);\n  };\n\n  const handleDisplayChange = (property: string, value: any) => {\n    onChange({\n      ...config,\n      display: {\n        ...config.display,\n        [property]: value\n      }\n    });\n  };\n\n  const handleEffectsChange = (effects: ImageEffects) => {\n    onChange({\n      ...config,\n      effects\n    });\n  };\n\n  return (\n    <Box>\n      \n      {/* 启用开关 */}\n      <FormControlLabel\n        control={\n          <Switch\n            checked={config.enabled}\n            onChange={handleEnabledChange}\n            disabled={disabled}\n          />\n        }\n        label={t('enableBackground') || '启用背景图片'}\n        sx={{ mb: 2 }}\n      />\n\n      {config.enabled && (\n        <>\n          {/* 图片来源选择 */}\n          <Box sx={{ mb: 3 }}>\n            <Typography variant=\"body2\" gutterBottom sx={{ mb: 1 }}>\n              {t('imageSource') || '图片来源'}\n            </Typography>\n            <ToggleButtonGroup\n              value={config.source.type}\n              exclusive\n              onChange={handleSourceTypeChange}\n              size=\"small\"\n              fullWidth\n              disabled={disabled}\n            >\n              <ToggleButton value=\"upload\" sx={{ textTransform: 'none' }}>\n                <UploadIcon sx={{ mr: 1, fontSize: 16 }} />\n                {t('uploadImage') || '上传图片'}\n              </ToggleButton>\n              <ToggleButton value=\"theme\" sx={{ textTransform: 'none' }}>\n                <PaletteIcon sx={{ mr: 1, fontSize: 16 }} />\n                {t('themeBackground') || '预设主题'}\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </Box>\n\n          {/* 图片上传区域 */}\n          {config.source.type === 'upload' && (\n            <Box sx={{ mb: 3 }}>\n              <ImageUploader\n                onImageUpload={handleImageUpload}\n                onImageRemove={handleImageRemove}\n                currentImage={config.source.uploadedImage}\n                disabled={disabled}\n              />\n            </Box>\n          )}\n\n          {/* 主题选择区域 */}\n          {config.source.type === 'theme' && (\n            <Box sx={{ mb: 3 }}>\n              <ThemeSelector\n                onThemeSelect={handleThemeSelect}\n                selectedThemeId={config.source.themeImage?.themeId}\n                selectedVariantId={config.source.themeImage?.variantId}\n                disabled={disabled}\n                onFontColorSuggestion={onFontColorSuggestion}\n                cardWidth={cardWidth}\n                cardHeight={cardHeight}\n              />\n            </Box>\n          )}\n\n          {/* 显示设置 */}\n          {shouldShowDisplaySettings && (\n            <>\n              <Divider sx={{ my: 3 }} />\n              \n              <Typography variant=\"body2\" gutterBottom sx={{ mb: 2 }}>\n                {t('displaySettings') || '显示设置'}\n              </Typography>\n\n              {/* 透明度 */}\n              <Box sx={{ mb: 3 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                  <Typography variant=\"body2\" sx={{ flexGrow: 1 }}>\n                    {t('opacity') || '透明度'}\n                  </Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    {Math.round(config.display.opacity * 100)}%\n                  </Typography>\n                </Box>\n                <Slider\n                  value={config.display.opacity}\n                  onChange={(_, value) => handleDisplayChange('opacity', value)}\n                  min={0}\n                  max={1}\n                  step={0.1}\n                  disabled={disabled}\n                  sx={{\n                    '& .MuiSlider-thumb': {\n                      width: 16,\n                      height: 16\n                    }\n                  }}\n                />\n              </Box>\n\n              {/* 混合模式 */}\n              <Box sx={{ mb: 3 }}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>{t('blendMode') || '混合模式'}</InputLabel>\n                  <Select\n                    value={config.display.blendMode}\n                    label={t('blendMode') || '混合模式'}\n                    onChange={(e) => handleDisplayChange('blendMode', e.target.value)}\n                    disabled={disabled}\n                  >\n                    <MenuItem value=\"normal\">{t('normal') || '正常'}</MenuItem>\n                    <MenuItem value=\"multiply\">{t('multiply') || '正片叠底'}</MenuItem>\n                    <MenuItem value=\"screen\">{t('screen') || '滤色'}</MenuItem>\n                    <MenuItem value=\"overlay\">{t('overlay') || '叠加'}</MenuItem>\n                    <MenuItem value=\"soft-light\">{t('softLight') || '柔光'}</MenuItem>\n                  </Select>\n                </FormControl>\n              </Box>\n\n              {/* 图片尺寸 */}\n              <Box sx={{ mb: 3 }}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>{t('size') || '图片尺寸'}</InputLabel>\n                  <Select\n                    value={config.display.size}\n                    label={t('size') || '图片尺寸'}\n                    onChange={(e) => handleDisplayChange('size', e.target.value)}\n                    disabled={disabled}\n                  >\n                    <MenuItem value=\"cover\">{t('cover') || '覆盖'}（{t('mayBeCropped') || '可能裁剪'}）</MenuItem>\n                    <MenuItem value=\"contain\">{t('contain') || '包含'}（{t('completeDisplay') || '完整显示'}）</MenuItem>\n                    <MenuItem value=\"stretch\">{t('stretch') || '拉伸'}（{t('mayBeDeformed') || '可能变形'}）</MenuItem>\n                    <MenuItem value=\"auto\">{t('auto') || '原始尺寸'}</MenuItem>\n                  </Select>\n                </FormControl>\n              </Box>\n\n              {/* 图片位置 */}\n              <Box sx={{ mb: 3 }}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>{t('position') || '图片位置'}</InputLabel>\n                  <Select\n                    value={config.display.position}\n                    label={t('position') || '图片位置'}\n                    onChange={(e) => handleDisplayChange('position', e.target.value)}\n                    disabled={disabled}\n                  >\n                    <MenuItem value=\"center\">{t('center') || '居中'}</MenuItem>\n                    <MenuItem value=\"top\">{t('top') || '顶部'}</MenuItem>\n                    <MenuItem value=\"bottom\">{t('bottom') || '底部'}</MenuItem>\n                    <MenuItem value=\"left\">{t('left') || '左侧'}</MenuItem>\n                    <MenuItem value=\"right\">{t('right') || '右侧'}</MenuItem>\n                  </Select>\n                </FormControl>\n              </Box>\n\n              {/* 图片重复 */}\n              <Box sx={{ mb: 3 }}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>{t('repeat') || '重复方式'}</InputLabel>\n                  <Select\n                    value={config.display.repeat}\n                    label={t('repeat') || '重复方式'}\n                    onChange={(e) => handleDisplayChange('repeat', e.target.value)}\n                    disabled={disabled}\n                  >\n                    <MenuItem value=\"no-repeat\">{t('noRepeat') || '不重复'}</MenuItem>\n                    <MenuItem value=\"repeat\">{t('repeat') || '重复'}</MenuItem>\n                    <MenuItem value=\"repeat-x\">{t('repeatX') || '水平重复'}</MenuItem>\n                    <MenuItem value=\"repeat-y\">{t('repeatY') || '垂直重复'}</MenuItem>\n                  </Select>\n                </FormControl>\n              </Box>\n\n              {/* 图片特效 */}\n              <ImageEffectsPanel\n                effects={config.effects}\n                onChange={handleEffectsChange}\n                disabled={disabled}\n              />\n            </>\n          )}\n        </>\n      )}\n    </Box>\n  );\n};\n\nexport default BackgroundImagePanel; ","import React, { useCallback } from 'react';\nimport {\n  Box,\n  Typography,\n  Slider,\n  Select,\n  MenuItem,\n  TextField,\n  InputLabel,\n  FormControl,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Grid,\n  ToggleButtonGroup,\n  ToggleButton,\n  Switch,\n  FormControlLabel\n} from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { CardConfig, ExportOptions, AspectRatio, BackgroundImageConfig } from '../types/index';\nimport { useThemeContext } from '../contexts/ThemeContext';\nimport BackgroundImagePanel from './backgroundImage/BackgroundImagePanel';\n\ninterface CardStyleConfigProps {\n  cardConfig: CardConfig;\n  exportOptions: ExportOptions;\n  onConfigChange: (config: CardConfig) => void;\n  onExportOptionsChange: (options: ExportOptions) => void;\n}\n\nconst CardStyleConfig: React.FC<CardStyleConfigProps> = ({\n  cardConfig,\n  exportOptions,\n  onConfigChange,\n  onExportOptionsChange\n}) => {\n  const { t } = useThemeContext();\n\n  const handleChange = (property: keyof CardConfig, value: any) => {\n    onConfigChange({\n      ...cardConfig,\n      [property]: value\n    });\n  };\n\n  const handleWatermarkChange = (property: keyof CardConfig['watermark'], value: any) => {\n    onConfigChange({\n      ...cardConfig,\n      watermark: {\n        ...cardConfig.watermark,\n        [property]: value\n      }\n    });\n  };\n\n  const handleExportOptionChange = (property: keyof ExportOptions, value: any) => {\n    onExportOptionsChange({\n      ...exportOptions,\n      [property]: value\n    });\n  };\n\n  // 处理背景图片配置变更\n  const handleBackgroundImageChange = useCallback((backgroundImage: BackgroundImageConfig) => {\n    onConfigChange({\n      ...cardConfig,\n      backgroundImage\n    });\n  }, [onConfigChange, cardConfig]);\n\n  // 处理建议的字体颜色\n  const handleSuggestedTextColor = useCallback((suggestedTextColor: string) => {\n    // 使用专门的属性更新避免状态覆盖\n    onConfigChange({\n      ...cardConfig,\n      textColor: suggestedTextColor\n    });\n  }, [onConfigChange, cardConfig]);\n\n  // 处理宽高比变化\n  const handleAspectRatioChange = (\n    _event: React.MouseEvent<HTMLElement>,\n    newAspectRatio: AspectRatio,\n  ) => {\n    if (newAspectRatio !== null) {\n      handleExportOptionChange('aspectRatio', newAspectRatio);\n    }\n  };\n\n  const fontFamilies = [\n    'Inter, system-ui, sans-serif',\n    'Arial, sans-serif',\n    'Helvetica, sans-serif',\n    'Georgia, serif',\n    'Tahoma, sans-serif',\n    'Verdana, sans-serif',\n    'Times New Roman, serif',\n    'Courier New, monospace'\n  ];\n\n  const watermarkPositions = [\n    { value: 'bottomRight', label: t('bottomRight') || '右下角' },\n    { value: 'bottomLeft', label: t('bottomLeft') || '左下角' },\n    { value: 'topRight', label: t('topRight') || '右上角' },\n    { value: 'topLeft', label: t('topLeft') || '左上角' },\n    { value: 'center', label: t('center') || '居中' }\n  ];\n\n  return (\n    <Box>\n      <Accordion sx={{ mb: 2 }} defaultExpanded={false}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"card-style-config-content\"\n          id=\"card-style-config-header\"\n        >\n          <Typography variant=\"subtitle1\">{t('cardSettings')}</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <Typography gutterBottom>{t('cardTitle')}</Typography>\n            <TextField\n              fullWidth\n              size=\"small\"\n              value={cardConfig.cardTitle}\n              onChange={(e) => handleChange('cardTitle', e.target.value)}\n              placeholder={t('cardTitle')}\n            />\n          </Grid>\n          \n          <Grid item xs={12}>\n            <Typography gutterBottom>{t('aspectRatio') || '宽高比'}</Typography>\n            <ToggleButtonGroup\n              color=\"primary\"\n              value={exportOptions.aspectRatio}\n              exclusive\n              onChange={handleAspectRatioChange}\n              aria-label=\"aspectRatio\"\n              size=\"small\"\n              fullWidth\n            >\n              <ToggleButton value=\"16:9\">16:9</ToggleButton>\n              <ToggleButton value=\"4:3\">4:3</ToggleButton>\n              <ToggleButton value=\"1:1\">1:1</ToggleButton>\n              <ToggleButton value=\"custom\">{t('custom') || '自定义'}</ToggleButton>\n            </ToggleButtonGroup>\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <Typography gutterBottom>{t('cardSize') || '卡片大小'}</Typography>\n            <Box sx={{ display: 'flex', gap: 2 }}>\n              <TextField\n                label={t('width') || '宽度'}\n                type=\"number\"\n                size=\"small\"\n                value={cardConfig.width}\n                onChange={(e) => handleChange('width', Number(e.target.value))}\n                inputProps={{ min: 400, max: 1200 }}\n              />\n              <TextField\n                label={t('height') || '高度'}\n                type=\"number\"\n                size=\"small\"\n                value={cardConfig.height}\n                onChange={(e) => handleChange('height', Number(e.target.value))}\n                inputProps={{ min: 225, max: 675 }}\n              />\n            </Box>\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <Typography gutterBottom>{t('borderRadius') || '边框圆角'}</Typography>\n            <Slider\n              value={cardConfig.borderRadius}\n              onChange={(_, value) => handleChange('borderRadius', value)}\n              step={1}\n              marks\n              min={0}\n              max={20}\n              valueLabelDisplay=\"auto\"\n            />\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <Typography gutterBottom>{t('iconSize') || '图标大小'}</Typography>\n            <Slider\n              value={cardConfig.iconSize}\n              onChange={(_, value) => handleChange('iconSize', value)}\n              step={2}\n              marks\n              min={16}\n              max={40}\n              valueLabelDisplay=\"auto\"\n            />\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <FormControl fullWidth size=\"small\">\n              <InputLabel id=\"font-family-label\">{t('font') || '字体'}</InputLabel>\n              <Select\n                labelId=\"font-family-label\"\n                id=\"font-family-select\"\n                value={cardConfig.fontFamily}\n                label={t('font') || '字体'}\n                onChange={(e) => handleChange('fontFamily', e.target.value)}\n              >\n                {fontFamilies.map((font) => (\n                  <MenuItem key={font} value={font} style={{ fontFamily: font }}>\n                    {font.split(',')[0]}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <TextField\n              label={t('backgroundColor') || '背景颜色'}\n              type=\"color\"\n              size=\"small\"\n              value={cardConfig.backgroundColor}\n              onChange={(e) => handleChange('backgroundColor', e.target.value)}\n              sx={{ width: '100%' }}\n              InputLabelProps={{ shrink: true }}\n            />\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <TextField\n              label={t('textColor') || '文字颜色'}\n              type=\"color\"\n              size=\"small\"\n              value={cardConfig.textColor}\n              onChange={(e) => handleChange('textColor', e.target.value)}\n              sx={{ width: '100%' }}\n              InputLabelProps={{ shrink: true }}\n            />\n          </Grid>\n\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle1\" sx={{ mt: 2, mb: 1 }}>{t('watermarkSettings') || '水印设置'}</Typography>\n            <FormControlLabel \n              control={\n                <Switch \n                  checked={cardConfig.watermark.enabled}\n                  onChange={(e) => handleWatermarkChange('enabled', e.target.checked)}\n                />\n              } \n              label={t('showWatermark') || '显示水印'} \n            />\n          </Grid>\n\n          {cardConfig.watermark.enabled && (\n            <>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  fullWidth\n                  label={t('watermarkText') || '水印文字'}\n                  size=\"small\"\n                  value={cardConfig.watermark.text}\n                  onChange={(e) => handleWatermarkChange('text', e.target.value)}\n                />\n              </Grid>\n              \n              <Grid item xs={12} sm={6}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>{t('watermarkPosition') || '水印位置'}</InputLabel>\n                  <Select\n                    value={cardConfig.watermark.position}\n                    label={t('watermarkPosition') || '水印位置'}\n                    onChange={(e) => handleWatermarkChange('position', e.target.value)}\n                  >\n                    {watermarkPositions.map((pos) => (\n                      <MenuItem key={pos.value} value={pos.value}>\n                        {pos.label}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n              \n              <Grid item xs={12} sm={6}>\n                <Typography gutterBottom>{t('opacity') || '透明度'}</Typography>\n                <Slider\n                  value={cardConfig.watermark.opacity}\n                  onChange={(_, value) => handleWatermarkChange('opacity', value)}\n                  step={0.1}\n                  min={0.1}\n                  max={1}\n                  valueLabelDisplay=\"auto\"\n                  valueLabelFormat={(value) => `${Math.round(value * 100)}%`}\n                />\n              </Grid>\n              \n              <Grid item xs={12} sm={6}>\n                <Typography gutterBottom>{t('fontSize') || '字体大小'}</Typography>\n                <Slider\n                  value={cardConfig.watermark.fontSize}\n                  onChange={(_, value) => handleWatermarkChange('fontSize', value)}\n                  step={1}\n                  min={10}\n                  max={36}\n                  valueLabelDisplay=\"auto\"\n                  valueLabelFormat={(value) => `${value}px`}\n                />\n              </Grid>\n              \n              <Grid item xs={12} sm={6}>\n                <TextField\n                  label={t('watermarkColor') || '水印颜色'}\n                  type=\"color\"\n                  size=\"small\"\n                  value={cardConfig.watermark.color}\n                  onChange={(e) => handleWatermarkChange('color', e.target.value)}\n                  sx={{ width: '100%' }}\n                  InputLabelProps={{ shrink: true }}\n                />\n              </Grid>\n            </>\n          )}\n\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle1\" sx={{ mt: 2, mb: 1 }}>{t('exportSettings') || '导出设置'}</Typography>\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <FormControl fullWidth size=\"small\">\n              <InputLabel id=\"export-format-label\">{t('exportFormat') || '导出格式'}</InputLabel>\n              <Select\n                labelId=\"export-format-label\"\n                id=\"export-format-select\"\n                value={exportOptions.format}\n                label={t('exportFormat') || '导出格式'}\n                onChange={(e) => handleExportOptionChange('format', e.target.value)}\n              >\n                <MenuItem value=\"png\">{t('pngFormat') || 'PNG (支持透明背景)'}</MenuItem>\n                <MenuItem value=\"jpeg\">{t('jpegFormat') || 'JPEG (小文件体积)'}</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n          \n          <Grid item xs={12} sm={6}>\n            <Typography gutterBottom>{t('scale') || '缩放比例'}</Typography>\n            <Slider\n              value={exportOptions.scale}\n              onChange={(_, value) => handleExportOptionChange('scale', value)}\n              step={0.5}\n              marks={[\n                { value: 1, label: '1x' },\n                { value: 2, label: '2x' },\n                { value: 3, label: '3x' },\n              ]}\n              min={1}\n              max={3}\n              valueLabelDisplay=\"auto\"\n              valueLabelFormat={(value) => `${value}x`}\n            />\n          </Grid>\n          \n          {exportOptions.format === 'jpeg' && (\n            <Grid item xs={12}>\n              <Typography gutterBottom>{t('quality') || '质量'}</Typography>\n              <Box sx={{ px: 1 }}>\n                <Slider\n                  value={exportOptions.quality}\n                  onChange={(_, value) => handleExportOptionChange('quality', value)}\n                  step={5}\n                  marks={[\n                    { value: 60, label: t('low') || '低' },\n                    { value: 80, label: t('medium') || '中' },\n                    { value: 100, label: t('high') || '高' },\n                  ]}\n                  min={60}\n                  max={100}\n                  valueLabelDisplay=\"auto\"\n                  valueLabelFormat={(value) => `${value}%`}\n                />\n              </Box>\n            </Grid>\n          )}\n        </Grid>\n      </AccordionDetails>\n    </Accordion>\n\n    {/* 背景图片配置 */}\n    <Accordion sx={{ mb: 2 }} defaultExpanded={false}>\n      <AccordionSummary\n        expandIcon={<ExpandMoreIcon />}\n        aria-controls=\"background-image-config-content\"\n        id=\"background-image-config-header\"\n      >\n        <Typography variant=\"subtitle1\">{t('backgroundImage') || '背景图片'}</Typography>\n      </AccordionSummary>\n      <AccordionDetails>\n        <BackgroundImagePanel\n          config={cardConfig.backgroundImage}\n          onChange={handleBackgroundImageChange}\n          onFontColorSuggestion={handleSuggestedTextColor}\n          cardWidth={cardConfig.width}\n          cardHeight={typeof cardConfig.height === 'number' ? cardConfig.height : parseInt(String(cardConfig.height)) || 600}\n        />\n      </AccordionDetails>\n    </Accordion>\n    </Box>\n  );\n};\n\nexport default CardStyleConfig; ","// import { useTheme } from '@mui/material'; // Removed unused import\r\n\r\n/**\r\n * 格式化日期为简洁的字符串\r\n */\r\nexport const formatDate = (date: Date | string | any): string => {\r\n  try {\r\n    const d = new Date(date);\r\n    if (isNaN(d.getTime())) {\r\n      return new Date().toLocaleDateString('zh-CN', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit'\r\n      }).replace(/\\//g, '-');\r\n    }\r\n    return d.toLocaleDateString('zh-CN', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit'\r\n    }).replace(/\\//g, '-');\r\n  } catch (error) {\r\n    return new Date().toLocaleDateString('zh-CN', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit'\r\n    }).replace(/\\//g, '-');\r\n  }\r\n};\r\n\r\n/**\r\n * 获取响应式尺寸\r\n */\r\nexport const getResponsiveSize = (baseSize: number, isMobile: boolean, isTablet: boolean): number => {\r\n  if (isMobile) return baseSize * 0.7;\r\n  if (isTablet) return baseSize * 0.85;\r\n  return baseSize;\r\n};\r\n\r\n/**\r\n * 获取布局配置 - 高级版本，用于复杂的响应式布局\r\n */\r\nexport const getLayoutConfig = (cardConfig: any, isMobile: boolean, isTablet: boolean) => {\r\n  // 基准设计是基于800x450的卡片\r\n  const baseWidth = 800;\r\n  \r\n  // 创建比例因子，用于所有尺寸计算\r\n  const ratio = cardConfig.width / baseWidth;\r\n  \r\n  // 返回一套完整的布局参数，所有值都会根据卡片当前尺寸按比例缩放\r\n  return {\r\n    // 标题\r\n    titleFontSize: `${Math.max(1.5, 2.125 * ratio)}rem`,\r\n    titleMarginBottom: `${Math.max(8, 16 * ratio)}px`,\r\n    \r\n    // 联系方式芯片\r\n    chipHeight: `${Math.max(24, 32 * ratio)}px`,\r\n    chipFontSize: `${Math.max(0.65, 0.875 * ratio)}rem`,\r\n    chipPadding: `${Math.max(4, 8 * ratio)}px ${Math.max(6, 12 * ratio)}px`,\r\n    chipMarginBottom: `${Math.max(8, 20 * ratio)}px`,\r\n    \r\n    // 联系人标签\r\n    contactLabelFontSize: `${Math.max(0.7, 0.95 * ratio)}rem`,\r\n    \r\n    // 网格间距\r\n    gridSpacing: Math.max(1, Math.round(3 * ratio)),\r\n    \r\n    // 平台项目\r\n    platformItemPadding: `${Math.max(6, 12 * ratio)}px`,\r\n    platformItemBorderRadius: `${Math.max(6, 12 * ratio)}px`,\r\n    platformItemMarginBottom: `${Math.max(4, 8 * ratio)}px`,\r\n    \r\n    // 图标\r\n    iconSize: getResponsiveSize(cardConfig.iconSize, isMobile, isTablet),\r\n    iconMarginRight: `${Math.max(4, 8 * ratio)}px`,\r\n    iconPadding: `${Math.max(1, 3 * ratio)}px`,\r\n    \r\n    // 平台名称\r\n    platformNameFontSize: `${Math.max(0.6, 0.7 * ratio)}rem`,\r\n    \r\n    // 粉丝数字\r\n    followersFontSize: `${Math.max(0.75, 0.9 * ratio)}rem`,\r\n    \r\n    // 状态栏\r\n    statsBoxBottom: `${Math.max(10, 20 * ratio)}px`,\r\n    statsBoxRight: `${Math.max(10, 20 * ratio)}px`,\r\n    statsBoxPadding: `${Math.max(5, 10 * ratio)}px ${Math.max(10, 15 * ratio)}px`,\r\n    statsBoxBorderRadius: `${Math.max(4, 8 * ratio)}px`,\r\n    statsTotalFontSize: `${Math.max(0.75, 0.875 * ratio)}rem`,\r\n    statsDateFontSize: `${Math.max(0.6, 0.75 * ratio)}rem`,\r\n\r\n    // 卡片内边距\r\n    cardPadding: `${Math.max(16, 32 * ratio)}px`,\r\n  };\r\n};\r\n\r\n/**\r\n * 获取卡片尺寸\r\n */\r\nexport const getDimensions = (cardConfig: any, cardHeight: number | null) => {\r\n  const isFixedHeight = typeof cardConfig.height === 'number';\r\n  \r\n  return {\r\n    width: cardConfig.width,\r\n    height: isFixedHeight ? cardConfig.height : (cardHeight || 'auto'),\r\n    isFixedHeight\r\n  };\r\n};\r\n\r\n/**\r\n * 格式化数字函数，根据语言环境决定显示方式\r\n */\r\nexport const formatNumber = (num: number | null | undefined, language: string = 'zh'): string => {\r\n  if (num === null || num === undefined) return '0';\r\n  \r\n  if (language === 'zh') {\r\n    // 中文格式\r\n    if (num >= 100000000) { // 亿级别\r\n      const formatted = (num / 100000000).toFixed(1);\r\n      // 如果小数点后是0，则移除小数部分\r\n      return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}亿`;\r\n    } else if (num >= 10000) { // 万级别\r\n      const formatted = (num / 10000).toFixed(1);\r\n      // 如果小数点后是0，则移除小数部分\r\n      return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}万`;\r\n    } else if (num >= 1000) { // 千级别，更紧凑展示\r\n      return `${Math.floor(num / 1000)}千`;\r\n    }\r\n  } else {\r\n    // 英文格式\r\n    if (num >= 1000000000) { // Billion\r\n      const formatted = (num / 1000000000).toFixed(1);\r\n      return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}B`;\r\n    } else if (num >= 1000000) { // Million\r\n      const formatted = (num / 1000000).toFixed(1);\r\n      return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}M`;\r\n    } else if (num >= 1000) { // Thousand\r\n      const formatted = (num / 1000).toFixed(1);\r\n      return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}K`;\r\n    }\r\n  }\r\n  \r\n  return num.toString();\r\n}; ","// 优化的导出功能 - 专门处理Material-UI导出问题\nimport html2canvas from 'html2canvas';\nimport { CardConfig, ExportOptions } from '../types/index';\n\n// Canvas设置常量\nconst CANVAS_SETTINGS = {\n  allowTaint: false,\n  useCORS: true,\n  scale: 1,\n  logging: false,\n  scrollX: 0,\n  scrollY: 0,\n  foreignObjectRendering: false,\n  removeContainer: true,\n  backgroundColor: null\n} as const;\n\n// 图片缓存管理\nclass ImageCache {\n  private static cache = new Map<string, string>();\n  \n  static async getOrCache(src: string): Promise<string> {\n    if (this.cache.has(src)) {\n      return this.cache.get(src)!;\n    }\n    \n    try {\n      const response = await fetch(src);\n      if (!response.ok) throw new Error(`HTTP ${response.status}`);\n      \n      const blob = await response.blob();\n      const dataUrl = await new Promise<string>((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result as string);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n      });\n      \n      this.cache.set(src, dataUrl);\n      return dataUrl;\n    } catch (error) {\n      console.warn(`图片缓存失败: ${src}`, error);\n      return src;\n    }\n  }\n  \n  static clear(): void {\n    this.cache.clear();\n  }\n}\n\n// 图片预加载和缓存\nconst preloadAndCacheImages = async (element: HTMLElement): Promise<void> => {\n  const images = Array.from(element.querySelectorAll('img'));\n  const bgImageElements = Array.from(element.querySelectorAll('*')).filter(el => {\n    const computedStyle = window.getComputedStyle(el);\n    const bgImage = computedStyle.backgroundImage;\n    return bgImage && bgImage !== 'none' && bgImage.includes('url(');\n  });\n  \n  const totalElements = images.length + bgImageElements.length;\n  \n  if (totalElements === 0) {\n    return;\n  }\n  \n  const pendingImages: Promise<void>[] = [];\n  \n  // 处理img标签\n  images.forEach((img, index) => {\n    if (img.src && !img.src.startsWith('data:') && !img.src.startsWith('blob:')) {\n      const promise = ImageCache.getOrCache(img.src).then(dataUrl => {\n        img.src = dataUrl;\n      }).catch(error => {\n        console.warn(`图片 ${index + 1} 加载失败:`, error);\n      });\n      pendingImages.push(promise);\n    }\n  });\n  \n  // 处理背景图片\n  bgImageElements.forEach((element, index) => {\n    const computedStyle = window.getComputedStyle(element);\n    const bgImage = computedStyle.backgroundImage;\n    const urlMatch = bgImage.match(/url\\(['\"]?([^'\"]+)['\"]?\\)/);\n    \n    if (urlMatch && urlMatch[1] && !urlMatch[1].startsWith('data:') && !urlMatch[1].startsWith('blob:')) {\n      const promise = ImageCache.getOrCache(urlMatch[1]).then(dataUrl => {\n        (element as HTMLElement).style.backgroundImage = `url(\"${dataUrl}\")`;\n      }).catch(error => {\n        console.warn(`背景图片 ${index + 1} 加载失败:`, error);\n      });\n      pendingImages.push(promise);\n    }\n  });\n  \n  if (pendingImages.length > 0) {\n    try {\n      await Promise.all(pendingImages);\n    } catch (error) {\n      console.warn('部分图片处理失败，继续导出:', error);\n    }\n  }\n};\n\n// 检查图片加载状态\nconst waitForImageLoad = async (element: HTMLElement): Promise<void> => {\n  const images = Array.from(element.querySelectorAll('img'));\n  \n  if (images.length === 0) {\n    return;\n  }\n  \n  const imagePromises = images.map(img => {\n    return new Promise<void>((resolve) => {\n      if (img.complete && img.naturalHeight !== 0) {\n        resolve();\n      } else {\n        img.addEventListener('load', () => resolve(), { once: true });\n        img.addEventListener('error', () => resolve(), { once: true });\n        \n        // 5秒超时\n        setTimeout(resolve, 5000);\n      }\n    });\n  });\n  \n  await Promise.all(imagePromises);\n};\n\n// 等待所有图片加载完成的综合函数\nconst waitForAllImages = async (element: HTMLElement): Promise<void> => {\n  // 步骤1: 预加载和缓存\n  await preloadAndCacheImages(element);\n  \n  // 步骤2: 等待图片加载\n  await waitForImageLoad(element);\n  \n  // 步骤3: 确保渲染完成\n  await new Promise(resolve => requestAnimationFrame(resolve));\n};\n\n// 应用其他导出样式的同步版本\nconst applyOtherExportStylesSync = (\n  clonedElement: HTMLElement, \n  cardConfig: CardConfig,\n  cardWidth: number,\n  cardHeight: number\n): void => {\n  // 应用导出样式修复\n  \n  // 如果背景图片未启用，直接返回\n  if (!cardConfig.backgroundImage.enabled) {\n    return;\n  }\n  \n  // 获取背景图片URL\n  const backgroundImageUrl = cardConfig.backgroundImage.source.type === 'upload' \n    ? cardConfig.backgroundImage.source.uploadedImage?.url\n    : cardConfig.backgroundImage.source.type === 'theme' \n    ? cardConfig.backgroundImage.source.themeImage?.path\n    : null;\n  \n  if (!backgroundImageUrl) {\n    return;\n  }\n  \n  // 查找所有可能的背景图片元素\n  const backgroundElements: HTMLElement[] = [];\n  \n  // 查找所有div元素\n  const allDivs = Array.from(clonedElement.querySelectorAll('div'));\n  allDivs.forEach(div => {\n    const computedStyle = window.getComputedStyle(div);\n    const bgImage = computedStyle.backgroundImage;\n    \n    // 跳过stats-box，它不是背景元素\n    if (div.className.includes('stats-box')) {\n      return;\n    }\n    \n    // 检查是否是MUI Box或包含背景图片的元素\n    if (div.className.includes('MuiBox-root') || \n        (bgImage && bgImage !== 'none' && bgImage.includes('url('))) {\n      backgroundElements.push(div);\n    }\n  });\n  \n  // 修复总粉丝数位置\n  // 确保卡片容器有正确的定位上下文\n  if (clonedElement.style.position !== 'relative') {\n    clonedElement.style.position = 'relative';\n  }\n  \n  // 查找总粉丝数元素\n  const statsElements = Array.from(clonedElement.querySelectorAll('*')).filter(el => \n    el.className.includes('stats-box') || \n    (el.className.includes('css-') && (el as HTMLElement).style.position === 'absolute')\n  );\n  \n  statsElements.forEach(statsEl => {\n    const element = statsEl as HTMLElement;\n    const computedStyle = window.getComputedStyle(element);\n    \n    // 获取当前位置信息\n    const currentBottom = computedStyle.bottom;\n    const currentRight = computedStyle.right;\n    const currentTop = computedStyle.top;\n    const currentLeft = computedStyle.left;\n    \n    // 检查期望位置\n    const expectedBottom = '20px';\n    const expectedRight = '20px';\n    \n    // 位置详细检查\n    const hasTopValue = currentTop && currentTop !== 'auto' && currentTop !== '0px';\n    const hasLeftValue = currentLeft && currentLeft !== 'auto' && currentLeft !== '0px';\n    const bottomMatches = currentBottom === expectedBottom;\n    const rightMatches = currentRight === expectedRight;\n    const positionCorrect = !hasTopValue && !hasLeftValue && bottomMatches && rightMatches;\n    \n    if (!positionCorrect) {\n      // 强制重置位置属性\n      element.style.position = 'absolute !important';\n      element.style.bottom = '20px !important';\n      element.style.right = '20px !important';\n      element.style.top = 'auto !important';\n      element.style.left = 'auto !important';\n      element.style.transform = 'none !important';\n      element.style.zIndex = '10';\n      \n      // 清除可能的conflicting CSS类\n      if (element.className.includes('css-')) {\n        // 覆盖Material-UI生成的样式\n        element.style.cssText += `\n          position: absolute !important;\n          bottom: 20px !important;\n          right: 20px !important;\n          top: auto !important;\n          left: auto !important;\n          transform: none !important;\n        `;\n      }\n      \n      // 终极修复：直接操作DOM样式\n      const currentStyle = element.getAttribute('style') || '';\n      const newStyle = currentStyle + \n        '; position: absolute !important' +\n        '; bottom: 20px !important' +\n        '; right: 20px !important' +\n        '; top: auto !important' +\n        '; left: auto !important' +\n        '; transform: none !important';\n      element.setAttribute('style', newStyle);\n    }\n  });\n  \n  // 应用文本颜色修复\n  const textColor = cardConfig.textColor;\n  if (textColor) {\n    // 查找所有文本元素并强制设置颜色\n    const textElements = Array.from(clonedElement.querySelectorAll('*')).filter(el => {\n      const tagName = el.tagName.toLowerCase();\n      return ['p', 'span', 'div', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'typography'].includes(tagName) ||\n             el.className.includes('MuiTypography') ||\n             el.className.includes('MuiChip-label') ||\n             el.textContent && el.textContent.trim().length > 0;\n    });\n    \n    textElements.forEach(el => {\n      const element = el as HTMLElement;\n      // 强制设置文本颜色，使用!important确保优先级\n      element.style.color = `${textColor} !important`;\n      \n      // 特别处理Material-UI组件\n      if (element.className.includes('MuiTypography-root') || \n          element.className.includes('MuiChip-label')) {\n        element.style.cssText += `color: ${textColor} !important;`;\n      }\n    });\n  }\n  \n  // 总粉丝数背景效果一致性修复\n  const totalStatsElements = Array.from(clonedElement.querySelectorAll('*')).filter(el => \n    el.textContent?.includes('总粉丝数') || \n    el.className.includes('stats-box')\n  );\n  \n  totalStatsElements.forEach(el => {\n    const element = el as HTMLElement;\n    \n    // 统一背景渐变算法\n    const isDarkBackground = cardConfig.backgroundColor === '#1a1a2e' || cardConfig.textColor === '#ffffff';\n    \n    if (isDarkBackground) {\n      // 深色背景使用浅色渐变\n      element.style.background = 'linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.08)) !important';\n    } else {\n      // 浅色背景使用深色渐变\n      element.style.background = 'linear-gradient(135deg, rgba(0,0,0,0.03), rgba(0,0,0,0.08)) !important';\n    }\n    \n    // 增强backdrop-filter支持\n    element.style.backdropFilter = 'blur(10px) !important';\n    (element.style as any).webkitBackdropFilter = 'blur(10px) !important';\n    \n    // 确保边框样式\n    element.style.border = `1px solid ${isDarkBackground ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)'} !important`;\n  });\n};\n\n// 导出卡片的主函数\nexport const exportCard = async (\n  element: HTMLElement, \n  cardConfig: CardConfig,\n  exportOptions: ExportOptions,\n  onProgress?: (progress: number) => void\n): Promise<void> => {\n  // 开始导出卡片\n  \n  try {\n    // 步骤1: 等待所有图片加载完成\n    onProgress?.(10);\n    await waitForAllImages(element);\n    \n    onProgress?.(30);\n    \n    // 获取元素尺寸\n    const rect = element.getBoundingClientRect();\n    const elementWidth = rect.width || cardConfig.width;\n    const elementHeight = rect.height || 450;\n    \n    // 计算缩放比例和最终尺寸\n    const scale = exportOptions.scale;\n    const finalWidth = Math.round(elementWidth * scale);\n    const finalHeight = Math.round(elementHeight * scale);\n    \n    onProgress?.(50);\n    \n    // 步骤3: 使用html2canvas渲染\n    const canvas = await html2canvas(element, {\n      ...CANVAS_SETTINGS,\n      width: elementWidth,\n      height: elementHeight,\n      scale: scale,\n      onclone: (clonedDocument, clonedElement) => {\n        // 应用导出样式修复\n        applyOtherExportStylesSync(clonedElement, cardConfig, elementWidth, elementHeight);\n      }\n    });\n    \n    onProgress?.(80);\n    \n    // 步骤4: 转换并下载\n    const format = exportOptions.format;\n    const quality = exportOptions.quality / 100;\n    \n    let dataUrl: string;\n    if (format === 'jpeg') {\n      dataUrl = canvas.toDataURL('image/jpeg', quality);\n      } else {\n      dataUrl = canvas.toDataURL('image/png');\n    }\n    \n    // 创建下载链接\n    const link = document.createElement('a');\n    link.download = `media-card-${Date.now()}.${format}`;\n    link.href = dataUrl;\n    \n    // 触发下载\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    \n    onProgress?.(100);\n    \n  } catch (error) {\n    console.error('导出失败:', error);\n    throw error;\n  }\n};\n\n// 导出预览函数\nexport const getExportPreview = async (\n  element: HTMLElement,\n  cardConfig: CardConfig,\n  exportOptions: ExportOptions\n): Promise<string> => {\n  try {\n    await waitForAllImages(element);\n    \n    const rect = element.getBoundingClientRect();\n    const elementWidth = rect.width || cardConfig.width;\n    const elementHeight = rect.height || 450;\n    \n    const canvas = await html2canvas(element, {\n      ...CANVAS_SETTINGS,\n      width: elementWidth,\n      height: elementHeight,\n      scale: 1, // 预览使用1x缩放以提高性能\n      onclone: (clonedDocument, clonedElement) => {\n        applyOtherExportStylesSync(clonedElement, cardConfig, elementWidth, elementHeight);\n      }\n    });\n    \n    return canvas.toDataURL('image/png');\n  } catch (error) {\n    console.error('预览生成失败:', error);\n    throw error;\n  }\n}; ","import React, { useRef, useState, useEffect, useCallback } from 'react';\nimport { Box, Typography, Paper, Button, Grid, CircularProgress, Chip, useMediaQuery, useTheme } from '@mui/material';\nimport { UserData, CardConfig, ExportOptions } from '../types/index';\nimport { getSortedPlatforms } from '../assets/socialPlatforms';\nimport CardStyleConfig from './CardStyleConfig';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport { useThemeContext } from '../contexts/ThemeContext';\nimport { buildFilterString } from '../utils/imageProcessor';\nimport { formatDate, getLayoutConfig } from '../utils/mediaCardHelpers';\nimport { exportCard } from '../utils/exportHelpers';\n\ninterface MediaCardProps {\n  userData: UserData;\n}\n\nconst MediaCard: React.FC<MediaCardProps> = ({ userData }) => {\n  const cardRef = useRef<HTMLDivElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [isExporting, setIsExporting] = useState(false);\n  const [exportProgress, setExportProgress] = useState(0);\n  const [scale, setScale] = useState(1);\n  \n  // 使用Material-UI主题和媒体查询\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const isTablet = useMediaQuery(theme.breakpoints.between('sm', 'md'));\n  const { t, language } = useThemeContext();\n  \n  // 简化高度管理的状态\n  const [heightLocked, setHeightLocked] = useState(false);\n  const [cardHeight, setCardHeight] = useState<number | null>(null);\n  \n  // 默认卡片样式配置\n  const [cardConfig, setCardConfig] = useState<CardConfig>({\n    width: 800,\n    height: 'auto', // 始终使用auto高度进行渲染\n    backgroundColor: '#1a1a2e',\n    textColor: '#ffffff',\n    borderRadius: 12,\n    fontFamily: 'Inter, system-ui, sans-serif',\n    iconSize: 28,\n    cardTitle: '__DEFAULT_TITLE__',\n    watermark: {\n      enabled: false,\n      text: '自媒体数据卡片',\n      opacity: 0.5,\n      fontSize: 16,\n      position: 'bottomRight' as 'bottomRight' | 'bottomLeft' | 'topRight' | 'topLeft' | 'center',\n      color: '#ffffff'\n    },\n    backgroundImage: {\n      enabled: false,\n      source: { type: 'none' as const }, // 明确指定类型为'none'\n      display: {\n        opacity: 1,\n        blendMode: 'normal' as const,\n        position: 'center' as const,\n        size: 'cover' as const,\n        repeat: 'no-repeat' as const\n      },\n      effects: {\n        blur: 0,\n        brightness: 1,\n        contrast: 1,\n        saturation: 1,\n        sepia: 0\n      }\n    }\n  });\n  \n  // 默认导出选项\n  const [exportOptions, setExportOptions] = useState<ExportOptions>({\n    format: 'png',\n    quality: 90,\n    scale: 2,\n    aspectRatio: 'custom'  // 默认设置为自定义宽高比\n  });\n  \n  // 计算总粉丝数\n  const totalFollowers = Object.values(userData.socialMedia)\n    .filter((followers): followers is number => followers !== null && followers !== undefined)\n    .reduce((sum, followers) => sum + followers, 0);\n  \n\n  \n  // 自适应屏幕按钮处理函数 - 提前声明\n  const handleAdaptToScreen = useCallback(() => {\n    if (!containerRef.current || !cardRef.current) return;\n    \n    const containerWidth = containerRef.current.clientWidth;\n    // 保持宽高比的同时调整卡片大小\n    let newWidth = Math.min(containerWidth - 24, 800); // 减小内边距以匹配导出效果\n    \n    // 先更新宽度，同时设置为自动高度\n    setCardConfig(prev => ({\n      ...prev,\n      width: newWidth,\n      height: 'auto', // 先设置为自动高度\n      iconSize: Math.max(18, Math.round(28 * (newWidth / 800)))\n    }));\n    \n    // 重置缩放比例\n    setScale(1);\n    \n    // 确保宽高比设置为自定义\n    setExportOptions(prev => ({\n      ...prev,\n      aspectRatio: 'custom'\n    }));\n    \n    // 延迟读取实际高度并更新，确保布局已经重新计算完成\n    setTimeout(() => {\n      if (cardRef.current) {\n        const actualHeight = cardRef.current.offsetHeight;\n        if (actualHeight > 0) {\n          setCardConfig(prev => ({\n            ...prev,\n            height: actualHeight // 使用实际测量的高度\n          }));\n        }\n      }\n    }, 300);\n  }, [containerRef]);\n  \n  // 调整移动设备上的初始卡片尺寸\n  useEffect(() => {\n    if (isMobile) {\n      // 手机屏幕上默认较小的卡片尺寸\n      setCardConfig(prev => ({\n        ...prev,\n        width: 320,\n        height: Math.round(320 * 9 / 16),  // 使用16:9比例计算高度\n        iconSize: 20\n      }));\n      // 在移动端自动执行自适应屏幕\n      setTimeout(handleAdaptToScreen, 500);\n    } else if (isTablet) {\n      // 平板上的默认尺寸\n      setCardConfig(prev => ({\n        ...prev,\n        width: 600,\n        height: Math.round(600 * 9 / 16),  // 使用16:9比例计算高度\n        iconSize: 24\n      }));\n      // 在平板端自动执行自适应屏幕\n      setTimeout(handleAdaptToScreen, 500);\n    } else {\n      // 恢复桌面默认尺寸\n      // 在桌面端也自动执行自适应屏幕\n      setTimeout(handleAdaptToScreen, 500);\n    }\n  }, [isMobile, isTablet, handleAdaptToScreen]);\n  \n  // 仅监听userData变化，在数据变化时重新测量高度\n  useEffect(() => {\n    if (!cardRef.current || heightLocked) return;\n    \n    // 延迟测量，确保内容已渲染\n    const timeoutId = setTimeout(() => {\n      if (cardRef.current) {\n        const height = Math.round(cardRef.current.offsetHeight);\n        if (height > 0) {\n          setCardHeight(height);\n        }\n      }\n    }, 500);\n    \n    return () => clearTimeout(timeoutId);\n  }, [userData, heightLocked]);\n\n  // 监听容器大小变化并调整卡片缩放比例\n  useEffect(() => {\n    const currentContainer = containerRef.current;\n    if (!currentContainer) return;\n    \n    const calculateScale = () => {\n      if (!currentContainer) return;\n      const containerWidth = currentContainer.clientWidth || 0;\n      const cardWidth = cardConfig.width;\n      \n      if (containerWidth < cardWidth) {\n        // 如果容器宽度小于卡片宽度，计算缩放比例\n        const newScale = containerWidth / cardWidth;\n        setScale(Math.min(newScale, 1)); // 缩放比例不超过1\n      } else {\n        setScale(1); // 容器足够大，不需要缩放\n      }\n    };\n    \n    // 初始计算\n    calculateScale();\n    \n    // 使用ResizeObserver监听容器大小变化\n    const resizeObserver = new ResizeObserver(calculateScale);\n    resizeObserver.observe(currentContainer);\n    \n    return () => {\n      if (currentContainer) {\n        resizeObserver.unobserve(currentContainer);\n      }\n    };\n  }, [cardConfig.width]);\n\n\n\n\n\n  // 获取当前卡片尺寸（用于展示）\n  const getDimensions = () => {\n    const { width } = cardConfig;\n    const { aspectRatio } = exportOptions;\n    \n    // 宽高比预设情况下，根据宽度自动计算高度\n    if (aspectRatio === '16:9') {\n      return { width, height: Math.round(width * 9 / 16) };\n    } else if (aspectRatio === '4:3') {\n      return { width, height: Math.round(width * 3 / 4) };\n    } else if (aspectRatio === '1:1') {\n      return { width, height: width };\n    } else if (aspectRatio === 'custom') {\n      // 自定义模式下，优先使用用户手动设置的高度\n      // 如果高度是数字值，则直接使用该值\n      if (typeof cardConfig.height === 'number') {\n        return { width, height: cardConfig.height };\n      }\n      // 如果高度是'auto'，则使用测量的实际高度或默认值\n      return { width, height: cardHeight || Math.round(width * 9 / 16) };\n    }\n    \n    // 默认情况\n    return { width, height: cardHeight || Math.round(width * 9 / 16) };\n  };\n  \n  // 获取当前卡片尺寸\n  const { width, height } = getDimensions();\n  \n  // 获取当前布局配置\n  const layout = getLayoutConfig(cardConfig, isMobile, isTablet);\n  \n  // 渲染背景图片\n  const renderBackgroundImage = () => {\n    const { backgroundImage } = cardConfig;\n    \n    if (!backgroundImage.enabled) {\n      return null;\n    }\n    \n    let backgroundImageUrl: string | null = null;\n    \n    // 确定背景图片URL\n    if (backgroundImage.source.type === 'upload' && backgroundImage.source.uploadedImage) {\n      backgroundImageUrl = backgroundImage.source.uploadedImage.url;\n    } else if (backgroundImage.source.type === 'theme' && backgroundImage.source.themeImage) {\n      backgroundImageUrl = backgroundImage.source.themeImage.path;\n    }\n    \n    if (!backgroundImageUrl) {\n      return null;\n    }\n    \n    const backgroundStyle = {\n      position: 'absolute' as const,\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: 0,\n      opacity: backgroundImage.display.opacity,\n      mixBlendMode: backgroundImage.display.blendMode as any,\n      \n      // 图片属性\n      backgroundImage: `url(${backgroundImageUrl})`,\n      backgroundSize: backgroundImage.display.size,\n      backgroundPosition: backgroundImage.display.position,\n      backgroundRepeat: backgroundImage.display.repeat,\n      \n      // 滤镜效果\n      filter: buildFilterString(backgroundImage.effects)\n    };\n    \n    return <Box sx={backgroundStyle} />;\n  };\n  \n  // 格式化数字函数，根据语言环境决定显示方式\n  const formatNumber = (num: number | null | undefined): string => {\n    if (num === null || num === undefined) return '0';\n    \n    if (language === 'zh') {\n      // 中文格式\n      if (num >= 100000000) { // 亿级别\n        const formatted = (num / 100000000).toFixed(1);\n        // 如果小数点后是0，则移除小数部分\n        return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}亿`;\n      } else if (num >= 10000) { // 万级别\n        const formatted = (num / 10000).toFixed(1);\n        // 如果小数点后是0，则移除小数部分\n        return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}万`;\n      } else if (num >= 1000) { // 千级别，更紧凑展示\n        return `${Math.floor(num / 1000)}千`;\n      }\n    } else {\n      // 英文格式\n      if (num >= 1000000000) { // Billion\n        const formatted = (num / 1000000000).toFixed(1);\n        return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}B`;\n      } else if (num >= 1000000) { // Million\n        const formatted = (num / 1000000).toFixed(1);\n        return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}M`;\n      } else if (num >= 1000) { // Thousand\n        const formatted = (num / 1000).toFixed(1);\n        return `${formatted.endsWith('.0') ? formatted.slice(0, -2) : formatted}K`;\n      }\n    }\n    \n    return num.toString();\n  };\n  \n  const renderWatermark = () => {\n    if (!cardConfig.watermark.enabled) return null;\n    \n    const { text, opacity, fontSize, position, color } = cardConfig.watermark;\n    \n    // 定位样式映射\n    const positionStyles: Record<string, React.CSSProperties> = {\n      bottomRight: { bottom: 10, right: 10, textAlign: 'right' },\n      bottomLeft: { bottom: 10, left: 10, textAlign: 'left' },\n      topRight: { top: 10, right: 10, textAlign: 'right' },\n      topLeft: { top: 10, left: 10, textAlign: 'left' },\n      center: { top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }\n    };\n    \n    return (\n      <div \n        data-watermark=\"true\"\n        style={{\n          position: 'absolute',\n          ...positionStyles[position],\n          opacity,\n          color,\n          fontSize: `${fontSize}px`,\n          fontFamily: cardConfig.fontFamily,\n          zIndex: 10,\n          pointerEvents: 'none',\n          userSelect: 'none'\n        }}\n      >\n        {text}\n      </div>\n    );\n  };\n  \n  // 导出图片\n  const handleExport = async () => {\n    if (!cardRef.current) return;\n    \n    setIsExporting(true);\n    setExportProgress(5);\n\n    try {\n      await exportCard(cardRef.current, cardConfig, exportOptions, setExportProgress);\n      \n      // 延迟清除导出状态\n      setTimeout(() => {\n        setIsExporting(false);\n        setExportProgress(0);\n      }, 1500);\n    } catch (error) {\n      console.error('导出失败:', error);\n      setIsExporting(false);\n      setExportProgress(0);\n    }\n  };\n  \n  // 处理卡片配置变更\n  const handleCardConfigChange = useCallback((newConfig: Partial<CardConfig>) => {\n    setCardConfig(prev => {\n      const updated = { ...prev, ...newConfig };\n      return updated;\n    });\n  }, []);\n\n  // 处理导出选项变更\n  const handleExportOptionsChange = (newOptions: ExportOptions) => {\n    setHeightLocked(true); // 锁定高度更新\n    \n    setExportOptions(newOptions);\n    \n    // 当宽高比变化时，自动调整卡片高度以匹配\n    if (newOptions.aspectRatio !== exportOptions.aspectRatio) {\n      const { width } = cardConfig;\n      \n      if (newOptions.aspectRatio === 'custom') {\n        // 切换到自定义比例时，如果cardConfig.height已经是数字，保留该数字\n        if (typeof cardConfig.height === 'number') {\n    \n          setCardHeight(cardConfig.height);\n          setHeightLocked(false);\n          return;\n        }\n        \n        // 否则测量当前高度\n        setTimeout(() => {\n          if (cardRef.current) {\n            const newHeight = Math.round(cardRef.current.offsetHeight);\n            if (newHeight > 0) {\n              setCardHeight(newHeight);\n            }\n          }\n          setHeightLocked(false);\n        }, 300);\n        return; // 提前返回，避免立即解锁\n      } else {\n        // 预设宽高比\n        let newHeight: number;\n      if (newOptions.aspectRatio === '16:9') {\n          newHeight = Math.round(width * 9 / 16);\n      } else if (newOptions.aspectRatio === '4:3') {\n          newHeight = Math.round(width * 3 / 4);\n      } else {\n          newHeight = width; // 1:1\n        }\n        setCardHeight(newHeight);\n        \n        // 预设宽高比模式下，设置cardConfig的height为特定值\n        setCardConfig(prev => ({\n          ...prev,\n          height: newHeight\n        }));\n      }\n    }\n    \n    // 延迟解锁\n    setTimeout(() => {\n      setHeightLocked(false);\n    }, 200);\n    };\n    \n    return (\n    <div ref={containerRef}>\n        <CardStyleConfig \n          cardConfig={cardConfig}\n          exportOptions={exportOptions}\n          onConfigChange={handleCardConfigChange}\n          onExportOptionsChange={handleExportOptionsChange}\n        />\n        \n      {/* 固定间距容器 - 确保配置面板和预览区域间距一致 */}\n      <Box sx={{ \n        mt: 3, // 固定顶部边距\n        mb: 3  // 固定底部边距\n      }}>\n        <Box sx={{ \n          display: 'flex', \n          flexDirection: 'column', \n          alignItems: 'center',\n          width: '100%',\n          transition: 'height 0.5s ease'\n        }}>\n          <Box sx={{\n            transform: `scale(${scale})`,\n            transformOrigin: 'top center',\n            transition: 'all 0.3s ease',\n            width: `${width}px`,\n            minHeight: `${height}px`, // 始终使用计算出的高度\n            position: 'relative',\n            mb: 3,\n            maxWidth: '100%'\n          }}>\n            <Paper \n              ref={cardRef}\n              data-ref=\"card\"\n              elevation={8}\n              sx={{\n                width: `${width}px`,\n                height: exportOptions.aspectRatio === 'custom' && typeof cardConfig.height === 'string' ? 'auto' : `${height}px`, // 仅当自定义模式且未设置具体高度时使用auto\n                minHeight: `${height}px`, // 始终使用计算出的高度\n                bgcolor: cardConfig.backgroundColor,\n                color: cardConfig.textColor,\n                p: 0,\n                padding: layout.cardPadding,\n                position: 'relative',\n                overflow: 'hidden', // 修复：改为hidden以显示圆角效果\n                borderRadius: `${cardConfig.borderRadius}px !important`,\n                fontFamily: cardConfig.fontFamily,\n                backgroundImage: 'none !important', // 强制重置，让子元素的背景图片显示\n                backgroundColor: cardConfig.backgroundColor, // 确保背景色正确设置\n                boxShadow: '0 10px 30px rgba(0,0,0,0.25)',\n                display: 'flex',\n                flexDirection: 'column',\n                boxSizing: 'border-box',\n                transition: 'height 0.5s ease-in-out, min-height 0.5s ease-in-out',\n                maxWidth: '100%'\n              }}\n            >\n              {/* 背景图片 */}\n              {renderBackgroundImage()}\n              \n              {cardConfig.watermark.enabled && renderWatermark()}\n              \n              <Box sx={{ \n                display: 'flex', \n                flexDirection: 'column',\n                flexGrow: 1,\n                position: 'relative',\n                zIndex: 5,\n                minHeight: 0,\n                width: '100%'\n              }}>\n              <Typography variant=\"h5\" component=\"h1\" sx={{\n                color: cardConfig.textColor,\n                fontWeight: 600,\n                mb: 2,\n                fontSize: layout.titleFontSize,\n                  lineHeight: 1.2,\n                  wordBreak: 'break-word'\n              }}>\n                {cardConfig.cardTitle === '__DEFAULT_TITLE__' || cardConfig.cardTitle === '自媒体个性名片' ? t('cardTitle') : cardConfig.cardTitle}\n              </Typography>\n              \n                {/* 联系方式区域 */}\n                {(userData.contactInfo?.wechatId || userData.contactInfo?.email || userData.contactInfo?.twitter || userData.contactInfo?.facebook || userData.contactInfo?.weibo || userData.contactInfo?.douyin || userData.contactInfo?.xiaohongshu || userData.contactInfo?.discord || userData.contactInfo?.reddit || userData.contactInfo?.tiktok || userData.contactInfo?.telegram) && (\n                  <Box sx={{ \n                    display: 'flex', \n                    flexDirection: 'column',\n                    alignItems: 'flex-start',\n                    gap: 1,\n                    marginBottom: layout.chipMarginBottom\n                  }}\n                  data-contact-box=\"true\"\n                  >\n                    <Typography \n                      variant=\"subtitle2\" \n                      sx={{ \n                        fontFamily: 'inherit',\n                        opacity: 0.9,\n                        fontSize: layout.contactLabelFontSize,\n                        fontWeight: 500,\n                        mb: 0.5,\n                        color: cardConfig.textColor,\n                        textShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                  cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                  ? '0 1px 2px rgba(0,0,0,0.2)' : 'none'\n                      }}>\n                      {t('contactMe')}\n                    </Typography>\n                    \n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                      {/* 微信联系方式 */}\n                      {userData.contactInfo?.wechatId && (\n                        <Chip\n                          data-contact-chip=\"wechat\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/wechat.png`}\n                              alt=\"微信\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/wechat.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.wechatId}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* 邮箱联系方式 */}\n                      {userData.contactInfo?.email && (\n                        <Chip\n                          data-contact-chip=\"email\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/mail.png`}\n                              alt=\"邮箱\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/mail.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.email}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* Twitter联系方式 */}\n                      {userData.contactInfo?.twitter && (\n                        <Chip\n                          data-contact-chip=\"twitter\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/twitter.png`}\n                              alt=\"Twitter\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/twitter.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.twitter}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* Facebook联系方式 */}\n                      {userData.contactInfo?.facebook && (\n                        <Chip\n                          data-contact-chip=\"facebook\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/facebook.png`}\n                              alt=\"Facebook\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/facebook.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.facebook}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* 微博联系方式 */}\n                      {userData.contactInfo?.weibo && (\n                        <Chip\n                          data-contact-chip=\"weibo\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/weibo.png`}\n                              alt=\"微博\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/weibo.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.weibo}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* 抖音联系方式 */}\n                      {userData.contactInfo?.douyin && (\n                        <Chip\n                          data-contact-chip=\"douyin\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/douyin.png`}\n                              alt=\"抖音\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/douyin.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.douyin}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* 小红书联系方式 */}\n                      {userData.contactInfo?.xiaohongshu && (\n                        <Chip\n                          data-contact-chip=\"xiaohongshu\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/xiaohongshu.png`}\n                              alt=\"小红书\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/xiaohongshu.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.xiaohongshu}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* Discord联系方式 */}\n                      {userData.contactInfo?.discord && (\n                        <Chip\n                          data-contact-chip=\"discord\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/discord.png`}\n                              alt=\"Discord\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/discord.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.discord}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* Reddit联系方式 */}\n                      {userData.contactInfo?.reddit && (\n                        <Chip\n                          data-contact-chip=\"reddit\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/reddit.png`}\n                              alt=\"Reddit\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/reddit.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.reddit}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* TikTok联系方式 */}\n                      {userData.contactInfo?.tiktok && (\n                        <Chip\n                          data-contact-chip=\"tiktok\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/tiktok.png`}\n                              alt=\"TikTok\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/tiktok.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.tiktok}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                      \n                      {/* Telegram联系方式 */}\n                      {userData.contactInfo?.telegram && (\n                        <Chip\n                          data-contact-chip=\"telegram\"\n                          avatar={\n                            <Box \n                              component=\"img\"\n                              sx={{ width: 20, height: 20 }}\n                              src={`${process.env.PUBLIC_URL}/icons/telegram.png`}\n                              alt=\"Telegram\"\n                              onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                                const target = e.target as HTMLImageElement;\n                                target.onerror = null;\n                                target.src = `${process.env.PUBLIC_URL}/icons/telegram.svg`;\n                              }}\n                            />\n                          }\n                          label={userData.contactInfo.telegram}\n                          sx={{ \n                            height: layout.chipHeight,\n                            fontSize: layout.chipFontSize,\n                            padding: layout.chipPadding,\n                            bgcolor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                    ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.1)',\n                            color: cardConfig.textColor,\n                            border: '1px solid',\n                            borderColor: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? 'rgba(0,0,0,0.2)' : 'rgba(255,255,255,0.2)',\n                            boxShadow: cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                                      cardConfig.backgroundColor.toLowerCase() === '#fff' \n                                      ? '0 1px 3px rgba(0,0,0,0.2)' : 'none',\n                            '& .MuiChip-avatar': {\n                              width: 18,\n                              height: 18\n                            }\n                          }}\n                        />\n                      )}\n                    </Box>\n                  </Box>\n                )}\n                \n                {/* 社交媒体平台数据区域 */}\n                <Grid \n                  container \n                  spacing={layout.gridSpacing}\n                  sx={{ \n                    display: 'grid',\n                    gridTemplateColumns: {\n                      xs: '1fr',\n                      sm: 'repeat(2, 1fr)',\n                      md: 'repeat(3, 1fr)'\n                    },\n                    gap: 2,\n                    width: '100%',\n                    margin: 0,\n                    boxSizing: 'border-box',\n                    pb: 8,\n                    mt: 1,\n                    position: 'relative',\n                    zIndex: 1\n                  }}\n                >\n                {getSortedPlatforms(language).map(platform => {\n                  const followers = userData.socialMedia[platform.id];\n                  if (followers === null || followers === undefined || followers === 0) return null;\n                  \n                  return (\n                    <Grid item \n                      key={platform.id}\n                      data-platform-id={platform.id}\n                      sx={{ \n                        display: 'flex',\n                        flexDirection: 'column',\n                        width: '100%',\n                        boxSizing: 'border-box',\n                        maxWidth: '234px', // 设置最大宽度\n                        mx: 'auto' // 左右边距自动，实现居中\n                      }}\n                    >\n                      <Box \n                        data-platform-item=\"true\"\n                        sx={{ \n                          display: 'flex', \n                          alignItems: 'center', \n                          padding: layout.platformItemPadding,\n                          borderRadius: layout.platformItemBorderRadius,\n                          background: 'rgba(255, 255, 255, 0.1)',\n                          backdropFilter: 'blur(4px)',\n                          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n                          border: '1px solid rgba(255,255,255,0.15)',\n                          width: '100%',\n                          maxWidth: '234px', // 设置最大宽度\n                          boxSizing: 'border-box',\n                          minHeight: '70px',\n                          position: 'relative',\n                          zIndex: 1,\n                          transition: 'all 0.2s ease-out',\n                          '&:hover': {\n                            transform: 'translateY(-2px)',\n                            boxShadow: '0 6px 8px rgba(0,0,0,0.15)',\n                            background: 'rgba(255, 255, 255, 0.15)'\n                          }\n                        }}\n                      >\n                        <Box \n                          component=\"img\"\n                          sx={{ \n                            width: layout.iconSize, \n                            height: layout.iconSize, \n                            marginRight: layout.iconMarginRight,\n                            filter: 'none',\n                            borderRadius: '50%',\n                            padding: layout.iconPadding,\n                            background: 'rgba(255, 255, 255, 0.15)',\n                            objectFit: 'contain',\n                            flexShrink: 0\n                          }}\n                          alt={platform.name}\n                          src={platform.pngPath}\n                          onError={(e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n                            const target = e.target as HTMLImageElement;\n                            target.onerror = null;\n                            // 确保SVG图标在任何背景下都可见\n                            const isLightBg = cardConfig.backgroundColor.replace(/\\s/g, '').toLowerCase() === '#ffffff' || \n                                           cardConfig.backgroundColor.replace(/\\s/g, '').toLowerCase() === '#fff';\n                            // 特殊处理掘金图标\n                            if (platform.id === 'juejin') {\n                              target.style.filter = 'invert(49%) sepia(98%) saturate(2259%) hue-rotate(202deg) brightness(103%) contrast(101%)';\n                            } else {\n                              target.style.filter = isLightBg ? 'none' : 'brightness(0) invert(1)';\n                            }\n                            target.src = platform.iconPath;\n                          }}\n                        />\n                          <Box sx={{ \n                            display: 'flex', \n                            flexDirection: 'column', \n                            overflow: 'hidden', \n                            width: '100%',\n                            minWidth: 0\n                          }}>\n                          <Typography variant=\"caption\" sx={{ \n                            fontFamily: 'inherit',\n                            opacity: 0.7,\n                            fontSize: layout.platformNameFontSize,\n                            whiteSpace: 'nowrap',\n                            overflow: 'hidden',\n                            textOverflow: 'ellipsis'\n                          }}>\n                            {platform.name}\n                          </Typography>\n                          <Typography variant=\"body2\" sx={{ \n                            fontFamily: 'inherit',\n                            fontWeight: 'bold',\n                            fontSize: layout.followersFontSize,\n                              overflow: 'visible',\n                              ...(platform.id === 'weibo' || platform.id === 'xiaohongshu' ? {\n                                lineHeight: 1.3,\n                                paddingBottom: '2px',\n                                whiteSpace: 'normal',\n                                wordBreak: 'break-word',\n                                hyphens: 'auto'\n                              } : {})\n                          }}>\n                            {formatNumber(followers)}\n                          </Typography>\n                        </Box>\n                      </Box>\n                    </Grid>\n                  );\n                })}\n              </Grid>\n              </Box>\n              \n              <Box \n                data-stats-box=\"true\"\n                sx={{ \n                  position: 'absolute',\n                  bottom: layout.statsBoxBottom,\n                  right: layout.statsBoxRight,\n                  top: 'auto',  // 明确设置为auto，防止Material-UI自动计算\n                  left: 'auto', // 明确设置为auto，防止Material-UI自动计算\n                  background: `linear-gradient(135deg, \n                    ${cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                    ? 'rgba(0,0,0,0.03)' : 'rgba(0,0,0,0.2)'}, \n                    ${cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                    cardConfig.backgroundColor.toLowerCase() === '#fff' \n                    ? 'rgba(0,0,0,0.08)' : 'rgba(0,0,0,0.4)'})`,\n                  backdropFilter: 'blur(6px)',\n                  padding: layout.statsBoxPadding,\n                  borderRadius: layout.statsBoxBorderRadius,\n                  boxShadow: '0 2px 10px rgba(0,0,0,0.08)',\n                  border: `1px solid ${cardConfig.backgroundColor.toLowerCase() === '#ffffff' || \n                           cardConfig.backgroundColor.toLowerCase() === '#fff' \n                           ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.12)'}`,\n                  zIndex: 10,\n                  maxWidth: '95%',\n                  overflow: 'hidden',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  '&::before': {\n                    content: '\"\"',\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    height: '1px',\n                    background: 'linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent)',\n                  }\n                }}\n              >\n                <Typography variant=\"body2\" sx={{ \n                  fontFamily: 'inherit',\n                  fontWeight: 'bold',\n                  fontSize: layout.statsTotalFontSize,\n                  display: 'flex',\n                  alignItems: 'center',\n                  marginBottom: '4px',\n                  '&::before': {\n                    content: '\"\"',\n                    display: 'inline-block',\n                    width: '6px',\n                    height: '6px',\n                    borderRadius: '50%',\n                    background: 'rgba(255,255,255,0.8)',\n                    marginRight: '6px',\n                    boxShadow: '0 0 4px rgba(255,255,255,0.5)'\n                  }\n                }}>\n                  {t('totalFollowersText')}: <Box component=\"span\" sx={{ ml: 0.5, fontWeight: 'bold', color: cardConfig.textColor }}>{formatNumber(totalFollowers)}</Box>\n                </Typography>\n                <Typography variant=\"caption\" sx={{ \n                  fontFamily: 'inherit',\n                  opacity: 0.9,\n                  fontSize: layout.statsDateFontSize,\n                  display: 'flex',\n                  alignItems: 'center',\n                  position: 'relative',\n                  paddingLeft: '12px',\n                  '&::before': {\n                    content: '\"\"',\n                    position: 'absolute',\n                    left: 0,\n                    top: '50%',\n                    width: '4px',\n                    height: '4px',\n                    borderRadius: '50%',\n                    background: 'rgba(255,255,255,0.5)',\n                    transform: 'translateY(-50%)'\n                  }\n                }}>\n                  {t('updatedAt')}: {formatDate(userData.updatedAt)}\n                </Typography>\n              </Box>\n            </Paper>\n        </Box>\n        \n          {/* 导出进度条 */}\n          {isExporting && (\n        <Box sx={{ \n          display: 'flex', \n              flexDirection: 'column', \n              alignItems: 'center', \n              mt: 2 \n            }}>\n              <CircularProgress \n                variant=\"determinate\" \n                value={exportProgress} \n                sx={{ mb: 1 }}\n              />\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {t('exportingCard')} {exportProgress}%\n              </Typography>\n            </Box>\n          )}\n\n          {/* 导出按钮 */}\n          <Box sx={{ display: 'flex', justifyContent: 'center', mt: 2 }}>\n          <Button\n              startIcon={<DownloadIcon />}\n              onClick={handleExport}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={isExporting}\n            sx={{\n                fontWeight: 'medium',\n              '&:hover': {\n                  backgroundColor: 'primary.dark',\n                transform: 'translateY(-2px)',\n                  boxShadow: '0 6px 10px rgba(0,0,0,0.2)'\n                }\n              }}\n            >\n              {t('exportCard')}\n          </Button>\n        </Box>\n      </Box>\n          </Box>\n    </div>\n  );\n};\n\nexport default MediaCard; ","import React, { useState, useEffect } from 'react';\nimport { Grid, Box, useMediaQuery, useTheme } from '@mui/material';\nimport Layout from './components/Layout';\nimport MediaForm from './components/MediaForm';\nimport MediaCard from './components/MediaCard';\nimport { ThemeContextProvider } from './contexts/ThemeContext';\nimport { UserData } from './types';\nimport './App.css';\n\n// 扩展Window接口以支持CompressionStream\ndeclare global {\n  interface Window {\n    CompressionStream?: any;\n  }\n}\n\n// 压缩数据\nfunction compressData(data: any): string {\n  try {\n    // 1. 将日期转为ISO字符串以减少体积\n    const preparedData = JSON.stringify(data, (key, value) => {\n      if (value instanceof Date) {\n        return { __date: value.toISOString() };\n      }\n      // 2. 移除null值以减少体积 (使用undefined替代，JSON会忽略undefined)\n      if (value === null) {\n        return undefined;\n      }\n      return value;\n    });\n    \n    // 3. 如果浏览器支持，使用压缩功能\n    if (typeof window.CompressionStream === 'function') {\n      // 高级压缩方法，在较新的浏览器中可用\n      // 注意：这是异步的，实际应用中需要适配\n      return preparedData;\n    }\n    \n    return preparedData;\n  } catch (error) {\n    console.error('压缩数据失败', error);\n    return JSON.stringify(data);\n  }\n}\n\n// 解压数据\nfunction decompressData(compressedData: string): any {\n  try {\n    // 解析JSON，特殊处理日期格式\n    return JSON.parse(compressedData, (key, value) => {\n      // 识别日期格式并转换回Date对象\n      if (value && typeof value === 'object' && value.__date) {\n        try {\n          return new Date(value.__date);\n        } catch (e) {\n          console.error(\"日期转换错误:\", e);\n          return new Date(); // 返回当前日期作为后备\n        }\n      }\n      return value;\n    });\n  } catch (error) {\n    console.error('解压数据失败', error);\n    return null;\n  }\n}\n\n// 智能存储管理\nclass StorageManager {\n  static KEY_PREFIX = 'mediaCard_';\n  static MAIN_DATA_KEY = 'mediaCard_userData';\n  \n  // 存储数据\n  static saveData(data: UserData): boolean {\n    try {\n      const compressedData = compressData(data);\n      \n      // 检查压缩后的数据大小\n      if (compressedData.length < 4000000) { // 保守估计，留有余量\n        localStorage.setItem(this.MAIN_DATA_KEY, compressedData);\n        return true;\n      } else {\n        console.warn('数据过大，尝试分片存储');\n        // 如果需要，这里可以实现分片存储逻辑\n        return false;\n      }\n    } catch (error) {\n      console.error('保存数据失败:', error);\n      \n      // 处理配额错误\n      if (error instanceof DOMException && \n         (error.name === 'QuotaExceededError' || error.name === 'NS_ERROR_DOM_QUOTA_REACHED')) {\n        // 清理旧数据\n        this.cleanupStorage();\n        try {\n          // 再次尝试\n          localStorage.setItem(this.MAIN_DATA_KEY, compressData(data));\n          return true;\n        } catch (innerError) {\n          console.error('清理后仍无法保存数据:', innerError);\n          return false;\n        }\n      }\n      return false;\n    }\n  }\n  \n  // 加载数据\n  static loadData(): UserData | null {\n    try {\n      const compressedData = localStorage.getItem(this.MAIN_DATA_KEY);\n      if (!compressedData) return null;\n      \n      return decompressData(compressedData);\n    } catch (error) {\n      console.error('加载数据失败:', error);\n      return null;\n    }\n  }\n  \n  // 清理存储空间\n  static cleanupStorage(): void {\n    // 识别并清理过期或冗余数据\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key && key.startsWith(this.KEY_PREFIX) && key !== this.MAIN_DATA_KEY) {\n        // 清理其他mediaCard相关的数据，但保留主数据\n        localStorage.removeItem(key);\n      }\n    }\n    \n    // 如果还有问题，尝试清理所有非关键数据\n    if (localStorage.length > 10) { // 假设有超过10项是不正常的\n      const keysToKeep = [this.MAIN_DATA_KEY];\n      const keysToRemove = [];\n      \n      for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i);\n        if (key && !keysToKeep.includes(key)) {\n          keysToRemove.push(key);\n        }\n      }\n      \n      // 按时间戳排序，优先删除旧数据（如果实现了时间戳）\n      keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n  }\n}\n\nconst initialUserData: UserData = {\n  socialMedia: {\n    // 中国主流平台\n    wechat: null,\n    douyin: null,\n    xiaohongshu: null,\n    weibo: null,\n    bilibili: null,\n    videoAccount: null,\n    kuaishou: null,\n    zhihu: null,\n    juejin: null,\n    \n    // 海外主流平台\n    twitter: null,\n    tiktok: null,\n    facebook: null,\n    instagram: null,\n    youtube: null,\n    linkedin: null,\n    reddit: null,\n    discord: null,\n    telegram: null,\n    snapchat: null\n  },\n  contactInfo: {\n    wechatId: '',\n    email: ''\n  },\n  updatedAt: new Date()\n};\n\nconst App: React.FC = () => {\n  const [userData, setUserData] = useState<UserData>(initialUserData);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  \n  // 从本地存储加载用户数据\n  useEffect(() => {\n    const loadedData = StorageManager.loadData();\n    if (loadedData) {\n      setUserData(loadedData);\n    }\n  }, []);\n\n  const handleUpdateUserData = (data: UserData) => {\n    setUserData(data);\n    // 使用优化后的存储管理\n    StorageManager.saveData(data);\n  };\n\n  return (\n    <div className=\"App\" style={{ \n      background: 'linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d)',\n      backgroundSize: 'cover',\n      backgroundAttachment: 'fixed',\n      minHeight: '100vh',\n      padding: isMobile ? '10px 0' : '20px 0', // 移动端减少内边距\n      position: 'relative',\n      overflowX: 'hidden', // 防止水平溢出\n      width: '100%' // 确保宽度 100%\n    }}>\n      <div style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundImage: 'url(/mediacardfluence2/bg-pattern.png)',\n        backgroundSize: '200px',\n        opacity: 0.05,\n        zIndex: 0,\n        pointerEvents: 'none'\n      }} />\n      <ThemeContextProvider>\n        <Layout>\n          <Grid \n            container \n            spacing={{ xs: 2, sm: 4, md: 6 }} // 移动端减少间距\n            direction=\"column\"\n            sx={{ mb: 4, width: '100%', mx: 0 }} // 确保网格占满宽度，无外边距\n          >\n            <Grid item xs={12}>\n              <MediaForm \n                userData={userData} \n                onUpdateUserData={handleUpdateUserData} \n              />\n            </Grid>\n            <Grid \n              item \n              xs={12}\n              sx={{\n                mt: { xs: 1, sm: 2, md: 4 }, // 根据屏幕大小调整上边距\n                display: 'flex',\n                justifyContent: 'center',\n                width: '100%' // 确保宽度 100%\n              }}\n            >\n              <Box \n                sx={{ \n                  width: '100%',\n                  overflow: 'visible',\n                  position: 'relative',\n                  px: { xs: 1, sm: 2 } // 添加水平内边距\n                }}\n              >\n                <MediaCard userData={userData} />\n              </Box>\n            </Grid>\n          </Grid>\n        </Layout>\n      </ThemeContextProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const generateFavicon = () => {\r\n  // 创建画布\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = 64;\r\n  canvas.height = 64;\r\n  const ctx = canvas.getContext('2d');\r\n  \r\n  if (!ctx) return;\r\n  \r\n  // 绘制背景渐变\r\n  const bgGradient = ctx.createLinearGradient(0, 0, 64, 64);\r\n  bgGradient.addColorStop(0, '#1976D2');\r\n  bgGradient.addColorStop(1, '#1565C0');\r\n  \r\n  // 绘制阴影\r\n  ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';\r\n  ctx.shadowBlur = 6;\r\n  ctx.shadowOffsetX = 0;\r\n  ctx.shadowOffsetY = 3;\r\n  \r\n  // 绘制圆角背景\r\n  ctx.fillStyle = bgGradient;\r\n  ctx.beginPath();\r\n  ctx.roundRect(0, 0, 64, 64, 16);\r\n  ctx.fill();\r\n  \r\n  // 重置阴影\r\n  ctx.shadowBlur = 0;\r\n  ctx.shadowOffsetX = 0;\r\n  ctx.shadowOffsetY = 0;\r\n  \r\n  // 绘制内部矩形\r\n  ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';\r\n  ctx.beginPath();\r\n  ctx.roundRect(12, 12, 40, 40, 10);\r\n  ctx.fill();\r\n  \r\n  // 绘制中心矩形的渐变\r\n  const innerGradient = ctx.createLinearGradient(20, 20, 44, 44);\r\n  innerGradient.addColorStop(0, '#1976D2');\r\n  innerGradient.addColorStop(1, '#42A5F5');\r\n  \r\n  // 绘制中心矩形\r\n  ctx.fillStyle = innerGradient;\r\n  ctx.beginPath();\r\n  ctx.roundRect(20, 20, 24, 24, 6);\r\n  ctx.fill();\r\n  \r\n  // 添加高光效果\r\n  ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';\r\n  ctx.beginPath();\r\n  ctx.roundRect(20, 20, 24, 12, [6, 6, 0, 0]);\r\n  ctx.fill();\r\n  \r\n  // 绘制中心圆点\r\n  ctx.fillStyle = 'white';\r\n  ctx.beginPath();\r\n  ctx.arc(32, 32, 5, 0, Math.PI * 2);\r\n  ctx.fill();\r\n  \r\n  // 添加细微高光\r\n  ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';\r\n  ctx.beginPath();\r\n  ctx.arc(30, 30, 2, 0, Math.PI * 2);\r\n  ctx.fill();\r\n  \r\n  // 转换为数据URL\r\n  const dataUrl = canvas.toDataURL('image/png');\r\n  \r\n  // 设置favicon\r\n  let link = document.querySelector(\"link[rel='icon']\") as HTMLLinkElement;\r\n  \r\n  if (!link) {\r\n    link = document.createElement('link');\r\n    link.rel = 'icon';\r\n    document.head.appendChild(link);\r\n  }\r\n  \r\n  link.href = dataUrl;\r\n  \r\n  // 设置Apple touch icon\r\n  let appleLink = document.querySelector(\"link[rel='apple-touch-icon']\") as HTMLLinkElement;\r\n  \r\n  if (!appleLink) {\r\n    appleLink = document.createElement('link');\r\n    appleLink.rel = 'apple-touch-icon';\r\n    document.head.appendChild(appleLink);\r\n  }\r\n  \r\n  appleLink.href = dataUrl;\r\n  \r\n  return dataUrl;\r\n};\r\n\r\nexport default generateFavicon; ","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport generateFavicon from './utils/CreateFavicon';\r\n\r\n// 在应用启动时生成并应用favicon\r\ngenerateFavicon();\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById('root') as HTMLElement\r\n);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals(); ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"cf676dcc\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/mediacardfluence2/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmediacardfluence2\"] = self[\"webpackChunkmediacardfluence2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [658,216,309,931,915,149,308,640,767,239,772,391,195], () => (__webpack_require__(1497)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","appTitle","toggleDarkMode","toggleLightMode","githubRepo","contactMe","wechatContact","emailContact","socialMediaData","totalFollowers","updatedAt","resetData","adaptToScreen","exportCard","exportingCard","contactWay","inputYourData","contactInfoType","wechatId","email","twitter","facebook","weibo","douyin","xiaohongshu","discord","reddit","tiktok","telegram","showMorePlatforms","resetAll","followers","fansPlaceholder","wechatPlaceholder","emailPlaceholder","twitterPlaceholder","facebookPlaceholder","weiboPlaceholder","douyinPlaceholder","xiaohongshuPlaceholder","discordPlaceholder","redditPlaceholder","tiktokPlaceholder","telegramPlaceholder","cardSettings","cardTitle","morePlatforms","remaining","viewSourceCode","aspectRatio","custom","cardSize","width","height","borderRadius","iconSize","font","backgroundColor","textColor","watermarkSettings","showWatermark","watermarkText","watermarkPosition","opacity","fontSize","watermarkColor","exportSettings","exportFormat","pngFormat","jpegFormat","scale","quality","low","medium","high","bottomRight","bottomLeft","topRight","topLeft","center","totalFollowersText","sizeOverrides","backgroundImage","enableBackground","imageSource","uploadImage","themeBackground","displaySettings","imageEffects","blur","brightness","contrast","saturation","sepia","blendMode","position","size","repeat","normal","multiply","screen","overlay","softLight","cover","contain","auto","stretch","noRepeat","repeatX","repeatY","left","right","top","bottom","selectThemeBackground","selectStyleVariant","darkTheme","lightTheme","selected","uploadImageHere","dropFileHere","supportedFormats","selectFile","processingImage","removeImage","uploadedBackground","blurDescription","brightnessDescription","contrastDescription","saturationDescription","sepiaDescription","resetEffects","imageEffectsTitle","effectsPresets","brightEffect","darkEffect","vintageEffect","softFocusEffect","mayBeCropped","completeDisplay","mayBeDeformed","ThemeContext","createContext","undefined","getInitialLanguage","storedLanguage","localStorage","getItem","includes","primaryLang","navigator","language","toLowerCase","chineseVariants","some","variant","startsWith","languages","lang","langLower","getInitialTheme","storedMode","window","matchMedia","matches","ThemeContextProvider","_ref","children","mode","setMode","useState","setLanguageState","useEffect","mediaQuery","handleChange","e","newMode","setItem","addListener","removeListener","theme","createTheme","palette","primary","main","secondary","background","default","paper","typography","fontFamily","join","components","MuiButton","styleOverrides","root","textTransform","MuiPaper","_jsx","Provider","value","toggleTheme","setLanguage","t","key","zh","en","_jsxs","ThemeProvider","CssBaseline","GlobalStyles","styles","scrollbarWidth","scrollbarColor","border","useThemeContext","context","useContext","Error","drawerOpen","setDrawerOpen","isMobile","useMediaQuery","isDarkMode","arguments","length","canvas","document","createElement","ctx","getContext","primaryColor","secondaryColor","shadowColor","bgGradient","createLinearGradient","addColorStop","shadowBlur","shadowOffsetX","shadowOffsetY","fillStyle","beginPath","roundRect","fill","innerGradient","arc","Math","PI","dataUrl","toDataURL","link","querySelector","rel","head","appendChild","href","appleLink","createFavicon","handleDrawerToggle","_Fragment","Box","sx","display","flexDirection","minHeight","AppBar","color","elevation","backdropFilter","borderBottom","borderColor","Container","maxWidth","px","xs","sm","md","Toolbar","disableGutters","justifyContent","alignItems","Typography","component","fontWeight","backgroundClip","WebkitBackgroundClip","textShadow","IconButton","edge","onClick","MenuIcon","Tooltip","title","transition","transform","TranslateIcon","ml","Brightness7Icon","Brightness4Icon","target","GitHubIcon","Drawer","anchor","open","onClose","boxShadow","borderLeft","p","WebkitTextFillColor","textFillColor","letterSpacing","CloseIcon","List","ListItem","mb","py","cursor","bgcolor","mr","textDecoration","mt","borderTop","gap","flexGrow","socialPlatforms","id","name","iconPath","pngPath","priority","region","getSortedPlatforms","sort","a","b","initialSocialMediaData","wechat","bilibili","videoAccount","kuaishou","zhihu","juejin","instagram","youtube","linkedin","snapchat","initialContactInfo","React","_userData$contactInfo","_userData$contactInfo2","_userData$contactInfo3","_userData$contactInfo4","_userData$contactInfo5","_userData$contactInfo6","_userData$contactInfo7","_userData$contactInfo8","_userData$contactInfo9","_userData$contactInfo10","_userData$contactInfo11","_getContactOptions$fi","_getContactOptions$fi2","userData","onUpdateUserData","socialMedia","setSocialMedia","contactInfo","setContactInfo","contactType","setContactType","localWechatId","setLocalWechatId","localEmail","setLocalEmail","localTwitter","setLocalTwitter","localFacebook","setLocalFacebook","localWeibo","setLocalWeibo","localDouyin","setLocalDouyin","localXiaohongshu","setLocalXiaohongshu","localDiscord","setLocalDiscord","localReddit","setLocalReddit","localTiktok","setLocalTiktok","localTelegram","setLocalTelegram","initializeLocalSocialMedia","result","Object","entries","forEach","_ref2","String","localSocialMedia","setLocalSocialMedia","visiblePlatformsCount","setVisiblePlatformsCount","_userData$contactInfo12","_userData$contactInfo13","_userData$contactInfo14","_userData$contactInfo15","_userData$contactInfo16","_userData$contactInfo17","_userData$contactInfo18","_userData$contactInfo19","_userData$contactInfo20","_userData$contactInfo21","_userData$contactInfo22","updateUserData","useCallback","Date","timer","setTimeout","clearTimeout","visiblePlatforms","visibleCount","sortedPlatforms","slice","min","getPaginatedPlatforms","hasMorePlatforms","getContactOptions","label","icon","Paper","gutterBottom","pb","Grid","container","spacing","map","platform","item","TextField","fullWidth","type","placeholder","onChange","handleSocialMediaChange","prev","numValue","Number","InputProps","startAdornment","InputAdornment","objectFit","alt","src","onError","onerror","endAdornment","inputProps","max","Button","handleShowMorePlatforms","startIcon","borderWidth","FormControl","InputLabel","Select","labelId","newContactType","option","MenuItem","style","find","_getContactOptions$fi3","_getContactOptions$fi4","iconName","replace","disableUnderline","handleReset","RefreshIcon","minWidth","MAX_FILE_SIZE","SUPPORTED_FORMATS","SUPPORTED_EXTENSIONS","checkImageIntegrity","async","Promise","resolve","img","Image","url","URL","createObjectURL","file","onload","revokeObjectURL","formatFileSize","bytes","i","floor","log","parseFloat","pow","toFixed","onImageUpload","onImageRemove","currentImage","disabled","isDragOver","setIsDragOver","uploading","setUploading","error","setError","processFile","validation","isValid","round","fileName","ext","endsWith","validateImage","uploadedImage","convertFileToDataUrl","err","handleDragOver","preventDefault","handleDragLeave","handleDrop","files","Array","from","dataTransfer","handleFileSelect","reject","reader","FileReader","event","_event$target","readAsDataURL","handleRemoveImage","textAlign","ImageIcon","Chip","maxHeight","DeleteIcon","onDragOver","onDragLeave","onDrop","LinearProgress","CloudUploadIcon","accept","htmlFor","Alert","severity","themeBackgrounds","category","description","thumbnail","variants","path","darkMode","onThemeSelect","selectedThemeId","selectedVariantId","onFontColorSuggestion","cardWidth","cardHeight","selectedTheme","setSelectedTheme","getSelectedTheme","Card","firstVariant","themeId","variantId","handleThemeClick","CardMedia","overflow","backgroundSize","backgroundPosition","backgroundRepeat","CardContent","ToggleButtonGroup","exclusive","handleVariantChange","_event","newVariantId","currentTheme","v","flexWrap","ToggleButton","_getSelectedTheme","buildFilterString","effects","filters","push","isDefaultEffects","defaultEffects","effectConfigs","step","unit","Accordion","defaultExpanded","AccordionSummary","expandIcon","ExpandMoreIcon","AccordionDetails","config","Slider","_","handleEffectChange","effectName","formatValue","_config$source$themeI6","_config$source$themeI7","selectedThemeImage","setSelectedThemeImage","shouldShowDisplaySettings","useMemo","_config$source$upload","_config$source$themeI","sourceType","source","hasUploadedImage","hasThemeImage","themeImage","hasValidSource","willShowDisplaySettings","_config$source$themeI2","_config$source$themeI3","enabled","_config$source$themeI4","_config$source$themeI5","handleDisplayChange","property","FormControlLabel","control","Switch","checked","handleSourceTypeChange","newType","UploadIcon","PaletteIcon","ImageUploader","image","handleImageRemove","ThemeSelector","newConfig","Divider","my","ImageEffectsPanel","cardConfig","exportOptions","onConfigChange","onExportOptionsChange","handleWatermarkChange","watermark","handleExportOptionChange","handleBackgroundImageChange","handleSuggestedTextColor","suggestedTextColor","watermarkPositions","handleAspectRatioChange","newAspectRatio","marks","valueLabelDisplay","split","InputLabelProps","shrink","text","pos","valueLabelFormat","format","BackgroundImagePanel","parseInt","formatDate","date","d","isNaN","getTime","toLocaleDateString","year","month","day","getResponsiveSize","baseSize","isTablet","CANVAS_SETTINGS","allowTaint","useCORS","logging","scrollX","scrollY","foreignObjectRendering","removeContainer","ImageCache","getOrCache","this","cache","has","get","response","fetch","ok","status","blob","set","clear","Map","waitForAllImages","images","element","querySelectorAll","bgImageElements","filter","el","bgImage","getComputedStyle","pendingImages","index","promise","then","catch","urlMatch","match","all","preloadAndCacheImages","imagePromises","complete","naturalHeight","addEventListener","once","waitForImageLoad","requestAnimationFrame","applyOtherExportStylesSync","clonedElement","_cardConfig$backgroun","_cardConfig$backgroun2","backgroundElements","div","className","statsEl","computedStyle","currentBottom","currentRight","currentTop","currentLeft","zIndex","cssText","newStyle","getAttribute","currentStyle","setAttribute","tagName","textContent","trim","_el$textContent","isDarkBackground","webkitBackdropFilter","cardRef","useRef","containerRef","isExporting","setIsExporting","exportProgress","setExportProgress","setScale","useTheme","breakpoints","down","between","heightLocked","setHeightLocked","setCardHeight","setCardConfig","setExportOptions","values","reduce","sum","handleAdaptToScreen","current","containerWidth","clientWidth","newWidth","actualHeight","offsetHeight","timeoutId","currentContainer","calculateScale","newScale","resizeObserver","ResizeObserver","observe","unobserve","getDimensions","layout","getLayoutConfig","ratio","titleFontSize","titleMarginBottom","chipHeight","chipFontSize","chipPadding","chipMarginBottom","contactLabelFontSize","gridSpacing","platformItemPadding","platformItemBorderRadius","platformItemMarginBottom","iconMarginRight","iconPadding","platformNameFontSize","followersFontSize","statsBoxBottom","statsBoxRight","statsBoxPadding","statsBoxBorderRadius","statsTotalFontSize","statsDateFontSize","cardPadding","formatNumber","num","formatted","toString","handleCardConfigChange","ref","CardStyleConfig","newOptions","newHeight","transformOrigin","padding","boxSizing","renderBackgroundImage","backgroundImageUrl","backgroundStyle","mixBlendMode","renderWatermark","pointerEvents","userSelect","lineHeight","wordBreak","marginBottom","avatar","gridTemplateColumns","margin","mx","marginRight","flexShrink","isLightBg","whiteSpace","textOverflow","paddingBottom","hyphens","content","paddingLeft","CircularProgress","DownloadIcon","onProgress","rect","getBoundingClientRect","elementWidth","elementHeight","html2canvas","onclone","clonedDocument","download","now","body","click","removeChild","compressData","data","preparedData","JSON","stringify","__date","toISOString","CompressionStream","StorageManager","saveData","compressedData","MAIN_DATA_KEY","DOMException","cleanupStorage","innerError","loadData","parse","decompressData","KEY_PREFIX","removeItem","keysToKeep","keysToRemove","initialUserData","App","setUserData","loadedData","backgroundAttachment","overflowX","Layout","direction","MediaForm","MediaCard","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","generateFavicon","ReactDOM","getElementById","render","reportWebVitals","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","getPrototypeOf","obj","ns","create","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","f","chunkId","promises","u","miniCssF","prop","prototype","hasOwnProperty","l","done","script","needAttach","scripts","getElementsByTagName","s","charset","timeout","nc","onScriptComplete","doneFns","parentNode","bind","Symbol","toStringTag","installedChunks","installedChunkData","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}